var mt={apiKey:"e9958093",apiUrl:"https://trial.mobiscroll.com/"},Hs='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"/></svg>',An='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"/></svg>',Ls='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"/></svg>',Ys='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"/></svg>',Fa='<svg xmlns="http://www.w3.org/2000/svg" height="17" viewBox="0 0 17 17" width="17"><path d="M8.5 0a8.5 8.5 0 110 17 8.5 8.5 0 010-17zm3.364 5.005a.7.7 0 00-.99 0l-2.44 2.44-2.439-2.44-.087-.074a.7.7 0 00-.903 1.064l2.44 2.439-2.44 2.44-.074.087a.7.7 0 001.064.903l2.439-2.441 2.44 2.441.087.074a.7.7 0 00.903-1.064l-2.441-2.44 2.441-2.439.074-.087a.7.7 0 00-.074-.903z" fill="currentColor" fill-rule="evenodd"/></svg>',Ra=function(a,s){return Ra=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Ra(a,s)};function $(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function e(){this.constructor=a}Ra(a,s),a.prototype=s===null?Object.create(s):(e.prototype=s.prototype,new e)}var W=function(){return W=Object.assign||function(a){for(var s,e=1,t=arguments.length;e<t;e++)for(var n in s=arguments[e])Object.prototype.hasOwnProperty.call(s,n)&&(a[n]=s[n]);return a},W.apply(this,arguments)};function dt(a,s){var e={};for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&s.indexOf(t)<0&&(e[t]=a[t]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function"){var n=0;for(t=Object.getOwnPropertySymbols(a);n<t.length;n++)s.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(a,t[n])&&(e[t[n]]=a[t[n]])}return e}var bt,Zt,Ot=function(){function a(){this.nr=0,this.keys=1,this.subscribers={}}return a.prototype.subscribe=function(s){var e=this.keys++;return this.subscribers[e]=s,this.nr++,e},a.prototype.unsubscribe=function(s){this.nr--,delete this.subscribers[s]},a.prototype.next=function(s){for(var e=this.subscribers,t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];e[r]&&e[r](s)}},a}(),qn=[],Wn=!1,qe=typeof window<"u",va=qe&&window.matchMedia&&window.matchMedia("(prefers-color-scheme:dark)"),Jt=qe?navigator.userAgent:"",Os=qe?navigator.platform:"",fr=qe?navigator.maxTouchPoints:0,On=Jt&&Jt.match(/Android|iPhone|iPad|iPod|Windows Phone|Windows|MSIE/i),vr=Jt&&/Safari/.test(Jt);/Android/i.test(On)?(bt="android",Zt=Jt.match(/Android\s+([\d.]+)/i),Wn=!0,Zt&&(qn=Zt[0].replace("Android ","").split("."))):/iPhone|iPad|iPod/i.test(On)||/iPhone|iPad|iPod/i.test(Os)||Os==="MacIntel"&&fr>1?(bt="ios",Zt=Jt.match(/OS\s+([\d_]+)/i),Wn=!0,Zt&&(qn=Zt[0].replace(/_/g,".").replace("OS ","").split("."))):/Windows Phone/i.test(On)?(bt="wp",Wn=!0):/Windows|MSIE/i.test(On)&&(bt="windows");var Va=+qn[0],zl=+qn[1],It={},Ps={},pt={},is={},Gn=new Ot;function wi(){var a="",s="",e="";for(var t in s=bt==="android"?"material":bt==="wp"||bt==="windows"?"windows":"ios",pt){if(pt[t].baseTheme===s&&pt[t].auto!==!1&&t!==s+"-dark"){a=t;break}t===s?a=t:e||(e=t)}return a||e}function ki(a){for(var s=0,e=Object.keys(a);s<e.length;s++){var t=e[s];It[t]=a[t]}qe&&Gn.next(It)}function rs(a,s,e){var t=pt[s];pt[a]=W({},t,{auto:e,baseTheme:s}),is.theme=wi()}var ga={clearIcon:Fa,labelStyle:"inline"};pt.ios={Calendar:{nextIconH:Ls,nextIconV:An,prevIconH:Hs,prevIconV:Ys},Checkbox:{position:"end"},Datepicker:{clearIcon:Fa,display:"bottom"},Dropdown:ga,Eventcalendar:{chevronIconDown:An,nextIconH:Ls,nextIconV:An,prevIconH:Hs,prevIconV:Ys},Input:ga,Radio:{position:"end"},Scroller:{display:"bottom",itemHeight:34,minWheelWidth:55,rows:5,scroll3d:!0},SegmentedGroup:{drag:!0},Select:{clearIcon:Fa},Textarea:ga},rs("ios-dark","ios");var za='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',Fs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 14l5-5 5 5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',Rs='<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><path d="M23.12 11.12L21 9l-9 9 9 9 2.12-2.12L16.24 18z"/></svg>',Vs='<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><path d="M15 9l-2.12 2.12L19.76 18l-6.88 6.88L15 27l9-9z"/></svg>',Aa='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"/></svg>',ya='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/><path fill="none" d="M0 0h24v24H0V0z"/></svg>',zs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',ba={clearIcon:Aa,dropdownIcon:za,inputStyle:"box",labelStyle:"floating",notch:!0,ripple:!0};pt.material={Button:{ripple:!0},Calendar:{downIcon:za,nextIconH:Vs,nextIconV:ya,prevIconH:Rs,prevIconV:zs,upIcon:Fs},Datepicker:{clearIcon:Aa,display:"center"},Dropdown:ba,Eventcalendar:{chevronIconDown:ya,colorEventList:!0,downIcon:za,nextIconH:Vs,nextIconV:ya,prevIconH:Rs,prevIconV:zs,upIcon:Fs},Input:ba,ListItem:{ripple:!0},Scroller:{display:"center",rows:3},Select:{clearIcon:Aa,rows:3},Textarea:ba},rs("material-dark","material");var As='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19.03 4.28l-11 11-.686.72.687.72 11 11 1.44-1.44L10.187 16l10.28-10.28-1.437-1.44z"/></svg>',Ws='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M12.97 4.28l-1.44 1.44L21.814 16 11.53 26.28l1.44 1.44 11-11 .686-.72-.687-.72-11-11z"/></svg>',Us='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M15 4v20.063L8.22 17.28l-1.44 1.44 8.5 8.5.72.686.72-.687 8.5-8.5-1.44-1.44L17 24.063V4h-2z"/></svg>',Bs='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M16 4.094l-.72.687-8.5 8.5 1.44 1.44L15 7.936V28h2V7.937l6.78 6.782 1.44-1.44-8.5-8.5-.72-.686z"/></svg>',Wa='<svg fill="#000000" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32px" height="32px"><path d="M 7.21875 5.78125 L 5.78125 7.21875 L 14.5625 16 L 5.78125 24.78125 L 7.21875 26.21875 L 16 17.4375 L 24.78125 26.21875 L 26.21875 24.78125 L 17.4375 16 L 26.21875 7.21875 L 24.78125 5.78125 L 16 14.5625 Z"/></svg>',xa={clearIcon:Wa,inputStyle:"box",labelStyle:"stacked"};pt.windows={Calendar:{nextIconH:Ws,nextIconV:Us,prevIconH:As,prevIconV:Bs},Checkbox:{position:"start"},Datepicker:{clearIcon:Wa,display:"center"},Dropdown:xa,Eventcalendar:{chevronIconDown:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M4.22 10.78l-1.44 1.44 12.5 12.5.72.686.72-.687 12.5-12.5-1.44-1.44L16 22.564 4.22 10.78z"/></svg>',nextIconH:Ws,nextIconV:Us,prevIconH:As,prevIconV:Bs},Input:xa,Scroller:{display:"center",itemHeight:44,minWheelWidth:88,rows:6},Select:{clearIcon:Wa,rows:6},Textarea:xa},rs("windows-dark","windows"),is.theme=wi();var js=Dn(3),Xs=Dn(4),Mi=Dn(7);function Oe(a,s,e){return Math.max(s,Math.min(a,e))}function gr(a,s){return W({},a,s)}function Be(a){return Array.isArray(a)}function Ei(a){return a-parseFloat(a)>=0}function Ni(a){return typeof a=="number"}function le(a){return typeof a=="string"}function nt(a){return a==null||a===""}function qs(a){return a===void 0}function yr(a){return typeof a=="object"}function Qe(a){return a!=null&&""+a!="false"}function Dn(a){return Array.apply(0,Array(Math.max(0,a)))}function Nt(a){return a!==void 0?a+(Ei(a)?"px":""):""}function na(){}function Gs(a,s){s===void 0&&(s=2);for(var e=a+"";e.length<s;)e="0"+e;return e}function Ze(a){return Math.round(a)}function Js(a,s){return De(a/s)*s}function De(a){return Math.floor(a)}function br(a,s){var e,t;return s===void 0&&(s=100),function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=+new Date;e&&i<e+s?(clearTimeout(t),t=setTimeout(function(){e=i,a.apply(void 0,n)},s)):(e=i,a.apply(void 0,n))}}function xr(a,s){var e;return s===void 0&&(s=100),function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];clearTimeout(e),e=setTimeout(function(){a.apply(void 0,t)},s)}}function jt(a,s){a._cdr?setTimeout(s):s()}function Dr(a,s){return Tr(a,s,!0)}function Tr(a,s,e){for(var t=a.length,n=0;n<t;n++){var r=a[n];if(s(r,n))return e?n:r}return e?-1:void 0}function Da(a){var s=[];if(a)for(var e=0,t=Object.keys(a);e<t.length;e++){var n=t[e];s.push(a[n])}return s}Dn(24);var st=new Date(1970,0,1);function Pt(a){return!!a._mbsc}function Pn(a,s,e){var t=e||s.dataTimezone||s.displayTimezone,n=s.timezonePlugin;if(t&&n&&Pt(a)){var r=a.clone();return r.setTimezone(t),r.toISOString()}return a}var os={amText:"am",dateFormat:"MM/DD/YYYY",dateFormatFull:"DDDD, MMMM D, YYYY",dateFormatLong:"D DDD MMM YYYY",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesMin:["S","M","T","W","T","F","S"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daySuffix:"",firstDay:0,fromText:"Start",getDate:Yi,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthSuffix:"",pmText:"pm",quarterText:"Q{count}",separator:" ",shortYearCutoff:"+10",timeFormat:"h:mm A",toText:"End",todayText:"Today",weekText:"Week {count}",yearSuffix:"",getMonth:function(a){return a.getMonth()},getDay:function(a){return a.getDate()},getYear:function(a){return a.getFullYear()},getMaxDayOfMonth:function(a,s){return 32-new Date(a,s,32,12).getDate()},getWeekNumber:function(a){var s=new Date(+a);s.setHours(0,0,0),s.setDate(s.getDate()+4-(s.getDay()||7));var e=new Date(s.getFullYear(),0,1);return Math.ceil(((s-e)/864e5+1)/7)}},Ii=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[T\s](\d{2}):?(\d{2})(?::?(\d{2})(?:\.(\d{3}))?)?((Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/,Hi=/^((\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Ks(a,s,e){var t,n,r={y:1,m:2,d:3,h:4,i:5,s:6,u:7,tz:8};if(e)for(var i=0,l=Object.keys(r);i<l.length;i++)(n=a[r[t=l[i]]-s])&&(e[t]=t==="tz"?n:1)}function Re(a){return+new Date(1970,0,1,a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())-+st}function Xt(a,s,e,t,n){var r=+a,i=+e;return r<(n&&i===+t?+t+1:+t)&&(n&&r===+s?+s+1:+s)>i}function Sr(a,s){var e=ie(a,s);return e.setHours(0,0,0,0),e}function Cr(a,s){var e=ie(a,s);return e.setHours(23,59,59,999),e}function lt(a,s,e,t,n){return(!s&&!n||a.exclusiveEndDates)&&e&&t&&e<t?ie(s?void 0:a,+t-1):t}function Te(a){return a.getFullYear()+"-"+Gs(a.getMonth()+1)+"-"+Gs(a.getDate())}function me(a,s){return Pt(a)&&!s?a.createDate(a.getFullYear(),a.getMonth(),a.getDate()):Yi(a.getFullYear(),a.getMonth(),a.getDate())}function Zs(a){return Date.UTC(a.getFullYear(),a.getMonth(),a.getDate())}function ft(a,s){return Ze((Zs(s)-Zs(a))/864e5)}function Li(a,s,e,t){for(var n=-1,r=me(a);r<=me(s);r.setDate(r.getDate()+1))_t(r.getDay(),e,t)&&n++;return n}function Ke(a,s,e){var t=a.getFullYear(),n=a.getMonth(),r=a.getDay(),i=e===void 0?s.firstDay:e;return new Date(t,n,i-(i-r>0?7:0)-r+a.getDate())}function Pe(a,s){return a.getFullYear()===s.getFullYear()&&a.getMonth()===s.getMonth()&&a.getDate()===s.getDate()}function $s(a,s,e){return e.getYear(a)===e.getYear(s)&&e.getMonth(a)===e.getMonth(s)}function Yi(a,s,e,t,n,r,i){var l=new Date(a,s,e,t||0,n||0,r||0,i||0);return l.getHours()===23&&(t||0)===0&&l.setHours(l.getHours()+2),l}function Oi(a){return a.getTime}function Tt(a,s){return ie(a,s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds())}function ls(a){return a&&new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())}function ie(a,s,e,t,n,r,i,l){return s===null?null:s&&(Ni(s)||le(s))&&qs(e)?ne(s,a):a&&a.timezonePlugin?a.timezonePlugin.createDate(a,s,e,t,n,r,i,l):yr(s)?new Date(s):qs(s)?new Date:new Date(s,e||0,t||1,n||0,r||0,i||0,l||0)}function ne(a,s,e,t,n){var r;if(le(a)&&(a=a.trim()),!a)return null;var i=s&&s.timezonePlugin;if(i&&!n){var l=Pt(a)?a:i.parse(a,s);return l.setTimezone(s.displayTimezone),l}if(Oi(a))return a;if(a._isAMomentObject)return a.toDate();if(Ni(a))return new Date(a);r=Hi.exec(a);var d=s&&s.defaultValue,u=ne((Be(d)?d[0]:d)||new Date),o=u.getFullYear(),c=u.getMonth(),_=u.getDate();return r?(Ks(r,2,t),new Date(o,c,_,r[2]?+r[2]:0,r[3]?+r[3]:0,r[4]?+r[4]:0,r[5]?+r[5]:0)):(r=Ii.exec(a))?(Ks(r,0,t),new Date(r[1]?+r[1]:o,r[2]?r[2]-1:c,r[3]?+r[3]:_,r[4]?+r[4]:0,r[5]?+r[5]:0,r[6]?+r[6]:0,r[7]?+r[7]:0)):Pi(e,a,s)}function wr(a,s,e){return Le(a,s,W({},os,It.locale,e))}function Le(a,s,e){var t,n,r="",i=!1,l=function(_){for(var h=0,p=t;p+1<a.length&&a.charAt(p+1)===_;)h++,p++;return h},d=function(_){var h=l(_);return t+=h,h},u=function(_,h,p){var v=""+h;if(d(_))for(;v.length<p;)v="0"+v;return v},o=function(_,h,p,v){return d(_)===3?v[h]:p[h]};for(t=0;t<a.length;t++)if(i)a.charAt(t)!=="'"||d("'")?r+=a.charAt(t):i=!1;else switch(a.charAt(t)){case"D":r+=l("D")>1?o("D",s.getDay(),e.dayNamesShort,e.dayNames):u("D",e.getDay(s),2);break;case"M":r+=l("M")>1?o("M",e.getMonth(s),e.monthNamesShort,e.monthNames):u("M",e.getMonth(s)+1,2);break;case"Y":n=e.getYear(s),r+=d("Y")===3?n:(n%100<10?"0":"")+n%100;break;case"h":var c=s.getHours();r+=u("h",c>12?c-12:c===0?12:c,2);break;case"H":r+=u("H",s.getHours(),2);break;case"m":r+=u("m",s.getMinutes(),2);break;case"s":r+=u("s",s.getSeconds(),2);break;case"a":r+=s.getHours()>11?e.pmText:e.amText;break;case"A":r+=s.getHours()>11?e.pmText.toUpperCase():e.amText.toUpperCase();break;case"'":d("'")?r+="'":i=!0;break;default:r+=a.charAt(t)}return r}function Pi(a,s,e){var t=W({},os,e),n=ne(t.defaultValue||new Date);if(!s)return n;a||(a=t.dateFormat+t.separator+t.timeFormat);var r,i=t.shortYearCutoff,l=t.getYear(n),d=t.getMonth(n)+1,u=t.getDay(n),o=n.getHours(),c=n.getMinutes(),_=0,h=-1,p=!1,v=0,g=function(w){for(var C=0,k=r;k+1<a.length&&a.charAt(k+1)===w;)C++,k++;return C},f=function(w){var C=g(w);return r+=C,C},y=function(w){var C=f(w),k=new RegExp("^\\d{1,"+(C>=2?4:2)+"}"),L=s.substr(v).match(k);return L?(v+=L[0].length,parseInt(L[0],10)):0},b=function(w,C,k){for(var L=f(w)===3?k:C,z=0;z<L.length;z++)if(s.substr(v,L[z].length).toLowerCase()===L[z].toLowerCase())return v+=L[z].length,z+1;return 0},x=function(){v++};for(r=0;r<a.length;r++)if(p)a.charAt(r)!=="'"||f("'")?x():p=!1;else switch(a.charAt(r)){case"Y":l=y("Y");break;case"M":d=g("M")<2?y("M"):b("M",t.monthNamesShort,t.monthNames);break;case"D":g("D")<2?u=y("D"):b("D",t.dayNamesShort,t.dayNames);break;case"H":o=y("H");break;case"h":o=y("h");break;case"m":c=y("m");break;case"s":_=y("s");break;case"a":h=b("a",[t.amText,t.pmText],[t.amText,t.pmText])-1;break;case"A":h=b("A",[t.amText,t.pmText],[t.amText,t.pmText])-1;break;case"'":f("'")?x():p=!0;break;default:x()}if(l<100){var T=void 0;T=l<=(le(i)?new Date().getFullYear()%100+parseInt(i,10):+i)?0:-100,l+=new Date().getFullYear()-new Date().getFullYear()%100+T}o=h===-1?o:h&&o<12?o+12:h||o!==12?o:0;var S=t.getDate(l,d-1,u,o,c,_);return t.getYear(S)!==l||t.getMonth(S)+1!==d||t.getDay(S)!==u?n:S}function Fi(a){return Pt(a)?a.clone():new Date(a)}function te(a,s){var e=Fi(a);return e.setDate(e.getDate()+s),e}function Ut(a,s,e){var t=e.getYear(a),n=e.getMonth(a)+s,r=e.getMaxDayOfMonth(t,n);return Tt(e,e.getDate(t,n,Math.min(e.getDay(a),r),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()))}function _t(a,s,e){return s>e?a<=e||a>=s:a>=s&&a<=e}function Et(a,s){var e=6e4*s,t=Fi(a).setHours(0,0,0,0),n=t+Math.round((+a-+t)/e)*e;return Pt(a)?a.createDate(n):new Date(n)}qe&&typeof Symbol>"u"&&(window.Symbol={toPrimitive:"toPrimitive"});var kr={formatDate:wr,parseDate:Pi},he=qe?document:void 0,ke=qe?window:void 0,Mr=["Webkit","Moz"],qt=he&&he.createElement("div").style,Ta=he&&he.createElement("canvas"),Fn=Ta&&Ta.getContext&&Ta.getContext("2d",{willReadFrequently:!0}),Qs=ke&&ke.CSS,fn=Qs&&Qs.supports,Sa={},gt=ke&&ke.requestAnimationFrame||function(a){return setTimeout(a,20)},pn=ke&&ke.cancelAnimationFrame||function(a){clearTimeout(a)},Un=qt&&qt.animationName!==void 0,Ri=bt==="ios"&&!vr,Er=Ri&&ke&&ke.webkit&&ke.webkit.messageHandlers,Nr=qt&&qt.touchAction===void 0||Ri&&!Er,Dt=function(){if(!qt||qt.transform!==void 0)return"";for(var a=0,s=Mr;a<s.length;a++){var e=s[a];if(qt[e+"Transform"]!==void 0)return e}return""}(),Ir=Dt?"-"+Dt.toLowerCase()+"-":"",Al=fn&&fn("(transform-style: preserve-3d)"),nn=fn&&(fn("position","sticky")||fn("position","-webkit-sticky"));function oe(a,s,e,t){a&&a.addEventListener(s,e,t)}function se(a,s,e,t){a&&a.removeEventListener(s,e,t)}function Ct(a){if(qe)return a&&a.ownerDocument?a.ownerDocument:he}function Hr(a,s){return parseFloat(getComputedStyle(a)[s]||"0")}function Ua(a){return a.scrollLeft!==void 0?a.scrollLeft:a.pageXOffset}function Ba(a){return a.scrollTop!==void 0?a.scrollTop:a.pageYOffset}function Tn(a){if(qe)return a&&a.ownerDocument&&a.ownerDocument.defaultView?a.ownerDocument.defaultView:ke}function ei(a,s){var e=getComputedStyle(a),t=(Dt?e[Dt+"Transform"]:e.transform).split(")")[0].split(", ");return+(s?t[13]||t[5]:t[12]||t[4])||0}function rn(a){if(!Fn||!a)return"#000";if(Sa[a])return Sa[a];Fn.fillStyle=a,Fn.fillRect(0,0,1,1);var s=Fn.getImageData(0,0,1,1),e=s?s.data:[0,0,0],t=.299*+e[0]+.587*+e[1]+.114*+e[2]<130?"#fff":"#000";return Sa[a]=t,t}function Vi(a,s,e,t,n,r,i){var l,d,u=Math.min(1,(+new Date-s)/468),o=.5*(1-Math.cos(Math.PI*u));n!==void 0&&(l=Ze(e+(n-e)*o),a.scrollLeft=l),r!==void 0&&(d=Ze(t+(r-t)*o),a.scrollTop=d),l!==n||d!==r?gt(function(){Vi(a,s,e,t,n,r,i)}):i&&i()}function zi(a,s,e,t,n,r){s!==void 0&&(s=Math.max(0,Ze(s))),e!==void 0&&(e=Math.max(0,Ze(e))),n&&s!==void 0&&(s=-s),t?Vi(a,+new Date,a.scrollLeft,a.scrollTop,s,e,r):(s!==void 0&&(a.scrollLeft=s),e!==void 0&&(a.scrollTop=e),r&&r())}function cs(a){var s=a.getBoundingClientRect(),e={left:s.left,top:s.top},t=Tn(a);return t!==void 0&&(e.top+=Ba(t),e.left+=Ua(t)),e}function on(a,s){var e=a&&(a.matches||a.msMatchesSelector);return e&&e.call(a,s)}function Sn(a,s,e){for(;a&&!on(a,s);){if(a===e||a.nodeType===a.DOCUMENT_NODE)return null;a=a.parentNode}return a}function ja(a,s,e){var t;try{t=new CustomEvent(s,{bubbles:!0,cancelable:!0,detail:e})}catch{(t=document.createEvent("Event")).initEvent(s,!0,!0),t.detail=e}a.dispatchEvent(t)}function rt(a,s){for(var e=0;e<a.length;e++)s(a[e],e)}var Lr=0;function Yr(a,s,e){e==="jsonp"?function(t,n){if(ke){var r=he.createElement("script"),i="mbscjsonp"+ ++Lr;ke[i]=function(l){r.parentNode.removeChild(r),delete ke[i],l&&n(l)},r.src=t+(t.indexOf("?")>=0?"&":"?")+"callback="+i,he.body.appendChild(r)}}(a,s):function(t,n){var r=new XMLHttpRequest;r.open("GET",t,!0),r.onload=function(){r.status>=200&&r.status<400&&n(JSON.parse(r.response))},r.onerror=function(){},r.send()}(a,s)}var Or={getJson:Yr},Jn={},ds=[],Pr=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Ht(a,s){for(var e in s)a[e]=s[e];return a}function Ai(a){var s=a.parentNode;s&&s.removeChild(a)}var ze={_catchError:function(a,s){for(var e,t,n;s=s._parent;)if((e=s._component)&&!e._processingException)try{if((t=e.constructor)&&t.getDerivedStateFromError!=null&&(e.setState(t.getDerivedStateFromError(a)),n=e._dirty),e.componentDidCatch!=null&&(e.componentDidCatch(a),n=e._dirty),n)return e._pendingError=e}catch(r){a=r}throw a},_vnodeId:0};function m(a,s,e){var t,n,r,i={};for(r in s)r=="key"?t=s[r]:r=="ref"?n=s[r]:i[r]=s[r];if(arguments.length>3)for(e=[e],r=3;r<arguments.length;r++)e.push(arguments[r]);if(e!=null&&(i.children=e),typeof a=="function"&&a.defaultProps!=null)for(r in a.defaultProps)i[r]===void 0&&(i[r]=a.defaultProps[r]);return Bn(a,i,t,n,null)}function Bn(a,s,e,t,n){var r={type:a,props:s,key:e,ref:t,_children:null,_parent:null,_depth:0,_dom:null,_nextDom:void 0,_component:null,_hydrating:null,constructor:void 0,_original:n??++ze._vnodeId};return ze.vnode!=null&&ze.vnode(r),r}function We(a){return a.children}function an(a,s){this.props=a,this.context=s}function yn(a,s){if(s==null)return a._parent?yn(a._parent,a._parent._children.indexOf(a)+1):null;for(var e;s<a._children.length;s++)if((e=a._children[s])!=null&&e._dom!=null)return e._dom;return typeof a.type=="function"?yn(a):null}function Fr(a){var s=a._vnode,e=s._dom,t=a._parentDom;if(t){var n=[],r=Ht({},s);r._original=s._original+1,us(t,s,r,a._globalContext,t.ownerSVGElement!==void 0,s._hydrating!=null?[e]:null,n,e??yn(s),s._hydrating),ji(n,s),s._dom!=e&&Wi(s)}}function Wi(a){if((a=a._parent)!=null&&a._component!=null){a._dom=a._component.base=null;for(var s=0;s<a._children.length;s++){var e=a._children[s];if(e!=null&&e._dom!=null){a._dom=a._component.base=e._dom;break}}return Wi(a)}}an.prototype.setState=function(a,s){var e;e=this._nextState!=null&&this._nextState!==this.state?this._nextState:this._nextState=Ht({},this.state),typeof a=="function"&&(a=a(Ht({},e),this.props)),a&&Ht(e,a),a!=null&&this._vnode&&(s&&this._renderCallbacks.push(s),Xa(this))},an.prototype.forceUpdate=function(a){this._vnode&&(this._force=!0,a&&this._renderCallbacks.push(a),Xa(this))},an.prototype.render=We;var ti,jn=[],Rr=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout;function Xa(a){(!a._dirty&&(a._dirty=!0)&&jn.push(a)&&!Kn._rerenderCount++||ti!==ze.debounceRendering)&&((ti=ze.debounceRendering)||Rr)(Kn)}function Kn(){for(var a;Kn._rerenderCount=jn.length;)a=jn.sort(function(s,e){return s._vnode._depth-e._vnode._depth}),jn=[],a.some(function(s){s._dirty&&Fr(s)})}function ni(a,s,e,t,n,r,i,l,d,u){var o,c,_,h,p,v,g,f=t&&t._children||ds,y=f.length;for(e._children=[],o=0;o<s.length;o++)if((h=(h=s[o])==null||typeof h=="boolean"?e._children[o]=null:typeof h=="string"||typeof h=="number"||typeof h=="bigint"?e._children[o]=Bn(null,h,null,null,h):Array.isArray(h)?e._children[o]=Bn(We,{children:h},null,null,null):h._depth>0?e._children[o]=Bn(h.type,h.props,h.key,null,h._original):e._children[o]=h)!=null){if(h._parent=e,h._depth=e._depth+1,(_=f[o])===null||_&&h.key==_.key&&h.type===_.type)f[o]=void 0;else for(c=0;c<y;c++){if((_=f[c])&&h.key==_.key&&h.type===_.type){f[c]=void 0;break}_=null}us(a,h,_=_||Jn,n,r,i,l,d,u),p=h._dom,(c=h.ref)&&_.ref!=c&&(g||(g=[]),_.ref&&g.push(_.ref,null,h),g.push(c,h._component||p,h)),p!=null?(v==null&&(v=p),typeof h.type=="function"&&h._children!=null&&h._children===_._children?h._nextDom=d=Ui(h,d,a):d=Bi(a,h,_,f,p,d),u||e.type!=="option"?typeof e.type=="function"&&(e._nextDom=d):a.value=""):d&&_._dom==d&&d.parentNode!=a&&(d=yn(_))}for(e._dom=v,o=y;o--;)f[o]!=null&&(typeof e.type=="function"&&f[o]._dom!=null&&f[o]._dom==e._nextDom&&(e._nextDom=yn(t,o+1)),qi(f[o],f[o]));if(g)for(o=0;o<g.length;o++)Xi(g[o],g[++o],g[++o])}function Ui(a,s,e){for(var t=0;t<a._children.length;t++){var n=a._children[t];n&&(n._parent=a,s=typeof n.type=="function"?Ui(n,s,e):Bi(e,n,n,a._children,n._dom,s))}return s}function Bi(a,s,e,t,n,r){var i;if(s._nextDom!==void 0)i=s._nextDom,s._nextDom=void 0;else if(e==null||n!=r||n.parentNode==null)e:if(r==null||r.parentNode!==a)a.appendChild(n),i=null;else{for(var l=r,d=0;(l=l.nextSibling)&&d<t.length;d+=2)if(l==n)break e;a.insertBefore(n,r),i=r}return r=i!==void 0?i:n.nextSibling}function ai(a,s,e){s[0]==="-"?a.setProperty(s,e):e==null?a[s]="":typeof e!="number"||Pr.test(s)?a[s]=e:a[s]=e+"px"}function Rn(a,s,e,t,n){var r;e:if(s==="style")if(typeof e=="string")a.style.cssText=e;else{if(typeof t=="string"&&(a.style.cssText=t=""),t)for(s in t)e&&s in e||ai(a.style,s,"");if(e)for(s in e)t&&e[s]===t[s]||ai(a.style,s,e[s])}else if(s[0]==="o"&&s[1]==="n")if(r=s!==(s=s.replace(/Capture$/,"")),s=s.toLowerCase()in a?s.toLowerCase().slice(2):s.slice(2),a._listeners||(a._listeners={}),a._listeners[s+r]=e,e){if(!t){var i=r?ii:si;a.addEventListener(s,i,r)}}else{var l=r?ii:si;a.removeEventListener(s,l,r)}else if(s!=="dangerouslySetInnerHTML"){if(n)s=s.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(s!=="href"&&s!=="list"&&s!=="form"&&s!=="tabIndex"&&s!=="download"&&s in a)try{a[s]=e??"";break e}catch{}typeof e=="function"||(e!=null&&(e!==!1||s[0]==="a"&&s[1]==="r")?a.setAttribute(s,e):a.removeAttribute(s))}}function si(a){this._listeners[a.type+!1](ze.event?ze.event(a):a)}function ii(a){this._listeners[a.type+!0](ze.event?ze.event(a):a)}function us(a,s,e,t,n,r,i,l,d){var u,o=s.type;if(s.constructor!==void 0)return null;e._hydrating!=null&&(d=e._hydrating,l=s._dom=e._dom,s._hydrating=null,r=[l]),(u=ze._diff)&&u(s);try{e:if(typeof o=="function"){var c,_,h,p,v,g,f=s.props,y=(u=o.contextType)&&t[u._id],b=u?y?y.props.value:u._defaultValue:t;if(e._component?g=(c=s._component=e._component)._processingException=c._pendingError:("prototype"in o&&o.prototype.render?s._component=c=new o(f,b):(s._component=c=new an(f,b),c.constructor=o,c.render=Vr),y&&y.sub(c),c.props=f,c.state||(c.state={}),c.context=b,c._globalContext=t,_=c._dirty=!0,c._renderCallbacks=[]),c._nextState==null&&(c._nextState=c.state),o.getDerivedStateFromProps!=null&&(c._nextState==c.state&&(c._nextState=Ht({},c._nextState)),Ht(c._nextState,o.getDerivedStateFromProps(f,c._nextState))),h=c.props,p=c.state,_)o.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c._renderCallbacks.push(c.componentDidMount);else{if(o.getDerivedStateFromProps==null&&f!==h&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(f,b),!c._force&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(f,c._nextState,b)===!1||s._original===e._original){c.props=f,c.state=c._nextState,s._original!==e._original&&(c._dirty=!1),c._vnode=s,s._dom=e._dom,s._children=e._children,s._children.forEach(function(T){T&&(T._parent=s)}),c._renderCallbacks.length&&i.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(f,c._nextState,b),c.componentDidUpdate!=null&&c._renderCallbacks.push(function(){c.componentDidUpdate(h,p,v)})}c.context=b,c.props=f,c.state=c._nextState,(u=ze._render)&&u(s),c._dirty=!1,c._vnode=s,c._parentDom=a,u=c.render(c.props,c.state,c.context),c.state=c._nextState,c.getChildContext!=null&&(t=Ht(Ht({},t),c.getChildContext())),_||c.getSnapshotBeforeUpdate==null||(v=c.getSnapshotBeforeUpdate(h,p));var x=u!=null&&u.type===We&&u.key==null?u.props.children:u;ni(a,Array.isArray(x)?x:[x],s,e,t,n,r,i,l,d),c.base=s._dom,s._hydrating=null,c._renderCallbacks.length&&i.push(c),g&&(c._pendingError=c._processingException=null),c._force=!1}else r==null&&s._original===e._original?(s._children=e._children,s._dom=e._dom):s._dom=function(T,S,w,C,k,L,z,E){var F=w.props,N=S.props,I=S.type,Y=0;if(I==="svg"&&(k=!0),L!=null)for(;Y<L.length;Y++){var A=L[Y];if(A&&(A===T||(I?A.localName==I:A.nodeType==3))){T=A,L[Y]=null;break}}if(T==null){if(I===null)return document.createTextNode(N);T=k?document.createElementNS("http://www.w3.org/2000/svg",I):document.createElement(I,N.is&&N),L=null,E=!1}if(I===null)F===N||E&&T.data===N||(T.data=N);else{L=L&&ds.slice.call(T.childNodes);var q=(F=w.props||Jn).dangerouslySetInnerHTML,G=N.dangerouslySetInnerHTML;if(E||(L!=null&&(F={}),(G||q)&&(G&&(q&&G.__html==q.__html||G.__html===T.innerHTML)||(T.innerHTML=G&&G.__html||""))),function(O,R,U,j,B){var V;for(V in U)V==="children"||V==="key"||V in R||Rn(O,V,null,U[V],j);for(V in R)B&&typeof R[V]!="function"||V==="children"||V==="key"||V==="value"||V==="checked"||U[V]===R[V]||Rn(O,V,R[V],U[V],j)}(T,N,F,k,E),G)S._children=[];else if(Y=S.props.children,ni(T,Array.isArray(Y)?Y:[Y],S,w,C,k&&I!=="foreignObject",L,z,T.firstChild,E),L!=null)for(Y=L.length;Y--;)L[Y]!=null&&Ai(L[Y]);E||("value"in N&&(Y=N.value)!==void 0&&(Y!==T.value||I==="progress"&&!Y)&&Rn(T,"value",Y,F.value,!1),"checked"in N&&(Y=N.checked)!==void 0&&Y!==T.checked&&Rn(T,"checked",Y,F.checked,!1))}return T}(e._dom,s,e,t,n,r,i,d);(u=ze.diffed)&&u(s)}catch(T){s._original=null,(d||r!=null)&&(s._dom=l,s._hydrating=!!d,r[r.indexOf(l)]=null),ze._catchError(T,s,e)}}function ji(a,s){ze._commit&&ze._commit(s,a),a.some(function(e){try{a=e._renderCallbacks,e._renderCallbacks=[],a.some(function(t){t.call(e)})}catch(t){ze._catchError(t,e._vnode)}})}function Xi(a,s,e){try{typeof a=="function"?a(s):a.current=s}catch(t){ze._catchError(t,e)}}function qi(a,s,e){var t,n;if(ze.unmount&&ze.unmount(a),(t=a.ref)&&(t.current&&t.current!==a._dom||Xi(t,null,s)),e||typeof a.type=="function"||(e=(n=a._dom)!=null),a._dom=a._nextDom=void 0,(t=a._component)!=null){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(i){ze._catchError(i,s)}t.base=t._parentDom=null}if(t=a._children)for(var r=0;r<t.length;r++)t[r]&&qi(t[r],s,e);n!=null&&Ai(n)}function Vr(a,s,e){return this.constructor(a,e)}function Zn(a,s,e){ze._root&&ze._root(a,s);var t=typeof e=="function",n=t?null:e&&e._children||s._children,r=[];us(s,a=(!t&&e||s)._children=m(We,null,[a]),n||Jn,Jn,s.ownerSVGElement!==void 0,!t&&e?[e]:n?null:s.firstChild?ds.slice.call(s.childNodes):null,r,!t&&e?e:n?n._dom:s.firstChild,t),ji(r,a)}Kn._rerenderCount=0;var zr=0;function Gi(a,s){var e={_id:s="__cC"+zr++,_defaultValue:a,Consumer:function(t,n){return t.children(n)},Provider:function(t){if(!this.getChildContext){var n=[],r={};r[s]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(i){this.props.value!==i.value&&n.some(Xa)},this.sub=function(i){n.push(i);var l=i.componentWillUnmount;i.componentWillUnmount=function(){n.splice(n.indexOf(i),1),l&&l.call(i)}}}return t.children}};return e.Provider._contextRef=e.Consumer.contextType=e}var Ji=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s.prototype.render=function(){},s.prototype.shouldComponentUpdate=function(e,t){return ri(e,this.props)||ri(t,this.state)},s}(an);function ri(a,s){for(var e in a)if(a[e]!==s[e])return!0;for(var e in s)if(!(e in a))return!0;return!1}ze.vnode=function(a){var s=a.props,e={};if(le(a.type)){for(var t in s){var n=s[t];/^onAni/.test(t)?t=t.toLowerCase():/ondoubleclick/i.test(t)&&(t="ondblclick"),e[t]=n}a.props=e}};var qa={},Ar=0;function Wr(a,s,e,t,n){on(a,s)?a.__mbscFormInst||$n(e,a,n,t,!0):rt(a.querySelectorAll(s),function(r){r.__mbscFormInst||$n(e,r,n,t,!0)})}function $n(a,s,e,t,n){var r,i,l=[],d=[],u={},o=t||{},c=o.renderToParent?s.parentNode:s,_=c.parentNode,h=o.useOwnChildren?s:c,p=s.getAttribute("class"),v=s.value,g=W({className:c.getAttribute("class")},s.dataset,e,{ref:function(E){i=E}});o.readProps&&o.readProps.forEach(function(E){var F=s[E];F!==void 0&&(g[E]=F)}),o.readAttrs&&o.readAttrs.forEach(function(E){var F=s.getAttribute(E);F!==null&&(g[E]=F)});var f=o.slots;if(f)for(var y=0,b=Object.keys(f);y<b.length;y++){var x=b[y],T=f[x],S=c.querySelector("[mbsc-"+T+"]");S&&(u[x]=S,S.parentNode.removeChild(S),g[x]=m("span",{className:"mbsc-slot-"+T}))}if(o.hasChildren&&(rt(h.childNodes,function(E){E!==s&&E.nodeType!==8&&(E.nodeType!==3||E.nodeType===3&&/\S/.test(E.nodeValue))&&l.push(E),d.push(E)}),rt(l,function(E){h.removeChild(E)}),l.length&&(g.hasChildren=!0)),s.id||(s.id="mbsc-control-"+Ar++),o.before&&o.before(s,g,l),Zn(m(a,g),_,c),p&&o.renderToParent&&(r=s.classList).add.apply(r,p.replace(/^\s+|\s+$/g,"").replace(/\s+|^\s|\s$/g," ").split(" ")),o.hasChildren){var w="."+o.parentClass,C=on(c,w)?c:c.querySelector(w);C&&rt(l,function(E){C.appendChild(E)})}if(o.hasValue&&(s.value=v),f)for(var k=function(E){var F=f[E],N=u[E];rt(c.querySelectorAll(".mbsc-slot-"+F),function(I,Y){var A=Y>0?N.cloneNode(!0):N;I.appendChild(A)})},L=0,z=Object.keys(u);L<z.length;L++)k(x=z[L]);return i.destroy=function(){var E=c.parentNode,F=he.createComment("");E.insertBefore(F,c),Zn(null,c),delete s.__mbscInst,delete s.__mbscFormInst,delete c._listeners,c.innerHTML="",c.setAttribute("class",g.className),E.replaceChild(c,F),o.hasChildren&&rt(d,function(N){h.appendChild(N)}),o.renderToParent&&s.setAttribute("class",p||"")},n?(s.__mbscInst||(s.__mbscInst=i),s.__mbscFormInst=i):s.__mbscInst=i,i}function Xe(a){qa[a._name]=a}function Qn(a,s){if(a)for(var e=0,t=Object.keys(qa);e<t.length;e++){var n=t[e],r=qa[n];Wr(a,r._selector,r,r._renderOpt,s)}}var oi,li,Ur=function(a){function s(){var e=a!==null&&a.apply(this,arguments)||this;return e._newProps={},e._setEl=function(t){e._el=t?t._el||t:null},e}return $(s,a),Object.defineProperty(s.prototype,"value",{get:function(){return this.__value},set:function(e){this.__value=e},enumerable:!0,configurable:!0}),s.prototype.componentDidMount=function(){this.__init(),this._init(),this._mounted(),this._updated(),this._enhance()},s.prototype.componentDidUpdate=function(){this._updated(),this._enhance()},s.prototype.componentWillUnmount=function(){this._destroy(),this.__destroy()},s.prototype.render=function(){return this._willUpdate(),this._template(this.s,this.state)},s.prototype.getInst=function(){return this},s.prototype.setOptions=function(e){for(var t in e)this.props[t]=e[t];this.forceUpdate()},s.prototype._safeHtml=function(e){return{__html:e}},s.prototype._init=function(){},s.prototype.__init=function(){},s.prototype._emit=function(e,t){},s.prototype._template=function(e,t){},s.prototype._mounted=function(){},s.prototype._updated=function(){},s.prototype._destroy=function(){},s.prototype.__destroy=function(){},s.prototype._willUpdate=function(){},s.prototype._enhance=function(){var e=this._shouldEnhance;e&&(Qn(e===!0?this._el:e),this._shouldEnhance=!1)},s}(Ji),Ca=ke,ci=+new Date,ht={},Xn={};function Br(a){!a._logged&&mt.apiKey!=="mbscdemo"&&he&&(a._logged=!0,ht.components=ht.components||[],ht.components.push(a.constructor._name.toLowerCase()),clearTimeout(li),li=setTimeout(function(){if(!mt.fwv){var s=void 0;switch(mt.fw){case"angular":var e=he.querySelector("[ng-version]");s=e?e.getAttribute("ng-version"):"N/A";break;case"jquery":s=Ca.$.fn&&Ca.$.fn.jquery}mt.fwv=s||"N/A"}ht.demo=!!Ca.isMbscDemo,ht.fw=mt.fw,ht.fwv=mt.fwv,ht.theme=a.s.theme,ht.trialCode=mt.apiKey,ht.v=a._v.version,aa("log",null,ht,function(){ht={}})},5e3))}function jr(a){if(a&&he&&!he.getElementById("trial-message")){var s=he.createElement("div");s.setAttribute("id","trial-message"),s.setAttribute("style","position: absolute;width: 100%; bottom: 0;left: 0; padding: 10px;box-sizing: border-box;"),s.setAttribute("class","mbsc-font");var e=he.createElement("div");e.setAttribute("style","padding: 15px 25px; max-width: 400px; margin: 0 auto 10px auto; border-radius: 16px; line-height: 25px; background: #cacaca59; font-size: 15px; color: #151515;"),e.innerHTML=a.message+" ";var t=he.createElement("a");t.innerHTML=a.button.text,t.setAttribute("style","color: #FF4080;font-weight: 600;"),t.setAttribute("href","https://mobiscroll.com/pricing?ref=trialapp"),e.appendChild(t),s.appendChild(e),he.body.appendChild(s),setTimeout(function(){he.body.removeChild(s)},6e3)}}function aa(a,s,e,t,n,r){if(ke&&he){var i=he.createElement("script"),l="mbsc_jsonp_"+(n||++ci);l=ke[l]?"mbsc_jsonp_"+ ++ci:l;var d=r||1;ke[l]=function(c,_){clearTimeout(u),i.parentNode.removeChild(i),delete ke[l],c=c?JSON.parse(c,function(h,p){return typeof p!="string"?p:p.substring(0,9)==="function_"&&s?s[p.replace("function_","")]:p.match(Ii)?ne(p):p}):{},a==="remote"&&(Xn.txt=c.__e,delete c.__e),_||t(c)};var u=setTimeout(o,6e3);i.onerror=o,i.src=mt.apiUrl+mt.apiKey+"/"+a+"?callback="+l+"&data="+encodeURIComponent(JSON.stringify(e)),he.body.appendChild(i)}else t({});function o(){ke&&ke[l]&&ke[l](null,!0),a==="remote"&&(d<4?aa(a,s,e,t,n,d+1):oi||(oi=!0,Ki()))}}function Ki(){var a=he.cookie.replace(/(?:(?:^|.*;\s*)ASP.NET_SessionId\s*=\s*([^;]*).*$)|^.*$/,"$1");he.cookie="mobiscrollClientError=1; expires="+new Date(new Date().getTime()+864e5).toUTCString()+"; path=/; SameSite=Strict";try{ke.name=(ke.name||"")+";mobiscrollClientError"}catch{}aa("error",null,{sessionID:a,trialCode:mt.apiKey},function(){he.cookie="mobiscrollClientError=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/";try{ke.name=(ke.name||"").replace(/;mobiscrollClientError/g,"")}catch{}})}he&&(he.cookie.replace(/(?:(?:^|.*;\s*)mobiscrollClientError\s*=\s*([^;]*).*$)|^.*$/,"$1")||/mobiscrollClientError/.test(ke.name||""))&&he.addEventListener("DOMContentLoaded",function(){Ki()});var Ga,Xr=new Function("textParam,p",function(){for(var a=function(n,r){for(var i=function(c){for(var _=c[0],h=0;h<16;++h)if(_*h%16==1)return[h,c[1]]}(r),l=function(c,_,h,p){for(var v="0123456789abcdef",g=_.length,f="",y=0;y<g;++y)f+=c?v[(h*v.indexOf(_[y])+p)%16]:v[((h*v.indexOf(_[y])-h*p)%16+16)%16];return f}(0,n,i[0],i[1]),d=l.length,u=[],o=0;o<d;o+=2)u.push(l[o]+l[o+1]);return u}("7c7a797b7ce5707c58e17ae1eda67ee1e43d313b7ae57c757ae6a0cde17ce0a67ae1e6ecefeda0a934cde17ce0a6ede170a038a6383ea478a9aeaea17ce5707c58e17ae1eda67c707c3fa734ece97ea8737c79e4e53daaa7abee75e6e37ce9efe6a0e5a97b7ee17aa87c3de5a6e4e5e6e77ce0a4e6a47a3b77e0e9e4e5a038a13d3d7ca97b7a3dcde17ce0a6eee4efef7aa0cde17ce0a67ae1e6ecefeda0a9a27ca93b7cad3d313be63de55b7c5d3be55b7c5d3de55b7a5d3be55b7a5d3de67d7ae57c757ae6a8e57da05ba778efe9e67ce57aade57ee5e67c7332e6efe6e5a7a4a7ece97378e4e17932eae4efe3eba1e9ed78ef7a7ce1e67ca7a4a778ef73e97ce9efe632e1ea73efe4757ce5a1e9ed78ef7a7ce1e67ca7a4a77cef783238a1e9ed78ef7a7ce1e67ca7a4a7e4e5ee7c3238a1e9ed78ef7a7ce1e67ca7a4a7eaef7c7cefed3238a1e9ed78ef7a7ce1e67ca7a4a77ae9e7e07c3238a1e9ed78ef7a7ce1e67ca7a4a7ede17ae7e9e63238a1e9ed78ef7a7ce1e67ca7a4a778e1ecece9e6e73238a1e9ed78ef7a7ce1e67ca7a4a7eeefe67cad73e972e532307870a1e9ed78ef7a7ce1e67ca7a4a7e4e9e6e5ade0e5e9e7e07c32313a7870a7a4a77ce5707cade1e4e9e7e632e3e5e67ce57aa7a4a7ef78e1e3e97c7932a7aba0cde17ce0a6eee4efef7aa0cde17ce0a67ae1e6ecefeda0a9a23a38a9af313838ab38a630a9aba7a1e9ed78ef7a7ce1e67ca75da9a6e2efe9e6a0a73ba7a9aba7aa3654753838353c54753838353a547538383c39547538383c31547538383ce334afece97e36a732a7a7a97de3e17ce3e0a0e5a97b7ae57c757ae6a8a7a77d2",[9,8]),s=a.length,e="",t=0;t<s;t++)e+=String.fromCharCode(parseInt(a[t],16));return e}()),qr=0,Gr={large:992,medium:768,small:576,xlarge:1200,xsmall:0};va&&(Ga=va.matches,va.addListener(function(a){Ga=a.matches,Gn.next()}));var Fe=function(a){function s(){var e=a!==null&&a.apply(this,arguments)||this;return e.s={},e.state={},e._mbsc=!0,e._v={version:"5.29.0"},e._uid=++qr,e._textParamMulti={},e.__getText=Xr,e._proxyHook=function(t){e._hook(t.type,t)},e}return $(s,a),Object.defineProperty(s.prototype,"nativeElement",{get:function(){return this._el},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"__getTextParam",{get:function(){return Xn.val},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"textParam",{get:function(){return this._textParam===void 0&&(this._textParam=this.__getText(Xn,.15)),this._safeHtml(this._textParam)},enumerable:!0,configurable:!0}),s.prototype.textParamMulti=function(e){return this._textParamMulti[e]===void 0&&(this._textParamMulti[e]=this.__getText(Xn,.15)),this._safeHtml(this._textParamMulti[e])},s.prototype.destroy=function(){},s.prototype._hook=function(e,t){var n=this.s;if(t.inst=this,t.type=e,n[e])return n[e](t,this);this._emit(e,t)},s.prototype.__init=function(){var e=this;if(this.constructor.defaults){this._optChange=Gn.subscribe(function(){e.forceUpdate()});var t=this.props.modules;if(t)for(var n=0,r=t;n<r.length;n++){var i=r[n];i.init&&i.init(this)}}this._hook("onInit",{})},s.prototype.__destroy=function(){this._optChange!==void 0&&Gn.unsubscribe(this._optChange),this._hook("onDestroy",{})},s.prototype._render=function(e,t){},s.prototype._willUpdate=function(){this._merge(),this._render(this.s,this.state)},s.prototype._resp=function(e){var t,n=e.responsive,r=-1,i=this.state.width;if(i===void 0&&(i=375),n&&i)for(var l=0,d=Object.keys(n);l<d.length;l++){var u=d[l],o=n[u],c=o.breakpoint||Gr[u];i>=c&&c>r&&(t=o,r=c)}return t},s.prototype._merge=function(){var e,t,n=this.constructor,r=n.defaults,i=this._opt||{},l={};if(this._prevS=this.s||{},r){for(var d in this.props)this.props[d]!==void 0&&(l[d]=this.props[d]);var u=l.locale||i.locale||It.locale||{},o=l.calendarSystem||u.calendarSystem||i.calendarSystem||It.calendarSystem,c=l.theme||i.theme||It.theme,_=l.themeVariant||i.themeVariant||It.themeVariant;c!=="auto"&&c||(c=is.theme||""),_!=="dark"&&(!Ga||_!=="auto"&&_)||!pt[c+"-dark"]||(c+="-dark"),l.theme=c;var h=(t=pt[c])&&t[n._name];e=W({},r,h,u,It,i,o,l);var p=this._resp(e);this._respProps=p,p&&(e=W({},e,p))}else e=W({},this.props),t=pt[e.theme];var v=t&&t.baseTheme;e.baseTheme=v,this.s=e,this._className=e.cssClass||e.class||e.className||"",this._rtl=" mbsc-"+(e.rtl?"rtl":"ltr"),this._theme=" mbsc-"+e.theme+(v?" mbsc-"+v:""),this._touchUi=e.touchUi==="auto"||e.touchUi===void 0?Wn:e.touchUi,this._hb=bt!=="ios"||e.theme!=="ios"&&v!=="ios"?"":" mbsc-hb"},s.defaults=void 0,s._name="",s}(Ur),Jr={0:"SU",1:"MO",2:"TU",3:"WE",4:"TH",5:"FR",6:"SA"},di={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6},Kr={byday:"weekDays",bymonth:"month",bymonthday:"day",bysetpos:"pos",dtstart:"from",freq:"repeat",wkst:"weekStart"};function ui(a,s,e,t){var n=ne(s.start,s.allDay?void 0:e),r=ne(s.end,s.allDay?void 0:e),i=r-n;for(t&&(s.start=n,s.end=r),n=me(n),r=e.exclusiveEndDates?r:me(te(r,1));n<r||!i;)Ja(a,n,s),n=te(n,1),i=1}function Ja(a,s,e){var t=Te(s);a[t]||(a[t]=[],a[t].date=me(s,!0)),a[t].push(e)}function hi(a,s,e,t,n,r){var i={};if(n)for(var l=0,d=Ka(n);l<d.length;l++)i[Te(ne(d[l]))]=!0;if(r)for(var u=0,o=Zi(r,a,a,s,e,t);u<o.length;u++)i[Te(o[u].d)]=!0;return i}function Zr(a){return le(a)||a.getTime||a.toDate?a:a.start||a.date}function bn(a,s,e){var t=s.original?s.original.start:s.start,n=s.allDay||!t,r=a.timezonePlugin,i=s.timezone||a.dataTimezone||a.displayTimezone;return r&&!n?{dataTimezone:i,displayTimezone:e?i:a.displayTimezone,timezonePlugin:r}:void 0}function $r(a){for(var s={},e=0,t=a.split(";");e<t.length;e++){var n=t[e].split("="),r=n[0].trim().toLowerCase(),i=n[1].trim();s[Kr[r]||r]=i}return s}function Ka(a){return a?Be(a)?a:le(a)?a.split(","):[a]:[]}function Zi(a,s,e,t,n,r,i,l,d){le(a)&&(a=$r(a));for(var u,o,c=r.getYear,_=r.getMonth,h=r.getDay,p=r.getDate,v=r.getMaxDayOfMonth,g=(a.repeat||"").toLowerCase(),f=a.interval||1,y=a.count,b=a.from?ne(a.from):s||(f!==1||y!==void 0?new Date:t),x=me(b),T=c(b),S=_(b),w=h(b),C=e?e.getHours():0,k=e?e.getMinutes():0,L=e?e.getSeconds():0,z=a.until?ne(a.until):1/0,E=b<t,F=E?t:me(b),N=d==="first",I=d==="last",Y=N||I||!n||z<n?z:n,A=y===void 0?1/0:y,q=(a.weekDays||Jr[b.getDay()]).split(","),G=di[(a.weekStart||"MO").trim().toUpperCase()],O=Be(a.day)?a.day:((a.day||w)+"").split(","),R=Be(a.month)?a.month:((a.month||S+1)+"").split(","),U=[],j=a.pos!==void 0,B=j?+a.pos:1,V=[],K=n?hi(s,t,n,r,i,l):{},J=!0,P=0,Q=0,Z=null,re=t,pe=0,de=q;pe<de.length;pe++){var ee=de[pe];V.push(di[ee.trim().toUpperCase()])}var fe=function(){if(n||(K=hi(o,o,te(o,1),r,i,l)),!K[Te(o)]&&o>=F)if(N)Z=!Z||o<Z?o:Z,J=!1;else if(I){var ve=ft(re,o);re=o>re&&ve<=1?o:re,J=ve<=1}else U.push({d:o,i:Q});Q++},we=function(ve,ye){for(var Ie=[],be=0,Se=V;be<Se.length;be++)for(var Ge=Ke(ve,{firstDay:Se[be]});Ge<ye;Ge.setDate(Ge.getDate()+7))Ge.getMonth()===ve.getMonth()&&Ie.push(+Ge);Ie.sort();var Ve=Ie[B<0?Ie.length+B:B-1];o=Ve?new Date(Ve):ye,(o=p(c(o),_(o),h(o),C,k,L))>=b&&(o<=Y&&Q<A?Ve&&fe():J=!1)};switch(g){case"daily":for(Q=y&&E?De(ft(b,t)/f):0;J;)(o=p(T,S,w+Q*f,C,k,L))<=Y&&Q<A?fe():J=!1;break;case"weekly":var xe=V,Ye=Ke(b,{firstDay:G}),Ee=Ye.getDay();for(xe.sort(function(ve,ye){return(ve=(ve-=Ee)<0?ve+7:ve)-(ye=(ye-=Ee)<0?ye+7:ye)});J;){for(var Ce=0,D=xe;Ce<D.length;Ce++)u=te(Ye,(ee=D[Ce])<G?ee-G+7:ee-G),(o=p(c(u),_(u),h(u)+7*P*f,C,k,L))<=Y&&Q<A?o>=x&&fe():J=!1;P++}break;case"monthly":for(;J;){var M=v(T,S+P*f);if(j)we(p(T,S+P*f,1),p(T,S+P*f+1,1));else for(var H=0,X=O;H<X.length;H++){var ae=X[H];(o=p(T,S+P*f,(Ne=+ae)<0?M+Ne+1:Ne,C,k,L))<=Y&&Q<A?M>=Ne&&o>=x&&fe():J=!1}P++}break;case"yearly":for(;J;){for(var ce=0,_e=R;ce<_e.length;ce++){var ge=+_e[ce];if(M=v(T+P*f,ge-1),j)we(p(T+P*f,ge-1,1),p(T+P*f,ge,1));else for(var ue=0,Me=O;ue<Me.length;ue++){var Ne;ae=Me[ue],(o=p(T+P*f,ge-1,(Ne=+ae)<0?M+Ne+1:Ne,C,k,L))<=Y&&Q<A?M>=Ne&&o>=x&&fe():J=!1}}P++}}return N?Z:I?re:U}function ot(a,s,e,t,n){var r={};if(a){for(var i=0,l=a;i<l.length;i++){var d=l[i],u=bn(t,d,!0),o=bn(t,d),c=Zr(d),_=ne(c,o);if(d.recurring)for(var h=Hi.test(c)?null:ne(c),p=ie(u,_),v=d.end?ne(d.end,u):p,g=d.end==="00:00"?te(v,1):v,f=+g-+p,y=te(s,-1),b=te(e,1),x=0,T=Zi(d.recurring,h,p,y,b,t,d.recurringException,d.recurringExceptionRule);x<T.length;x++){var S=T[x],w=S.d,C=W({},d);if(d.start?C.start=ie(u,w.getFullYear(),w.getMonth(),w.getDate(),p.getHours(),p.getMinutes(),p.getSeconds()):(C.allDay=!0,C.start=ie(void 0,w.getFullYear(),w.getMonth(),w.getDate())),d.end)if(d.allDay){var k=te(w,ft(p,g));C.end=new Date(k.getFullYear(),k.getMonth(),k.getDate(),g.getHours(),g.getMinutes(),g.getSeconds())}else C.end=ie(u,+C.start+f);C.nr=S.i,C.occurrenceId=C.id+"_"+Te(C.start),C.original=d,C.start&&C.end?ui(r,C,t,n):Ja(r,w,C)}else d.start&&d.end?ui(r,d,t,n):_&&Ja(r,_,d)}return r}}var Qr=1,eo=gr(os,{dateText:"Date",eventText:"event",eventsText:"events",moreEventsText:"{count} more",nextPageText:"Next page",prevPageText:"Previous page",showEventTooltip:!0,showToday:!0,timeText:"Time"});function tn(a,s){var e=s.refDate?ne(s.refDate):st,t=s.showCalendar?s.calendarType:s.eventRange,n=(s.showCalendar?t==="year"?1:t==="week"?s.weeks:s.size:s.eventRangeSize)||1,r=s.getDate,i=t==="week"?Ke(e,s):e,l=s.getYear(i),d=s.getMonth(i),u=s.getDay(i);switch(t){case"year":return r(l+a*n,0,1);case"week":return r(l,d,u+7*n*a);case"day":return r(l,d,u+n*a);default:return r(l,d+a*n,1)}}function Bt(a,s){var e,t=s.refDate?ne(s.refDate):st,n=s.getYear,r=s.getMonth,i=s.showCalendar?s.calendarType:s.eventRange,l=(s.showCalendar?i==="year"?1:i==="week"?s.weeks:s.size:s.eventRangeSize)||1;switch(i){case"year":e=n(a)-n(t);break;case"week":e=ft(Ke(t,s),Ke(a,s))/7;break;case"day":e=ft(t,a);break;case"month":e=r(a)-r(t)+12*(n(a)-n(t));break;default:return}return De(e/l)}function wa(a,s){var e=s.refDate?ne(s.refDate):st;return De((s.getYear(a)-s.getYear(e))/12)}function ka(a,s){var e=s.refDate?ne(s.refDate):st;return s.getYear(a)-s.getYear(e)}function Ma(a,s){var e=s.refDate?ne(s.refDate):st;return s.getMonth(a)-s.getMonth(e)+12*(s.getYear(a)-s.getYear(e))}function to(a,s){var e=ne(a.start||a.date),t=ne(s.start||a.date),n=a.title||a.text,r=s.title||s.text,i=e?+e*(a.allDay?1:10):0,l=t?+t*(s.allDay?1:10):0;return i===l?n>r?1:-1:i-l}function $i(a,s){return a==="auto"?Math.max(1,Math.min(3,Math.floor(s?s/296:1))):a?+a:1}function Qi(a,s,e,t,n,r,i,l,d,u,o,c,_,h){s=s||{};for(var p={},v=new Map,g={},f=e,y=0,b=n,x=t;f<t;){var T=Te(f),S=f.getDay(),w=a.getDay(f),C=o&&a.getDate(a.getYear(f),a.getMonth(f)+1,0),k=d&&(S===l||w===1&&o)||+f==+e,L=Ke(f,a),z=vn(s[T]||[],u),E=void 0,F=void 0,N=void 0,I=0,Y=0,A=0;k&&(g={},x=d?te(L,r):t),i&&(z=z.filter(function(xe){return xe.allDay})),n===-1&&(b=z.length+1);var q=z.length,G=[];for(c&&(G.push({id:"count_"+ +f,count:q,placeholder:q===0}),I=b);q&&I<b;){E=null;for(var O=0;O<z.length;O++)g[I]===z[O]&&(E=z[O],N=O);if(F=E&&v.get(E)||[],I===b-1&&(Y<q-1||A===q&&!E)&&n!==-1){var R=q-Y,U=_||"",j=(R>1&&h||U).replace(/{count}/,R);if(R&&G.push({id:"more_"+ ++y,more:j,label:j}),E){g[I]=null;for(var B=0,V=F;B<V.length;B++){var K=V[B],J=U.replace(/{count}/,"1");p[Te(K)].data[I]={id:"more_"+ ++y,more:J,label:J}}}Y++,I++}else if(E)N===A&&A++,Pe(f,ne(E.end,bn(a,E)))&&(g[I]=null),G.push({id:E.occurrenceId||E.id,event:E}),I++,Y++,F.push(f);else if(A<q){var P=z[A],Q=P.allDay,Z=bn(a,P),re=P.start&&ne(P.start,Z);if(!re||Pe(f,re)||k){var pe=lt(a,Q,re,P.end&&ne(P.end,Z),!0),de=pe&&!Pe(re,pe),ee=C&&C<pe?C:pe,fe=re?", "+a.fromText+": "+Le("DDDD, MMMM D, YYYY",re,a):"",we=pe?", "+a.toText+": "+Le("DDDD, MMMM D, YYYY",pe,a):"";P.id===void 0&&(P.id="mbsc_"+Qr++),de&&(g[I]=P),v.set(P,[f]),G.push({event:P,id:P.occurrenceId||P.id,label:(P.title||P.text||"")+fe+we,lastDay:C?te(C,1):void 0,multiDay:de,showText:!0,width:de?100*Math.min(ft(f,ee)+1,ft(f,x)):100}),I++,Y++}A++}else Y<q&&G.push({id:"ph_"+ ++y,placeholder:!0}),I++}p[T]={data:G,events:z},f=me(te(f,1))}return p}function vn(a,s){return a&&a.slice(0).sort(s||to)}function xn(a,s,e){return!(a===!1||e===!1||!s)}function Za(a,s,e){return a!==!1&&s!==!1&&e!==!1}function no(a,s,e){return a!==!1&&s!==!1&&e!==!1}function ao(a,s,e,t){return a!==!1&&s!==!1&&e!==!1&&t!==!1}var $t,vt,Lt="change",at="click",Ue="mousedown",St="mouseup",$a="mouseenter",Ea=0;function er(a,s,e){var t,n,r,i,l,d,u,o=0;function c(){n.style.width="100000px",n.style.height="100000px",t.scrollLeft=1e5,t.scrollTop=1e5,d.scrollLeft=1e5,d.scrollTop=1e5}function _(){var v=+new Date;i=0,u||(v-o>200&&!t.scrollTop&&!t.scrollLeft&&(o=v,c()),i||(i=gt(_)))}function h(){l||(l=gt(p))}function p(){l=0,c(),s()}return ke&&ke.ResizeObserver?($t||($t=new ke.ResizeObserver(function(v){l||(l=gt(function(){for(var g=0,f=v;g<f.length;g++){var y=f[g];y.target.__mbscResize&&y.target.__mbscResize()}l=0}))})),Ea++,a.__mbscResize=function(){e?e.run(s):s()},$t.observe(a)):r=he&&he.createElement("div"),r&&(r.innerHTML='<div class="mbsc-resize"><div class="mbsc-resize-i mbsc-resize-x"></div></div><div class="mbsc-resize"><div class="mbsc-resize-i mbsc-resize-y"></div></div>',r.dir="ltr",d=r.childNodes[1],t=r.childNodes[0],n=t.childNodes[0],a.appendChild(r),oe(t,"scroll",h),oe(d,"scroll",h),e?e.runOutsideAngular(function(){gt(_)}):gt(_)),{detach:function(){$t?(Ea--,delete a.__mbscResize,$t.unobserve(a),Ea||($t=void 0)):(r&&(se(t,"scroll",h),se(d,"scroll",h),a.removeChild(r),pn(l),r=void 0),u=!0)}}}var tr="input,select,textarea,button",so='textarea,button,input[type="button"],input[type="submit"]',io=tr+',[tabindex="0"]',ro={enter:13,esc:27,space:32},oo=qe&&/(iphone|ipod)/i.test(Jt)&&Va>=7&&Va<15;function lo(a,s){var e=a.s,t=[],n={cancel:{cssClass:"mbsc-popup-button-close",name:"cancel",text:e.cancelText},close:{cssClass:"mbsc-popup-button-close",name:"close",text:e.closeText},ok:{cssClass:"mbsc-popup-button-primary",keyCode:13,name:"ok",text:e.okText},set:{cssClass:"mbsc-popup-button-primary",keyCode:13,name:"set",text:e.setText}};if(s&&s.length)return s.forEach(function(r){var i=le(r)?n[r]||{text:r}:r;i.handler&&!le(i.handler)||(le(i.handler)&&(i.name=i.handler),i.handler=function(l){a._onButtonClick({domEvent:l,button:i})}),t.push(i)}),t}function Qa(a,s){s===void 0&&(s=0);var e=a._prevModal;if(e&&e!==a&&s<10)return e.isVisible()?e:Qa(e,s+1)}var co=function(a){function s(){var e=a!==null&&a.apply(this,arguments)||this;return e._lastFocus=+new Date,e._setActive=function(t){e._active=t},e._setContent=function(t){e._content=t},e._setLimitator=function(t){e._limitator=t},e._setPopup=function(t){e._popup=t},e._setWrapper=function(t){e._wrapper=t},e._onOverlayClick=function(){e._isOpen&&e.s.closeOnOverlayClick&&!e._preventClose&&e._close("overlay"),e._preventClose=!1},e._onDocClick=function(t){e.s.showOverlay||t.target===e.s.focusElm||vt!==e||e._onOverlayClick()},e._onMouseDown=function(t){e.s.showOverlay||(e._target=t.target)},e._onMouseUp=function(t){e._target&&e._popup&&e._popup.contains(e._target)&&!e._popup.contains(t.target)&&(e._preventClose=!0),e._target=!1},e._onPopupClick=function(){e.s.showOverlay||(e._preventClose=!0)},e._onAnimationEnd=function(t){t.target===e._popup&&(e._isClosing&&(e._onClosed(),e._isClosing=!1,e.state.isReady?e.setState({isReady:!1}):e.forceUpdate()),e._isOpening&&(e._onOpened(),e._isOpening=!1,e.forceUpdate()))},e._onButtonClick=function(t){var n=t.domEvent,r=t.button;e._hook("onButtonClick",{domEvent:n,button:r}),/cancel|close|ok|set/.test(r.name)&&e._close(r.name)},e._onFocus=function(t){var n=+new Date;vt===e&&t.target.nodeType&&e._ctx.contains(t.target)&&e._popup&&!e._popup.contains(t.target)&&n-e._lastFocus>100&&t.target!==e.s.focusElm&&(e._lastFocus=n,e._active.focus())},e._onKeyDown=function(t){var n=e.s,r=t.keyCode,i=n.focusElm&&!n.focusOnOpen?n.focusElm:void 0;if((r===32&&!on(t.target,tr)||e._lock&&(r===38||r===40))&&t.preventDefault(),n.focusTrap&&r===9){var l=e._popup.querySelectorAll(io),d=[],u=-1,o=0,c=-1,_=void 0;rt(l,function(h){h.disabled||!h.offsetHeight&&!h.offsetWidth||(d.push(h),u++,h===e._doc.activeElement&&(c=u))}),t.shiftKey&&(o=u,u=0),c===u?_=i||d[o]:t.target===i&&(_=d[o]),_&&(_.focus(),t.preventDefault())}},e._onContentScroll=function(t){!e._lock||t.type==="touchmove"&&t.touches[0].touchType==="stylus"||t.preventDefault()},e._onScroll=function(t){var n=e.s;n.closeOnScroll?e._close("scroll"):(e._hasContext||n.display==="anchored")&&e.position()},e._onWndKeyDown=function(t){var n=e.s,r=t.keyCode;if(vt===e&&r!==void 0){if(e._hook("onKeyDown",{keyCode:r}),n.closeOnEsc&&r===27&&e._close("esc"),r===13&&on(t.target,so)&&!t.shiftKey)return;if(e._buttons)for(var i=0,l=e._buttons;i<l.length;i++)for(var d=l[i],u=0,o=Be(d.keyCode)?d.keyCode:[d.keyCode];u<o.length;u++){var c=o[u];if(!d.disabled&&c!==void 0&&(c===r||ro[c]===r))return void d.handler(t)}}},e._onResize=function(){var t=e._wrapper,n=e._hasContext;if(t){e._vpWidth=Math.min(t.clientWidth,n?1/0:e._win.innerWidth),e._vpHeight=Math.min(t.clientHeight,n?1/0:e._win.innerHeight),e._maxWidth=e._limitator.offsetWidth,e._maxHeight=e.s.maxHeight!==void 0||e._vpWidth<768||e._vpHeight<650?e._limitator.offsetHeight:600,e._round=e.s.touchUi===!1||e._popup.offsetWidth<e._vpWidth&&e._vpWidth>e._maxWidth;var r={isLarge:e._round,maxPopupHeight:e._maxHeight,maxPopupWidth:e._maxWidth,target:t,windowHeight:e._vpHeight,windowWidth:e._vpWidth};e._hook("onResize",r)===!1||r.cancel||e.position()}},e}return $(s,a),s.prototype.open=function(){this._isOpen||this.setState({isOpen:!0})},s.prototype.close=function(){this._close()},s.prototype.isVisible=function(){return!!this._isOpen},s.prototype.position=function(){if(this._isOpen){var e=this.s,t=this.state,n=this._wrapper,r=this._popup,i=this._hasContext,l=e.anchor,d=e.anchorAlign,u=e.rtl,o=Ba(this._scrollCont),c=Ua(this._scrollCont),_=this._vpWidth,h=this._vpHeight,p=this._maxWidth,v=this._maxHeight,g=Math.min(r.offsetWidth,p),f=Math.min(r.offsetHeight,v),y=e.showArrow;this._lock=e.scrollLock&&this._content.scrollHeight<=this._content.clientHeight,i&&(n.style.top=o+"px",n.style.left=c+"px");var b=this._hook("onPosition",{isLarge:this._round,maxPopupHeight:v,maxPopupWidth:p,target:this._wrapper,windowHeight:h,windowWidth:_})===!1;if(e.display!=="anchored"||b)this.setState({height:h,isReady:!0,showArrow:y,width:_});else{var x=0,T=0,S=Oe(t.modalLeft||0,8,_-g-8),w=t.modalTop||8,C="bottom",k={},L=y?16:4,z=(n.offsetWidth-_)/2,E=(n.offsetHeight-h)/2;if(i){var F=this._ctx.getBoundingClientRect();T=F.top,x=F.left}if(l&&this._ctx.contains(l)){var N=l.getBoundingClientRect(),I=N.top-T,Y=N.left-x,A=l.offsetWidth,q=l.offsetHeight;if(S=Oe(S=d==="start"&&!u||d==="end"&&u?Y:d==="end"&&!u||d==="start"&&u?Y+A-g:Y-(g-A)/2,8,_-g-8),w=I+q+L,k={left:Oe(Y+A/2-S-z,30,g-30)+"px"},w+f+L>h){if(I-f-L>0)C="top",w=I-f-L;else if(!e.disableLeftRight){var G=Y-g-8>0;(G||Y+A+g+8<=_)&&((w=Oe(I-(f-q)/2,8,h-f-8))+f+8>h&&(w=Math.max(h-f-8,0)),k={top:Oe(I+q/2-w-E,30,f-30)+"px"},C=G?"left":"right",S=G?Y-g:Y+A)}}}C!=="top"&&C!=="bottom"||w+f+L>h&&(w=Math.max(h-f-L,0),y=!1),this.setState({arrowPos:k,bubblePos:C,height:h,isReady:!0,modalLeft:S,modalTop:w,showArrow:y,width:_})}}},s.prototype._render=function(e,t){e.display==="bubble"&&(e.display="anchored");var n=e.animation,r=e.display,i=this._prevS,l=r==="anchored",d=r!=="inline",u=e.fullScreen&&d,o=!!d&&(e.isOpen===void 0?t.isOpen:e.isOpen);if(o&&(e.windowWidth!==i.windowWidth||e.display!==i.display||e.showArrow!==i.showArrow||e.anchor!==i.anchor&&e.display==="anchored")&&(this._shouldPosition=!0),this._limits={maxHeight:Nt(e.maxHeight),maxWidth:Nt(e.maxWidth)},this._style={height:u?"100%":Nt(e.height),left:l&&t.modalLeft?t.modalLeft+"px":"",maxHeight:Nt(this._maxHeight||e.maxHeight),maxWidth:Nt(this._maxWidth||e.maxWidth),top:l&&t.modalTop?t.modalTop+"px":"",width:u?"100%":Nt(e.width)},this._hasContext=e.context!=="body"&&e.context!==void 0,this._needsLock=oo&&!this._hasContext&&r!=="anchored"&&e.scrollLock,this._isModal=d,this._flexButtons=r==="center"||!this._touchUi&&!u&&(r==="top"||r==="bottom"),n!==void 0&&n!==!0)this._animation=le(n)?n:"";else switch(r){case"bottom":this._animation="slide-up";break;case"top":this._animation="slide-down";break;default:this._animation="pop"}e.buttons?e.buttons!==i.buttons&&(this._buttons=lo(this,e.buttons)):this._buttons=void 0,e.headerText!==i.headerText&&(this._headerText=e.headerText?this._safeHtml(e.headerText):void 0),e.context!==i.context&&(this._contextChanged=!0),o&&!this._isOpen&&this._onOpen(),!o&&this._isOpen&&this._onClose(),this._isOpen=o,this._isVisible=o||this._isClosing},s.prototype._updated=function(){var e=this,t=this.s,n=this._wrapper;if(he&&(this._contextChanged||!this._ctx)&&((r=le(t.context)?he.querySelector(t.context):t.context)||(r=he.body),this._ctx=r,this._contextChanged=!1,this._justOpened))return void jt(this,function(){e.forceUpdate()});if(n){if(this._justOpened){var r=this._ctx,i=this._hasContext,l=this._doc=Ct(n),d=this._win=Tn(n),u=l.activeElement;if(!this._hasWidth&&t.responsive){var o=Math.min(n.clientWidth,i?1/0:d.innerWidth),c=Math.min(n.clientHeight,i?1/0:d.innerHeight);if(this._hasWidth=!0,o!==this.state.width||c!==this.state.height)return void jt(this,function(){e.setState({height:c,width:o})})}if(this._scrollCont=i?r:d,this._observer=er(n,this._onResize,this._zone),this._prevFocus=t.focusElm||u,r.__mbscModals=(r.__mbscModals||0)+1,this._needsLock){if(!r.__mbscIOSLock){var _=Ba(this._scrollCont),h=Ua(this._scrollCont);r.style.left=-h+"px",r.style.top=-_+"px",r.__mbscScrollLeft=h,r.__mbscScrollTop=_,r.classList.add("mbsc-popup-open-ios"),r.parentElement.classList.add("mbsc-popup-open-ios")}r.__mbscIOSLock=(r.__mbscIOSLock||0)+1}i&&r.classList.add("mbsc-popup-ctx"),t.focusTrap&&oe(d,"focusin",this._onFocus),t.focusElm&&!t.focusOnOpen&&oe(t.focusElm,"keydown",this._onKeyDown),oe(this._scrollCont,"touchmove",this._onContentScroll,{passive:!1}),oe(this._scrollCont,"wheel",this._onContentScroll,{passive:!1}),oe(this._scrollCont,"mousewheel",this._onContentScroll,{passive:!1}),setTimeout(function(){t.focusOnOpen&&u&&u.blur(),Un&&e._animation||e._onOpened(),oe(l,Ue,e._onMouseDown),oe(l,St,e._onMouseUp),oe(l,at,e._onDocClick)}),this._hook("onOpen",{target:this._wrapper})}this._shouldPosition&&jt(this,function(){e._onResize()}),this._justOpened=!1,this._justClosed=!1,this._shouldPosition=!1}},s.prototype._destroy=function(){this._isOpen&&(this._onClosed(),this._unlisten(),vt===this&&(vt=Qa(this)))},s.prototype._onOpen=function(){var e=this;Un&&this._animation&&(this._isOpening=!0,this._isClosing=!1),this._justOpened=!0,this._preventClose=!1,this.s.setActive&&vt!==this&&setTimeout(function(){e._prevModal=vt,vt=e})},s.prototype._onClose=function(){var e=this;Un&&this._animation?(this._isClosing=!0,this._isOpening=!1):setTimeout(function(){e._onClosed(),e.setState({isReady:!1})}),this._hasWidth=!1,this._unlisten()},s.prototype._onOpened=function(){var e=this.s;if(e.focusOnOpen){var t=e.activeElm,n=t?le(t)?this._popup.querySelector(t)||this._active:t:this._active;n&&n.focus&&n.focus()}oe(this._win,"keydown",this._onWndKeyDown),oe(this._scrollCont,"scroll",this._onScroll)},s.prototype._onClosed=function(){var e=this,t=this._ctx,n=this._prevFocus,r=this.s.focusOnClose&&n&&n.focus&&n!==this._doc.activeElement;t.__mbscModals&&t.__mbscModals--,this._justClosed=!0,this._needsLock&&(t.__mbscIOSLock&&t.__mbscIOSLock--,t.__mbscIOSLock||(t.classList.remove("mbsc-popup-open-ios"),t.parentElement.classList.remove("mbsc-popup-open-ios"),t.style.left="",t.style.top="",function(i,l){i.scrollTo?i.scrollTo(l,i.scrollY):i.scrollLeft=l}(this._scrollCont,t.__mbscScrollLeft||0),function(i,l){i.scrollTo?i.scrollTo(i.scrollX,l):i.scrollTop=l}(this._scrollCont,t.__mbscScrollTop||0))),this._hasContext&&!t.__mbscModals&&t.classList.remove("mbsc-popup-ctx"),this._hook("onClosed",{focus:r}),r&&n.focus(),setTimeout(function(){vt===e&&(vt=Qa(e))})},s.prototype._unlisten=function(){se(this._win,"keydown",this._onWndKeyDown),se(this._scrollCont,"scroll",this._onScroll),se(this._scrollCont,"touchmove",this._onContentScroll,{passive:!1}),se(this._scrollCont,"wheel",this._onContentScroll,{passive:!1}),se(this._scrollCont,"mousewheel",this._onContentScroll,{passive:!1}),se(this._doc,Ue,this._onMouseDown),se(this._doc,St,this._onMouseUp),se(this._doc,at,this._onDocClick),this.s.focusTrap&&se(this._win,"focusin",this._onFocus),this.s.focusElm&&se(this.s.focusElm,"keydown",this._onKeyDown),this._observer&&(this._observer.detach(),this._observer=null)},s.prototype._close=function(e){this._isOpen&&(this.s.isOpen===void 0&&this.setState({isOpen:!1}),this._hook("onClose",{source:e}))},s.defaults={buttonVariant:"flat",cancelText:"Cancel",closeOnEsc:!0,closeOnOverlayClick:!0,closeText:"Close",contentPadding:!0,display:"center",focusOnClose:!0,focusOnOpen:!0,focusTrap:!0,maxWidth:600,okText:"Ok",scrollLock:!0,setActive:!0,setText:"Set",showArrow:!0,showOverlay:!0},s}(Fe);function Gt(a,s,e,t,n,r){var i=Te(s);if(n&&+s<n||r&&+s>r)return!0;if(t&&t[i])return!1;var l=e&&e[i];if(l)for(var d=0,u=l;d<u.length;d++){var o=u[d],c=o.start,_=o.end,h=o.allDay;if(!c||!_||h)return o;var p=lt(a,h,c,_),v=Sr(a,s),g=Cr(a,p);if(!Pe(c,_)&&(+c==+v||+p==+g||!Pe(s,c)&&!Pe(s,_)&&s>c&&s<_))return o}return!1}function uo(a,s,e,t,n,r,i){var l,d,u=!0,o=!0,c=0,_=0;+a<e&&(a=ie(s,e)),+a>t&&(a=ie(s,t));var h=s.getYear(a),p=s.getMonth(a),v=s.getDate(h,p-1,1),g=s.getDate(h,p+2,1),f=+v>e?+v:e,y=+g<t?+g:t;if(n||(r=ot(s.valid,v,g,s,!0),n=ot(s.invalid,v,g,s,!0)),!Gt(s,a,n,r,e,t))return a;for(l=a,d=a;u&&+l<y&&c<100;)u=Gt(s,l=te(l,1),n,r,e,t),c++;for(;o&&+d>f&&_<100;)o=Gt(s,d=te(d,-1),n,r,e,t),_++;return u&&o?a:i!==1||u?i!==-1||o?$s(a,l,s)&&!u?l:$s(a,d,s)&&!o?d:o||_>=c&&!u?l:d:d:l}var ho=function(){function a(){this.pageSize=0,this._prevS={},this._s={}}return a.prototype.options=function(s,e){var t=this._s=W({},this._s,s),n=this._prevS,r=t.getDate,i=t.getYear,l=t.getMonth,d=t.showCalendar,u=t.calendarType,o=t.startDay,c=t.endDay,_=t.firstDay,h=u==="week",p=d?h?t.weeks:6:0,v=t.min===n.min&&this.minDate?this.minDate:nt(t.min)?-1/0:ne(t.min),g=t.max===n.max&&this.maxDate?this.maxDate:nt(t.max)?1/0:ne(t.max),f=t.activeDate||+new Date,y=Oe(f,+v,+g),b=this.forcePageChange||y!==f,x=new Date(y),T=y!==n.activeDate,S=t.calendarType!==n.calendarType||t.eventRange!==n.eventRange||t.firstDay!==n.firstDay||t.eventRangeSize!==n.eventRangeSize||t.refDate!==n.refDate||d!==n.showCalendar||t.size!==n.size||t.weeks!==n.weeks,w=b||this.pageIndex===void 0||S||!this.preventPageChange&&T&&(y<+this.firstDay||y>=+this.lastDay)?Bt(x,t):this.pageIndex,C=u==="year"?12:t.size||1,k=C>1&&!h,L=k?1:$i(t.pages,this.pageSize),z=t.calendarScroll==="vertical"&&t.pages!=="auto"&&(t.pages===void 0||t.pages===1),E=t.showOuterDays!==void 0?t.showOuterDays:!z&&L<2&&(h||!C||C<2),F=k?0:1,N=tn(w,t),I=tn(w+L,t);d||t.eventRange!=="week"||o===void 0||c===void 0||(N=te(N,o-_+(o<_?7:0)),I=te(N,7*t.eventRangeSize+c-o+1-(c<o?0:7)));var Y=d&&E?Ke(N,t):N,A=k?r(i(I),l(I)-1,1):tn(w+L-1,t),q=d&&E?te(Ke(A,t),7*p):I,G=d?Ke(tn(w-F,t),t):N,O=d?Ke(tn(w+L+F-1,t),t):I,R=d?te(k?Ke(A,t):O,7*p):I,U=this.pageIndex===void 0,j=G,B=R;if(!d&&t.resolution==="week"&&(t.eventRange==="year"||t.eventRange==="month")){var V=c-o+1+(c<o?7:0);if(N.getDay()!==o&&(j=(J=te(K=Ke(N,t,o),V))<=N?te(K,7):K),I.getDay()!==o){var K,J=te(K=Ke(I,t,o),V);B=K>I?te(J,-7):J}}var P=!1;w!==void 0&&(P=+j!=+this.viewStart||+B!=+this.viewEnd,this.pageIndex=w),this.firstDay=N,this.lastDay=I,this.firstPageDay=Y,this.lastPageDay=q,this.viewStart=j,this.viewEnd=B,this.forcePageChange=!1,this.preventPageChange=!1,this.minDate=v,this.maxDate=g,this._prevS=t,w!==void 0&&(P||e)&&(P&&!U&&this.pageChange(),this.pageLoading(P))},a.prototype.pageChange=function(){this._s.onPageChange&&this._s.onPageChange({firstDay:this.firstPageDay,lastDay:this.lastPageDay,month:this._s.calendarType==="month"?this.firstDay:void 0,type:"onPageChange",viewEnd:this.viewEnd,viewStart:this.viewStart})},a.prototype.pageLoading=function(s){this._s.onPageLoading&&this._s.onPageLoading({firstDay:this.firstPageDay,lastDay:this.lastPageDay,month:this._s.calendarType==="month"?this.firstDay:void 0,type:"onPageLoading",viewChanged:s,viewEnd:this.viewEnd,viewStart:this.viewStart})},a}();var mo=function(){function a(){this.onInstanceReady=new Ot,this.onComponentChange=new Ot}return Object.defineProperty(a.prototype,"instance",{get:function(){return this.inst},set:function(s){this.inst=s,this.onInstanceReady.next(s)},enumerable:!0,configurable:!0}),a}(),es,Qt,yt=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s.prototype._template=function(e){return function(t,n){return n._hasChildren?m("span",{onClick:t.onClick,className:n._cssClass},t.name):m("span",{onClick:t.onClick,className:n._cssClass,dangerouslySetInnerHTML:n._svg,"v-html":void 0})}(e,this)},s}(function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s.prototype._render=function(e){this._hasChildren=e.name!==void 0&&!le(e.name),this._cssClass=this._className+" mbsc-icon"+this._theme+(e.name&&!this._hasChildren?e.name.indexOf(" ")!==-1?" "+e.name:" mbsc-font-icon mbsc-icon-"+e.name:""),this._svg=e.svg?this._safeHtml(e.svg):void 0},s}(Fe)),ea=0;function Yt(a,s,e){var t=(e?"page":"client")+s;return a.targetTouches&&a.targetTouches[0]?a.targetTouches[0][t]:a.changedTouches&&a.changedTouches[0]?a.changedTouches[0][t]:a[t]}function _o(a,s){if(!s.mbscClick){var e=(a.originalEvent||a).changedTouches[0],t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),t.isMbscTap=!0,t.isIonicTap=!0,es=!0,s.mbscChange=!0,s.mbscClick=!0,s.dispatchEvent(t),es=!1,ea++,setTimeout(function(){ea--},500),setTimeout(function(){delete s.mbscClick})}}function po(a){!ea||es||a.isMbscTap||a.target.nodeName==="TEXTAREA"&&a.type===Ue||(a.stopPropagation(),a.preventDefault())}function mi(a){Tn(a.target).__mbscFocusVisible=!1}function _i(a){Tn(a.target).__mbscFocusVisible=!0}function Na(a){a&&setTimeout(function(){a.style.opacity="0",a.style.transition="opacity linear .4s",setTimeout(function(){a&&a.parentNode&&a.parentNode.removeChild(a)},400)},200)}function $e(a,s){var e,t,n,r,i,l,d,u,o,c,_,h,p,v,g,f={},y=Tn(a),b=Ct(a);function x(O){if(O.type==="touchstart")Qt=!0;else if(Qt)return O.type===Ue&&(Qt=!1),!0;return!1}function T(){d&&(Na(r),r=function(O,R,U){var j=O.getBoundingClientRect(),B=R-j.left,V=U-j.top,K=Math.max(B,O.offsetWidth-B),J=Math.max(V,O.offsetHeight-V),P=2*Math.sqrt(Math.pow(K,2)+Math.pow(J,2)),Q=he.createElement("span");Q.classList.add("mbsc-ripple");var Z=Q.style;return Z.backgroundColor=getComputedStyle(O).color,Z.width=P+"px",Z.height=P+"px",Z.top=U-j.top-P/2+"px",Z.left=R-j.left-P/2+"px",O.appendChild(Q),setTimeout(function(){Z.opacity=".2",Z.transform="scale(1)",Z.transition="opacity linear .1s, transform cubic-bezier(0, 0, 0.2, 1) .4s"},30),Q}(a,_,h)),s.onPress(),e=!0}function S(O,R){t=!1,Na(O),clearTimeout(n),n=setTimeout(function(){e&&(s.onRelease(),e=!1)},R)}function w(O){if(!x(O)&&(O.type!==Ue||O.button===0&&!O.ctrlKey)){if(o=Yt(O,"X"),c=Yt(O,"Y"),_=o,h=c,e=!1,t=!1,u=!1,g=!0,f.moved=u,f.startX=o,f.startY=c,f.endX=_,f.endY=h,f.deltaX=0,f.deltaY=0,f.domEvent=O,f.isTouch=Qt,Na(r),s.onStart){var R=s.onStart(f);d=R&&R.ripple}s.onPress&&(t=!0,clearTimeout(n),n=setTimeout(T,50)),O.type===Ue&&(oe(b,"mousemove",C),oe(b,St,k)),oe(b,"contextmenu",q)}}function C(O){g&&(_=Yt(O,"X"),h=Yt(O,"Y"),p=_-o,v=h-c,!u&&(Math.abs(p)>9||Math.abs(v)>9)&&(u=!0,S(r)),f.moved=u,f.endX=_,f.endY=h,f.deltaX=p,f.deltaY=v,f.domEvent=O,f.isTouch=O.type==="touchmove",s.onMove&&s.onMove(f))}function k(O){g&&(t&&!e&&(clearTimeout(n),T()),f.domEvent=O,f.isTouch=O.type==="touchend",s.onEnd&&s.onEnd(f),S(r,75),g=!1,O.type==="touchend"&&s.click&&Nr&&!u&&_o(O,O.target),O.type===St&&(se(b,"mousemove",C),se(b,St,k)),se(b,"contextmenu",q))}function L(O){x(O)||(l=!0,s.onHoverIn(O))}function z(O){l&&s.onHoverOut(O),l=!1}function E(O){s.onKeyDown(O)}function F(O){(s.keepFocus||y.__mbscFocusVisible)&&(i=!0,s.onFocus(O))}function N(O){i&&s.onBlur(O),i=!1}function I(O){s.onChange(O)}function Y(O){s.onInput(O)}function A(O){f.domEvent=O,Qt||s.onDoubleClick(f)}function q(O){Qt&&O.preventDefault()}if(oe(a,Ue,w),oe(a,"touchstart",w,{passive:!0}),oe(a,"touchmove",C,{passive:!1}),oe(a,"touchend",k),oe(a,"touchcancel",k),s.onChange&&oe(a,Lt,I),s.onInput&&oe(a,"input",Y),s.onHoverIn&&oe(a,$a,L),s.onHoverOut&&oe(a,"mouseleave",z),s.onKeyDown&&oe(a,"keydown",E),s.onFocus&&y&&(oe(a,"focus",F),!s.keepFocus)){var G=y.__mbscFocusCount||0;G===0&&(oe(y,Ue,mi,!0),oe(y,"keydown",_i,!0)),y.__mbscFocusCount=++G}return s.onBlur&&oe(a,"blur",N),s.onDoubleClick&&oe(a,"dblclick",A),function(){if(clearTimeout(n),s.onFocus&&y&&!s.keepFocus){var O=y.__mbscFocusCount||0;y.__mbscFocusCount=--O,O<=0&&(se(y,Ue,mi),se(y,"keydown",_i))}se(a,"input",Y),se(a,Ue,w),se(a,"touchstart",w,{passive:!0}),se(a,"touchmove",C,{passive:!1}),se(a,"touchend",k),se(a,"touchcancel",k),se(b,"mousemove",C),se(b,St,k),se(b,"contextmenu",q),se(a,Lt,I),se(a,$a,L),se(a,"mouseleave",z),se(a,"keydown",E),se(a,"focus",F),se(a,"blur",N),se(a,"dblclick",A)}}qe&&(["mousedown",$a,Ue,St,at].forEach(function(a){he.addEventListener(a,po,!0)}),bt==="android"&&Va<5&&he.addEventListener(Lt,function(a){var s=a.target;ea&&s.type==="checkbox"&&!s.mbscChange&&(a.stopPropagation(),a.preventDefault()),delete s.mbscChange},!0));var ct=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s.prototype._template=function(e){return function(t,n,r){var i=n.props,l=i.ariaLabel;i.children,i.className,i.color;var d=i.endIcon;i.endIconSrc;var u=i.endIconSvg;i.hasChildren;var o=i.icon;i.iconSrc;var c=i.iconSvg;i.ripple,i.rtl;var _=i.role,h=i.startIcon;i.startIconSrc;var p=i.startIconSvg;i.tag,i.tabIndex,i.theme,i.themeVariant,i.variant;var v=dt(i,["ariaLabel","children","className","color","endIcon","endIconSrc","endIconSvg","hasChildren","icon","iconSrc","iconSvg","ripple","rtl","role","startIcon","startIconSrc","startIconSvg","tag","tabIndex","theme","themeVariant","variant"]),g=W({"aria-label":l,className:n._cssClass,ref:n._setEl},v),f=m(We,null,n._isIconOnly&&m(yt,{className:n._iconClass,name:o,svg:c,theme:t.theme}),n._hasStartIcon&&m(yt,{className:n._startIconClass,name:h,svg:p,theme:t.theme}),r,n._hasEndIcon&&m(yt,{className:n._endIconClass,name:d,svg:u,theme:t.theme}));return t.tag==="span"?m("span",W({role:_,"aria-disabled":t.disabled,tabIndex:n._tabIndex},g),f):t.tag==="a"?m("a",W({"aria-disabled":t.disabled,tabIndex:n._tabIndex},g),f):m("button",W({role:_,tabIndex:n._tabIndex},g),f)}(e,this,e.children)},s}(function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s.prototype._mounted=function(){var e=this;this._unlisten=$e(this._el,{click:!0,onBlur:function(){e.setState({hasFocus:!1})},onFocus:function(){e.setState({hasFocus:!0})},onHoverIn:function(){e.s.disabled||e.setState({hasHover:!0})},onHoverOut:function(){e.setState({hasHover:!1})},onKeyDown:function(t){switch(t.keyCode){case 13:case 32:e._el.click(),t.preventDefault()}},onPress:function(){e.setState({isActive:!0})},onRelease:function(){e.setState({isActive:!1})},onStart:function(){return{ripple:e.s.ripple&&!e.s.disabled}}})},s.prototype._render=function(e,t){var n=this,r=e.disabled;this._isIconOnly=!(!e.icon&&!e.iconSvg),this._hasStartIcon=!(!e.startIcon&&!e.startIconSvg),this._hasEndIcon=!(!e.endIcon&&!e.endIconSvg),this._tabIndex=r?void 0:e.tabIndex||0,this._cssClass=this._className+" mbsc-reset mbsc-font mbsc-button"+this._theme+this._rtl+" mbsc-button-"+e.variant+(this._isIconOnly?" mbsc-icon-button":"")+(r?" mbsc-disabled":"")+(e.color?" mbsc-button-"+e.color:"")+(t.hasFocus&&!r?" mbsc-focus":"")+(t.isActive&&!r?" mbsc-active":"")+(t.hasHover&&!r?" mbsc-hover":""),this._iconClass="mbsc-button-icon"+this._rtl,this._startIconClass=this._iconClass+" mbsc-button-icon-start",this._endIconClass=this._iconClass+" mbsc-button-icon-end",e.disabled&&t.hasHover&&setTimeout(function(){n.setState({hasHover:!1})})},s.prototype._destroy=function(){this._unlisten&&this._unlisten()},s.defaults={ripple:!1,role:"button",tag:"button",variant:"standard"},s._name="Button",s}(Fe)),fo={before:function(a,s){s.tag=a.nodeName.toLowerCase()},hasChildren:!0,parentClass:"mbsc-button",readProps:["disabled"],slots:{endIcon:"end-icon",icon:"icon",startIcon:"start-icon"}},nr=Gi({}),sa=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s.prototype.componentWillUnmount=function(){this._changes&&this._changes.unsubscribe(this._handler)},s.prototype.render=function(){var e=this,t=this.props,n=t.host,r=t.component,i=t.view,l=dt(t,["host","component","view"]),d=i||n&&n._calendarView;return d&&!this._changes&&(this._changes=d.s.instanceService.onComponentChange,this._handler=this._changes.subscribe(function(){e.forceUpdate()})),m(nr.Consumer,null,function(u){var o=u.instance||i||n&&n._calendarView;return o&&m(r,W({inst:o},l))})},s}(Ji),vo=function(a){var s=a.inst,e=a.className;return m(ct,{ariaLabel:s.s.prevPageText,className:"mbsc-calendar-button "+(e||""),disabled:s._isPrevDisabled(),iconSvg:s._prevIcon,onClick:s.prevPage,theme:s.s.theme,themeVariant:s.s.themeVariant,type:"button",variant:"flat"})},go=function(a){var s=a.inst,e=a.className;return m(ct,{ariaLabel:s.s.nextPageText,disabled:s._isNextDisabled(),className:"mbsc-calendar-button "+(e||""),iconSvg:s._nextIcon,onClick:s.nextPage,theme:s.s.theme,themeVariant:s.s.themeVariant,type:"button",variant:"flat"})},yo=function(a){var s=a.inst,e=a.className;return m(ct,{className:"mbsc-calendar-button mbsc-calendar-button-today "+(e||""),onClick:s._onTodayClick,theme:s.s.theme,themeVariant:s.s.themeVariant,type:"button",variant:"flat"},s.s.todayText)},bo=function(a){var s=a.inst,e=a.className,t=s.s,n=s._theme,r=s._view;return m("div",{"aria-live":"polite",className:(e||"")+n},s._title.map(function(i,l){return(s._pageNr===1||l===0||s._hasPicker||r==="page")&&m(ct,{className:"mbsc-calendar-button"+(s._pageNr>1?" mbsc-flex-1-1":""),"data-index":l,onClick:s._onPickerBtnClick,key:l,theme:t.theme,themeVariant:t.themeVariant,type:"button",variant:"flat"},(s._hasPicker||r==="page")&&(i.title?m("span",{className:"mbsc-calendar-title"+n},i.title):m(We,null,s._yearFirst&&m("span",{className:"mbsc-calendar-title mbsc-calendar-year"+n},i.yearTitle),m("span",{className:"mbsc-calendar-title mbsc-calendar-month"+n},i.monthTitle),!s._yearFirst&&m("span",{className:"mbsc-calendar-title mbsc-calendar-year"+n},i.yearTitle))),!s._hasPicker&&r!=="page"&&m("span",{className:"mbsc-calendar-title"+n},s._viewTitle),t.downIcon&&s._pageNr===1?m(yt,{svg:r==="page"?t.downIcon:t.upIcon,theme:t.theme}):null)}))},ia=function(a){var s=a.calendar,e=a.view,t=dt(a,["calendar","view"]);return m(sa,W({component:vo,host:s,view:e},t))};ia._name="CalendarPrev";var ra=function(a){var s=a.calendar,e=a.view,t=dt(a,["calendar","view"]);return m(sa,W({component:go,host:s,view:e},t))};ra._name="CalendarNext";var oa=function(a){var s=a.calendar,e=a.view,t=dt(a,["calendar","view"]);return m(sa,W({component:yo,host:s,view:e},t))};oa._name="CalendarToday";var la=function(a){var s=a.calendar,e=a.view,t=dt(a,["calendar","view"]);return m(sa,W({component:bo,host:s,view:e},t))};la._name="CalendarNav";var xo=function(a){function s(){var e=a!==null&&a.apply(this,arguments)||this;return e.state={height:"sm",pageSize:0,pickerSize:0,width:"sm"},e._dim={},e._months=[1,2,3],e._title=[],e.PAGE_VIEW="page",e.MONTH_VIEW="month",e.YEAR_VIEW="year",e.MULTI_YEAR_VIEW="multi-year",e.nextPage=function(){switch(e._prevDocClick(),e._view){case"month":e._activeMonthChange(1);break;case"multi-year":e._activeYearsChange(1);break;case"year":e._activeYearChange(1);break;default:e._activeChange(1)}},e.prevPage=function(){switch(e._prevDocClick(),e._view){case"month":e._activeMonthChange(-1);break;case"multi-year":e._activeYearsChange(-1);break;case"year":e._activeYearChange(-1);break;default:e._activeChange(-1)}},e._changeView=function(t){var n=e.s,r=e._view,i=e._hasPicker,l=n.selectView,d=n.navView,u=n.showCalendar&&n.calendarType==="year";if(!t){switch(r){case"page":t=d||(u?"multi-year":"year");break;case"month":t="year";break;case"multi-year":t=u||d==="multi-year"?"page":"year";break;default:t=i&&d==="year"||l==="year"||e._prevView!=="multi-year"?"multi-year":d==="month"?"month":"page"}l!=="multi-year"&&d!=="multi-year"||(t="multi-year")}r==="page"&&(e._activeMonth=e._active);var o=i&&t===l;e._prevView=r,e.setState({view:t,viewClosing:o?void 0:r,viewOpening:o?void 0:t})},e._onDayHoverIn=function(t){e._disableHover||(e._hook("onDayHoverIn",t),e._hoverTimer=setTimeout(function(){var n=Te(t.date);e._labels&&(t.labels=e._labels[n]),e._marked&&(t.marked=e._marked[n]),e._isHover=!0,e._hook("onCellHoverIn",t)},150))},e._onDayHoverOut=function(t){if(!e._disableHover&&(e._hook("onDayHoverOut",t),clearTimeout(e._hoverTimer),e._isHover)){var n=Te(t.date);e._labels&&(t.labels=e._labels[n]),e._marked&&(t.marked=e._marked[n]),e._isHover=!1,e._hook("onCellHoverOut",t)}},e._onLabelClick=function(t){e._isLabelClick=!0,e._hook("onLabelClick",t)},e._onDayClick=function(t){e._shouldFocus=!e._isLabelClick,e._prevAnim=!1,e._isLabelClick=!1,e._hook("onDayClick",t)},e._onTodayClick=function(t){e._prevAnim=!1,e._hook("onActiveChange",{date:+ls(ie(e.s)),today:!0}),e._hook("onTodayClick",{})},e._onNavDayClick=function(t){if(!t.disabled){var n=t.date,r=Bt(n,e.s);e._prevDocClick(),e._changeView("page"),e._shouldFocus=!0,e._prevAnim=!e._hasPicker,e._hook("onActiveChange",{date:+n,nav:!0,pageChange:r!==e._pageIndex,today:!0})}},e._onMonthClick=function(t){if(!t.disabled){var n=e.s,r=new Date(t.date);if(n.selectView==="year")e._hook("onDayClick",t);else if(e._prevDocClick(),e._shouldFocus=!0,e._prevAnim=!e._hasPicker,e._activeMonth=+r,n.navView==="year"||n.navView===void 0){var i=Bt(r,n);e._changeView("page"),e._hook("onActiveChange",{date:+r,nav:!0,pageChange:i!==e._pageIndex,today:!0})}else e._changeView("month")}},e._onYearClick=function(t){if(!t.disabled){var n=t.date,r=e.s,i=r.selectView;if(i==="multi-year")e._hook("onDayClick",t);else if(e._shouldFocus=!0,e._prevAnim=i==="year",e._activeMonth=+n,e._prevDocClick(),r.navView==="multi-year"||r.calendarType==="year"){var l=Bt(n,r);e._changeView("page"),e._hook("onActiveChange",{date:+n,pageChange:l!==e._pageIndex,today:!0})}else e._changeView("year")}},e._onPageChange=function(t){e._isSwipeChange=!0,e._activeChange(t.diff)},e._onMonthPageChange=function(t){e._activeMonthChange(t.diff)},e._onYearPageChange=function(t){e._activeYearChange(t.diff)},e._onYearsPageChange=function(t){e._activeYearsChange(t.diff)},e._onAnimationEnd=function(t){e._disableHover=!1,e._isIndexChange&&(e._pageLoaded(),e._isIndexChange=!1)},e._onStart=function(){clearTimeout(e._hoverTimer)},e._onGestureStart=function(t){e._disableHover=!0,e._hook("onGestureStart",t)},e._onGestureEnd=function(t){e._prevDocClick()},e._onPickerClose=function(){e.setState({view:"page"})},e._onPickerOpen=function(){var t=e._pickerCont.clientHeight,n=e._pickerCont.clientWidth;e.setState({pickerSize:e._isVertical?t:n})},e._onPickerBtnClick=function(t){e._view==="page"&&(e._pickerBtn=t.currentTarget),e._prevDocClick(),e._changeView()},e._onDocClick=function(){var t=e.s.selectView;e._prevClick||e._hasPicker||e._view===t||e._changeView(t)},e._onViewAnimationEnd=function(){e.state.viewClosing&&e.setState({viewClosing:void 0}),e.state.viewOpening&&e.setState({viewOpening:void 0})},e._onResize=function(){if(e._body&&qe){var t=e.s,n=e.state,r=t.showCalendar,i=r&&e.__getTextParam?e._body.querySelector(".mbsc-calendar-body-inner"):e._body,l=e._el.offsetWidth,d=e._el.offsetHeight,u=i.clientHeight,o=i.clientWidth,c=e._isVertical?u:o,_=e._hasPicker?n.pickerSize:c,h=r!==void 0,p="sm",v="sm",g=void 0,f=!1,y=0,b=0;if(t.responsiveStyle&&!e._isGrid&&(u>300&&(v="md"),o>767&&(p="md")),p!==n.width||v!==n.height)e._shouldCheckSize=!0,e.setState({width:p,height:v});else{if(e._labels&&r&&e.__getTextParam){var x=i.querySelector(".mbsc-calendar-text"),T=i.querySelector(".mbsc-calendar-day-inner"),S=T.querySelector(".mbsc-calendar-labels"),w=x?Hr(x,"marginBottom"):2,C=x?x.offsetHeight:18;y=S.offsetTop,f=i.scrollHeight>i.clientHeight,b=C+w,g=Math.max(1,De((T.clientHeight-y)/b))}e._hook("onResize",{height:d,target:e._el,width:l}),t.navService.pageSize=c;var k=e._shouldPageLoad?(n.update||0)+1:n.update;e.setState({cellTextHeight:y,hasScrollY:f,labelHeight:b,maxLabels:g,pageSize:c,pickerSize:_,ready:h,update:k})}}},e._onKeyDown=function(t){var n,r=e.s,i=e._view,l=i==="page"?e._active:e._activeMonth,d=new Date(l),u=r.getYear(d),o=r.getMonth(d),c=r.getDay(d),_=r.getDate,h=r.weeks,p=r.calendarType==="month";if(i==="multi-year"){var v=void 0;switch(t.keyCode){case 37:v=u-1*e._rtlNr;break;case 39:v=u+1*e._rtlNr;break;case 38:v=u-3;break;case 40:v=u+3;break;case 36:v=e._getPageYears(e._yearsIndex);break;case 35:v=e._getPageYears(e._yearsIndex)+11;break;case 33:v=u-12;break;case 34:v=u+12}v&&e._minYears<=v&&e._maxYears>=v&&(t.preventDefault(),e._shouldFocus=!0,e._prevAnim=!1,e._activeMonth=+_(v,0,1),e.forceUpdate())}else if(i==="year"){switch(t.keyCode){case 37:n=_(u,o-1*e._rtlNr,1);break;case 39:n=_(u,o+1*e._rtlNr,1);break;case 38:n=_(u,o-3,1);break;case 40:n=_(u,o+3,1);break;case 36:n=_(u,0,1);break;case 35:n=_(u,11,1);break;case 33:n=_(u-1,o,1);break;case 34:n=_(u+1,o,1)}n&&e._minYear<=n&&e._maxYear>=n&&(t.preventDefault(),e._shouldFocus=!0,e._prevAnim=!1,e._activeMonth=+n,e.forceUpdate())}else{switch(t.keyCode){case 37:n=_(u,o,c-1*e._rtlNr);break;case 39:n=_(u,o,c+1*e._rtlNr);break;case 38:n=_(u,o,c-7);break;case 40:n=_(u,o,c+7);break;case 36:n=_(u,o,1);break;case 35:n=_(u,o+1,0);break;case 33:n=t.altKey?_(u-1,o,c):p?_(u,o-1,c):_(u,o,c-7*h);break;case 34:n=t.altKey?_(u+1,o,c):p?_(u,o+1,c):_(u,o,c+7*h)}if(n&&e._minDate<=n&&e._maxDate>=n){t.preventDefault();var g=Bt(n,r);e._shouldFocus=!0,e._prevAnim=!1,i==="month"?(e._activeMonth=+n,e.forceUpdate()):(e._pageChange=r.noOuterChange&&g!==e._pageIndex,e._hook("onActiveChange",{date:+n,pageChange:e._pageChange}))}}},e._setHeader=function(t){e._headerElement=t},e._setBody=function(t){e._body=t},e._setPickerCont=function(t){e._pickerCont=t},e}return $(s,a),s.prototype._getPageDay=function(e){return+tn(e,this.s)},s.prototype._getPageStyle=function(e,t,n,r){var i;return(i={})[(Dt?Dt+"T":"t")+"ransform"]="translate"+this._axis+"("+100*(e-t)*this._rtlNr+"%)",i.position=e===n?"relative":"",i.width=100/(r||1)+"%",i},s.prototype._getPageMonth=function(e){var t=this.s,n=t.refDate?ne(t.refDate):st,r=t.getYear(n),i=t.getMonth(n);return+t.getDate(r,i+e,1)},s.prototype._getPageYear=function(e){var t=this.s,n=t.refDate?ne(t.refDate):st;return t.getYear(n)+e},s.prototype._getPageYears=function(e){var t=this.s,n=t.refDate?ne(t.refDate):st;return t.getYear(n)+12*e},s.prototype._getPickerClass=function(e){var t,n=e===this.s.selectView?" mbsc-calendar-picker-main":"",r="mbsc-calendar-picker",i=this._hasPicker,l=this.state,d=l.viewClosing,u=l.viewOpening;switch(e){case"page":t=i?"":(u==="page"?"in-down":"")+(d==="page"?"out-down":"");break;case"month":t=i&&d==="page"?"":(u==="month"?"in-down":"")+(d==="month"?"out-down":"");break;case"multi-year":t=i&&d==="page"?"":(u==="multi-year"?"in-up":"")+(d==="multi-year"?"out-up":"");break;default:t=!i||u!=="page"&&d!=="page"?(u==="year"?d==="multi-year"?"in-down":"in-up":"")+(d==="year"?u==="multi-year"?"out-down":"out-up":""):""}return r+n+(Un&&t?" "+r+"-"+t:"")},s.prototype._isNextDisabled=function(e){if(!this._hasPicker||e){var t=this._view;if(t==="multi-year")return this._yearsIndex+1>this._maxYearsIndex;if(t==="year")return this._yearIndex+1>this._maxYearIndex;if(t==="month")return this._monthIndex+1>this._maxMonthIndex}return this._pageIndex+1>this._maxIndex},s.prototype._isPrevDisabled=function(e){if(!this._hasPicker||e){var t=this._view;if(t==="multi-year")return this._yearsIndex-1<this._minYearsIndex;if(t==="year")return this._yearIndex-1<this._minYearIndex;if(t==="month")return this._monthIndex-1<this._minMonthIndex}return this._pageIndex-1<this._minIndex},s.prototype._render=function(e,t){var n=e.getDate,r=e.getYear,i=e.getMonth,l=e.showCalendar,d=e.calendarType,u=e.eventRange,o=e.eventRangeSize||1,c=e.firstDay,_=d==="week",h=d==="month",p=d==="year"?12:+(e.size||1),v=p>1&&!_,g=l?_?e.weeks:6:0,f=e.activeDate||this._active||+new Date,y=f!==this._active,b=new Date(f),x=this._prevS,T=e.dateFormat,S=e.monthNames,w=e.yearSuffix,C=Ei(e.labelList)?+e.labelList+1:e.labelList==="all"?-1:0,k=e.labelList!==x.labelList,L=e.navService,z=L.pageIndex,E=L.firstDay,F=L.lastDay,N=L.viewStart,I=L.viewEnd;if(this._minDate=L.minDate,this._maxDate=L.maxDate,nt(e.min))this._minIndex=-1/0,this._minYears=-1/0,this._minYearsIndex=-1/0,this._minYear=-1/0,this._minYearIndex=-1/0,this._minMonthIndex=-1/0;else{var Y=me(this._minDate);this._minDate=me(Y),this._minYear=n(r(Y),i(Y),1),this._minYears=r(Y),this._minIndex=Bt(Y,e),this._minYearIndex=ka(Y,e),this._minYearsIndex=wa(Y,e),this._minMonthIndex=Ma(Y,e)}if(nt(e.max))this._maxIndex=1/0,this._maxYears=1/0,this._maxYearsIndex=1/0,this._maxYear=1/0,this._maxYearIndex=1/0,this._maxMonthIndex=1/0;else{var A=this._maxDate;this._maxYear=n(r(A),i(A)+1,1),this._maxYears=r(A),this._maxIndex=Bt(A,e),this._maxYearIndex=ka(A,e),this._maxYearsIndex=wa(A,e),this._maxMonthIndex=Ma(A,e)}var q=d!==x.calendarType||u!==x.eventRange||c!==x.firstDay||e.eventRangeSize!==x.eventRangeSize||e.refDate!==x.refDate||e.showCalendar!==x.showCalendar||e.weeks!==x.weeks;q&&this._pageIndex!==void 0&&(this._prevAnim=!0),y&&(this._activeMonth=f),this._view=t.view||e.selectView,this._yearsIndex=wa(new Date(this._activeMonth),e),this._yearIndex=ka(new Date(this._activeMonth),e),this._monthIndex=Ma(new Date(this._activeMonth),e);var G=v?1:$i(e.pages,t.pageSize),O=e.calendarScroll==="vertical"&&e.pages!=="auto"&&(e.pages===void 0||e.pages===1),R=e.showOuterDays!==void 0?e.showOuterDays:!O&&G<2&&(_||!p||p<2),U=T.search(/m/i),j=T.search(/y/i);if(this._view==="month"){var B=new Date(this._getPageMonth(this._monthIndex)),V=S[i(B)],K=r(B)+w;this._viewTitle=j<U?K+" "+V:V+" "+K}else if(this._view==="year")this._viewTitle=this._getPageYear(this._yearIndex)+"";else if(this._view==="multi-year"){var J=this._getPageYears(this._yearsIndex);this._viewTitle=J+" - "+(J+11)}if(v&&(this._monthsMulti=[],z!==void 0)){for(var P=De(.96*t.pageSize/325.6)||1;p%P;)P--;for(var Q=0;Q<p/P;++Q){for(var Z=[],re=0;re<P;++re)Z.push(+n(r(E),i(E)+Q*P+re,1));this._monthsMulti.push(Z)}}(d!==x.calendarType||e.theme!==x.theme||e.calendarScroll!==x.calendarScroll||e.hasContent!==x.hasContent||e.showCalendar!==x.showCalendar||e.showSchedule!==x.showSchedule||e.showWeekNumbers!==x.showWeekNumbers||e.weeks!==x.weeks||k)&&(this._shouldCheckSize=!0),x.width===e.width&&x.height===e.height||(this._dim={height:Nt(e.height),width:Nt(e.width)}),this._cssClass="mbsc-calendar mbsc-font mbsc-flex-col"+this._theme+this._rtl+(t.ready?"":" mbsc-hidden")+(v?" mbsc-calendar-grid-view":" mbsc-calendar-height-"+t.height+" mbsc-calendar-width-"+t.width)+" "+e.cssClass,this._dayNames=t.width==="sm"||v?e.dayNamesMin:e.dayNamesShort,this._isSwipeChange=!1,this._yearFirst=j<U,this._pageNr=G,this._variableRow=C;var pe=e.pageLoad!==x.pageLoad,de=+N!=+this._viewStart||+I!=+this._viewEnd;if(this._pageIndex!==void 0&&de&&(this._isIndexChange=!this._isSwipeChange&&!q),z!==void 0&&(this._pageIndex=z),z!==void 0&&(e.marked!==x.marked||e.colors!==x.colors||e.labels!==x.labels||e.invalid!==x.invalid||e.valid!==x.valid||t.maxLabels!==this._maxLabels||de||k||pe)){this._maxLabels=t.maxLabels,this._viewStart=N,this._viewEnd=I;var ee=e.labelsMap||ot(e.labels,N,I,e),fe=ee&&Qi(e,ee,N,I,this._variableRow||this._maxLabels||1,7,!1,c,!0,e.eventOrder,!R,e.showLabelCount,e.moreEventsText,e.moreEventsPluralText);fe&&!this._labels&&(this._shouldCheckSize=!0),(fe&&t.maxLabels||!fe)&&(this._shouldPageLoad=!this._isIndexChange||this._prevAnim||!l||pe),this._labelsLayout=fe,this._labels=ee,this._marked=ee?void 0:e.marksMap||ot(e.marked,N,I,e),this._colors=ot(e.colors,N,I,e),this._valid=ot(e.valid,N,I,e,!0),this._invalid=ot(e.invalid,N,I,e,!0)}if(de||y||u!==x.eventRange||o!==x.eventRangeSize||e.monthNames!==x.monthNames){this._title=[];var we=te(F,-1),xe=z===void 0?b:E;if(_){xe=b;for(var Ye=0,Ee=Object.keys(e.selectedDates);Ye<Ee.length;Ye++){var Ce=Ee[Ye];if(+Ce>=+E&&+Ce<+F){xe=new Date(+Ce);break}}}if(this._pageNr>1)for(Q=0;Q<G;Q++){var D=n(r(E),i(E)+Q,1),M=r(D)+w,H=S[i(D)];this._title.push({yearTitle:M,monthTitle:H})}else{var X={yearTitle:r(xe)+w,monthTitle:S[i(xe)]},ae=e.showSchedule&&o===1?u:l?d:u,ce=u&&!l&&(!e.showSchedule||o>1);switch(ae){case"year":X.title=r(E)+w,o>1&&(X.title+=" - "+(r(we)+w));break;case"month":if(o>1&&!l){var _e=S[i(E)],ge=r(E)+w,ue=this._yearFirst?ge+" "+_e:_e+" "+ge,Me=S[i(we)],Ne=r(we)+w,ve=this._yearFirst?Ne+" "+Me:Me+" "+Ne;X.title=ue+" - "+ve}else v&&(X.title=r(E)+w);break;case"day":case"week":if(ce){var ye=T.search(/d/i)<U?"D MMM, YYYY":"MMM D, YYYY";X.title=Le(ye,E,e),(ae==="week"||o>1)&&(X.title+=" - "+Le(ye,we,e))}}this._title.push(X)}}this._active=f,this._hasPicker=e.hasPicker||v||!h||!l||t.width==="md"&&e.hasPicker!==!1,this._axis=O?"Y":"X",this._rtlNr=!O&&e.rtl?-1:1,this._weeks=g,this._nextIcon=O?e.nextIconV:e.rtl?e.prevIconH:e.nextIconH,this._prevIcon=O?e.prevIconV:e.rtl?e.nextIconH:e.prevIconH,this._mousewheel=e.mousewheel===void 0?O:e.mousewheel,this._isGrid=v,this._isVertical=O,this._showOuter=R,this._showDaysTop=O||!!C&&p===1},s.prototype._mounted=function(){this._observer=er(this._el,this._onResize,this._zone),this._doc=Ct(this._el),oe(this._doc,at,this._onDocClick)},s.prototype._updated=function(){var e=this;if(this._shouldCheckSize?(setTimeout(function(){e._onResize()}),this._shouldCheckSize=!1):this._shouldPageLoad&&(this._pageLoaded(),this._shouldPageLoad=!1),this._shouldFocus&&setTimeout(function(){e._focusActive(),e._shouldFocus=!1}),this.s.instanceService&&this.s.instanceService.onComponentChange.next({}),this._pageChange=!1,this._variableRow&&this.s.showCalendar){var t=this._body.querySelector(".mbsc-calendar-body-inner"),n=t.scrollHeight>t.clientHeight;n!==this.state.hasScrollY&&(this._shouldCheckSize=!0,this.setState({hasScrollY:n}))}},s.prototype._destroy=function(){this._observer&&this._observer.detach(),se(this._doc,at,this._onDocClick),clearTimeout(this._hoverTimer)},s.prototype._getActiveCell=function(){var e=this._view,t=e==="page"?this._body:this._pickerCont,n=e==="multi-year"?"year":e==="year"?"month":"cell";return t&&t.querySelector(".mbsc-calendar-"+n+'[tabindex="0"]')},s.prototype._focusActive=function(){var e=this._getActiveCell();e&&e.focus()},s.prototype._pageLoaded=function(){var e=this.s.navService;this._hook("onPageLoaded",{activeElm:this._getActiveCell(),firstDay:e.firstPageDay,lastDay:e.lastPageDay,month:this.s.calendarType==="month"?e.firstDay:void 0,viewEnd:e.viewEnd,viewStart:e.viewStart})},s.prototype._activeChange=function(e){var t=this._pageIndex+e;this._minIndex<=t&&this._maxIndex>=t&&this.__getTextParam&&(this._prevAnim=!1,this._pageChange=!0,this._hook("onActiveChange",{date:this._getPageDay(t),dir:e,pageChange:!0}))},s.prototype._activeMonthChange=function(e){var t=this._monthIndex+e;this._minMonthIndex<=t&&this._maxMonthIndex>=t&&(this._prevAnim=!1,this._activeMonth=this._getPageMonth(t),this.forceUpdate())},s.prototype._activeYearsChange=function(e){var t=this._yearsIndex+e;if(this._minYearsIndex<=t&&this._maxYearsIndex>=t){var n=this._getPageYears(t);this._prevAnim=!1,this._activeMonth=+this.s.getDate(n,0,1),this.forceUpdate()}},s.prototype._activeYearChange=function(e){var t=this._yearIndex+e;if(this._minYearIndex<=t&&this._maxYearIndex>=t){var n=this._getPageYear(t);this._prevAnim=!1,this._activeMonth=+this.s.getDate(n,0,1),this.forceUpdate()}},s.prototype._prevDocClick=function(){var e=this;this._prevClick=!0,setTimeout(function(){e._prevClick=!1})},s}(Fe);function Do(a){return this.getChildContext=function(){return a.context},a.children}function To(a){var s=this,e=a._container;s.componentWillUnmount=function(){Zn(null,s._temp),s._temp=null,s._container=null},s._container&&s._container!==e&&s.componentWillUnmount(),a._vnode?(s._temp||(s._container=e,s._temp={nodeType:1,parentNode:e,childNodes:[],appendChild:function(t){this.childNodes.push(t),s._container.appendChild(t)},insertBefore:function(t,n){this.childNodes.push(t),s._container.appendChild(t)},removeChild:function(t){this.childNodes.splice(this.childNodes.indexOf(t)>>>1,1),s._container.removeChild(t)}}),Zn(m(Do,{context:s.context},a._vnode),s._temp)):s._temp&&s.componentWillUnmount()}function So(a,s){return m(To,{_vnode:a,_container:s})}var Co=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s.prototype.render=function(){var e=this.props.context;return e?So(this.props.children,e):null},s}(an),wo=Co,ar=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s.prototype._template=function(e,t){return function(n,r,i,l){var d,u,o=i._hb,c=i._rtl,_=i._theme,h=n.display,p=((d={}).onKeyDown=i._onKeyDown,d),v=((u={}).onAnimationEnd=i._onAnimationEnd,u);return i._isModal?i._isVisible?m(wo,{context:i._ctx},m("div",W({className:"mbsc-font mbsc-flex mbsc-popup-wrapper mbsc-popup-wrapper-"+h+_+c+" "+i._className+(n.fullScreen?" mbsc-popup-wrapper-"+h+"-full":"")+(i._touchUi?"":" mbsc-popup-pointer")+(i._round?" mbsc-popup-round":"")+(i._hasContext?" mbsc-popup-wrapper-ctx":"")+(r.isReady?"":" mbsc-popup-hidden"),ref:i._setWrapper},p),n.showOverlay&&m("div",{className:"mbsc-popup-overlay mbsc-popup-overlay-"+h+_+(i._isClosing?" mbsc-popup-overlay-out":"")+(i._isOpening&&r.isReady?" mbsc-popup-overlay-in":""),onClick:i._onOverlayClick}),m("div",{className:"mbsc-popup-limits mbsc-popup-limits-"+h,ref:i._setLimitator,style:i._limits}),m("div",W({className:"mbsc-flex-col mbsc-popup mbsc-popup-"+h+_+o+(n.fullScreen?"-full":"")+(r.bubblePos&&r.showArrow&&h==="anchored"?" mbsc-popup-anchored-"+r.bubblePos:"")+(i._isClosing?" mbsc-popup-"+i._animation+"-out":"")+(i._isOpening&&r.isReady?" mbsc-popup-"+i._animation+"-in":""),role:"dialog","aria-modal":"true",ref:i._setPopup,style:i._style,onClick:i._onPopupClick},v),h==="anchored"&&r.showArrow&&m("div",{className:"mbsc-popup-arrow-wrapper mbsc-popup-arrow-wrapper-"+r.bubblePos+_},m("div",{className:"mbsc-popup-arrow mbsc-popup-arrow-"+r.bubblePos+_,style:r.arrowPos})),m("div",{className:"mbsc-popup-focus",tabIndex:-1,ref:i._setActive}),m("div",{className:"mbsc-flex-col mbsc-flex-1-1 mbsc-popup-body mbsc-popup-body-"+h+_+o+(n.fullScreen?" mbsc-popup-body-"+h+"-full":"")+(i._round?" mbsc-popup-body-round":"")},i._headerText&&m("div",{className:"mbsc-flex-none mbsc-popup-header mbsc-popup-header-"+h+_+o+(i._buttons?"":" mbsc-popup-header-no-buttons"),dangerouslySetInnerHTML:i._headerText,"v-html":void 0}),m("div",{className:"mbsc-flex-1-1 mbsc-popup-content"+(n.contentPadding?" mbsc-popup-padding":""),ref:i._setContent},l),i._buttons&&m("div",{className:"mbsc-flex-none mbsc-popup-buttons mbsc-popup-buttons-"+h+_+c+o+(i._flexButtons?" mbsc-flex":"")+(n.fullScreen?" mbsc-popup-buttons-"+h+"-full":"")},i._buttons.map(function(g,f){return m(ct,{color:g.color,className:"mbsc-popup-button mbsc-popup-button-"+h+c+o+(i._flexButtons?" mbsc-popup-button-flex":"")+" "+(g.cssClass||""),icon:g.icon,disabled:g.disabled,key:f,theme:n.theme,themeVariant:n.themeVariant,variant:g.variant||n.buttonVariant,onClick:g.handler},g.text)})))))):null:m(We,null,l)}(e,t,this,e.children)},s}(co);var mn={},ko=function(a){function s(){var e=a!==null&&a.apply(this,arguments)||this;return e._onClick=function(t){if(e._isDrag)t.stopPropagation();else{e._triggerEvent("onClick",t);var n=e.s,r=mn[n.id];r&&n.selected&&r.next({hasFocus:!1})}},e._onRightClick=function(t){e._triggerEvent("onRightClick",t)},e._onDocTouch=function(t){se(e._doc,"touchstart",e._onDocTouch),se(e._doc,Ue,e._onDocTouch),e._isDrag=!1,e._hook("onDragModeOff",{domEvent:t,event:e.s.event})},e._updateState=function(t){e.s.showText&&e.setState(t)},e._triggerEvent=function(t,n){e._hook(t,{domEvent:n,label:e.s.event,target:e._el})},e}return $(s,a),s.prototype._mounted=function(){var e,t=this,n=this.s,r=this._el,i=n.id,l=n.isPicker,d=mn[i];d||(d=new Ot,mn[i]=d),this._unsubscribe=d.subscribe(this._updateState),this._doc=Ct(r),this._unlisten=$e(r,{keepFocus:!0,onBlur:function(){l||d.next({hasFocus:!1})},onDoubleClick:function(u){u.domEvent.stopPropagation(),t._hook("onDoubleClick",{domEvent:u.domEvent,label:t.s.event,target:r})},onEnd:function(u){if(t._isDrag){var o=t.s,c=W({},u);c.domEvent.preventDefault(),c.event=o.event,o.resize&&e?(c.resize=!0,c.direction=e):o.drag&&(c.drag=!0),t._hook("onDragEnd",c),o.isUpdate||(t._isDrag=!1),r&&c.moved&&r.blur()}clearTimeout(t._touchTimer),e=void 0},onFocus:function(){l||d.next({hasFocus:!0})},onHoverIn:function(u){t._isDrag||l||(d.next({hasHover:!0}),t._triggerEvent("onHoverIn",u))},onHoverOut:function(u){d.next({hasHover:!1}),t._triggerEvent("onHoverOut",u)},onKeyDown:function(u){var o=t.s.event;switch(u.keyCode){case 13:case 32:r.click(),u.preventDefault();break;case 8:case 46:o&&o.editable!==!1&&t._hook("onDelete",{domEvent:u,event:o,source:"calendar"})}},onMove:function(u){var o=t.s,c=W({},u);if(c.event=o.event,e)c.resize=!0,c.direction=e;else{if(!o.drag)return;c.drag=!0}o.event&&o.event.editable!==!1&&(t._isDrag?(c.domEvent.preventDefault(),t._hook("onDragMove",c)):(Math.abs(c.deltaX)>7||Math.abs(c.deltaY)>7)&&(clearTimeout(t._touchTimer),c.isTouch||(t._isDrag=!0,t._hook("onDragStart",c))))},onStart:function(u){var o=t.s,c=W({},u),_=c.domEvent.target;if(c.event=o.event,o.resize&&_.classList.contains("mbsc-calendar-label-resize"))e=_.classList.contains("mbsc-calendar-label-resize-start")?"start":"end",c.resize=!0,c.direction=e;else{if(!o.drag)return;c.drag=!0}o.event&&o.event.editable!==!1&&(!t._isDrag&&c.isTouch||c.domEvent.stopPropagation(),t._isDrag?t._hook("onDragStart",c):c.isTouch&&(t._touchTimer=setTimeout(function(){t._hook("onDragModeOn",c),t._hook("onDragStart",c),t._isDrag=!0},350)))}}),this._isDrag&&(oe(this._doc,"touchstart",this._onDocTouch),oe(this._doc,Ue,this._onDocTouch))},s.prototype._destroy=function(){if(this._el&&this._el.blur(),this._unsubscribe){var e=this.s.id,t=mn[e];t&&(t.unsubscribe(this._unsubscribe),t.nr||delete mn[e])}this._unlisten&&this._unlisten(),se(this._doc,"touchstart",this._onDocTouch),se(this._doc,Ue,this._onDocTouch)},s.prototype._render=function(e,t){var n,r,i,l,d,u,o=e.event,c=new Date(e.date),_=e.render||e.renderContent,h=!1;if(this._isDrag=this._isDrag||e.isUpdate,this._content=void 0,this._title=e.more||e.count||!e.showEventTooltip?void 0:function(w){if(he&&w){var C=he.createElement("div");return C.innerHTML=w,C.textContent.trim()}return w||""}(o.tooltip||o.title||o.text),this._tabIndex=e.isActiveMonth&&e.showText&&!e.count&&!e.isPicker?0:-1,o){var p=o.allDay,v=p?void 0:e;n=o.start?ne(o.start,v):null,r=o.end?ne(o.end,v):null;var g=n&&r&&lt(e,p,n,r,!0),f=te(Ke(c,e),7),y=e.lastDay&&e.lastDay<f?e.lastDay:f;i=!(h=n&&g&&!Pe(n,g))||n&&Pe(n,c),l=!h||g&&Pe(g,c),d=!h||(e.showText?g<y:l),this._hasResizeStart=e.resize&&i,this._hasResizeEnd=e.resize&&d;var b=o.color;if(!b&&o.resource&&e.resourcesMap){var x=e.resourcesMap[Be(o.resource)?o.resource[0]:o.resource];b=x&&x.color}e.showText&&(this._textColor=b?rn(b):void 0),this._color=e.render||e.template?void 0:o.textColor&&!b?"transparent":b}if(o&&e.showText&&(_||e.contentTemplate||e.template)){var T=o.allDay||!n||h&&!i&&!l;if(this._data={end:!T&&l&&r?Le(e.timeFormat,r,e):"",id:o.id,isMultiDay:h,original:o,start:!T&&i&&n?Le(e.timeFormat,n,e):"",title:this._title},_){var S=_(this._data);le(S)?u=S:this._content=S}}else u=e.more||e.count||e.showText&&(o.title||o.text)||"";u!==this._text&&(this._text=u,this._html=u?this._safeHtml(u):void 0,this._shouldEnhance=u&&o&&e.showText&&!!_),this._cssClass="mbsc-calendar-text"+this._theme+this._rtl+(t.hasFocus&&!e.inactive&&!e.selected||e.selected&&e.showText?" mbsc-calendar-label-active ":"")+(!t.hasHover||e.inactive||this._isDrag?"":" mbsc-calendar-label-hover")+(e.more?" mbsc-calendar-text-more":e.render||e.template?" mbsc-calendar-custom-label":" mbsc-calendar-label")+(e.inactive?" mbsc-calendar-label-inactive":"")+(e.isUpdate?" mbsc-calendar-label-dragging":"")+(e.hidden?" mbsc-calendar-label-hidden":"")+(i?" mbsc-calendar-label-start":"")+(d?" mbsc-calendar-label-end":"")+(o&&o.editable===!1?" mbsc-readonly-event":"")+(o&&o.cssClass?" "+o.cssClass:"")},s}(Fe),Mo=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s.prototype._template=function(e){return function(t,n){var r,i=t.event&&t.event.editable!==!1,l=((r={}).onContextMenu=n._onRightClick,r);return m("div",W({"aria-hidden":t.showText?void 0:"true",className:n._cssClass,"data-id":t.showText&&t.event?t.event.id:null,onClick:n._onClick,ref:n._setEl,role:t.showText?"button":void 0,style:{color:n._color},tabIndex:n._tabIndex,title:n._title},l),n._hasResizeStart&&i&&m("div",{className:"mbsc-calendar-label-resize mbsc-calendar-label-resize-start"+n._rtl+(t.isUpdate?" mbsc-calendar-label-resize-start-touch":"")}),n._hasResizeEnd&&i&&m("div",{className:"mbsc-calendar-label-resize mbsc-calendar-label-resize-end"+n._rtl+(t.isUpdate?" mbsc-calendar-label-resize-end-touch":"")}),t.showText&&!t.more&&!t.render&&m("div",{className:"mbsc-calendar-label-background"+n._theme}),t.showText&&!t.more&&t.render?n._html?m("div",{dangerouslySetInnerHTML:n._html},void 0):n._content:m("div",{className:"mbsc-calendar-label-inner"+n._theme,style:{color:n._textColor}},m("div",{"aria-hidden":"true",className:"mbsc-calendar-label-text"+n._theme,dangerouslySetInnerHTML:n._html,style:{color:t.event&&t.event.textColor}},n._content),t.label&&m("div",{className:"mbsc-hidden-content"},t.label)))}(e,this)},s}(ko);function en(a,s,e,t,n,r,i){return m(Mo,{key:i,amText:s.amText,count:e.count?e.count+" "+(e.count>1?s.eventsText:s.eventText):void 0,date:s.date,dataTimezone:s.dataTimezone,displayTimezone:s.displayTimezone,drag:s.dragToMove,resize:xn(e.event&&e.event.resize,s.dragToResize),event:e.event,exclusiveEndDates:s.exclusiveEndDates,firstDay:s.firstDay,hidden:n,id:e.id,inactive:!r&&e.event&&s.dragData&&s.dragData.draggedEvent&&e.event.id===s.dragData.draggedEvent.id,isActiveMonth:s.isActiveMonth,isPicker:s.isPicker,isUpdate:r,label:e.label,lastDay:e.lastDay,more:e.more,pmText:s.pmText,resourcesMap:s.resourcesMap,rtl:s.rtl,selected:e.event&&s.selectedEventsMap&&!(!s.selectedEventsMap[e.id]&&!s.selectedEventsMap[e.event.id]),showEventTooltip:s.showEventTooltip,showText:t,theme:s.theme,timeFormat:s.timeFormat,timezonePlugin:s.timezonePlugin,render:s.renderLabel,renderContent:s.renderLabelContent,onClick:a._onLabelClick,onDoubleClick:a._onLabelDoubleClick,onRightClick:a._onLabelRightClick,onHoverIn:a._onLabelHoverIn,onHoverOut:a._onLabelHoverOut,onDelete:s.onLabelDelete,onDragStart:s.onLabelUpdateStart,onDragMove:s.onLabelUpdateMove,onDragEnd:s.onLabelUpdateEnd,onDragModeOn:s.onLabelUpdateModeOn,onDragModeOff:s.onLabelUpdateModeOff})}function Eo(a,s){var e,t,n=s._draggedLabel,r=s._draggedLabelOrig,i=s._theme,l=((e={}).onContextMenu=s._onRightClick,e);return a.renderDay&&(t=a.renderDay(s._data)),a.renderDayContent&&(t=a.renderDayContent(s._data)),le(t)&&(t=m("div",{dangerouslySetInnerHTML:s._safeHtml(t)}),s._shouldEnhance=!0),m("div",W({ref:s._setEl,className:s._cssClass,onClick:s._onClick,style:s._cellStyles,tabIndex:a.disabled?void 0:a.active?0:-1},l),m("div",{dangerouslySetInnerHTML:s.textParam}),m("div",{className:"mbsc-calendar-cell-inner mbsc-calendar-"+a.type+"-inner"+i+(a.type==="day"?"":s._hb)+(a.display?"":" mbsc-calendar-day-hidden")},a.renderDay?t:m(We,null,a.text===1&&m("div",{"aria-hidden":"true",className:"mbsc-calendar-month-name"+i+s._rtl},a.monthShort),m("div",{"aria-label":s._ariaLabel,role:"button","aria-pressed":a.selected,className:"mbsc-calendar-cell-text mbsc-calendar-"+a.type+"-text"+i+s._todayClass,style:s._circleStyles},a.text),a.marks&&m("div",null,m("div",{className:"mbsc-calendar-marks"+i+s._rtl},a.marks.map(function(d,u){return m("div",{className:"mbsc-calendar-mark "+(d.markCssClass||"")+i,key:u,style:{background:d.color}})}))),a.renderDayContent&&t),a.labels&&m("div",null,r&&r.event&&m("div",{className:"mbsc-calendar-labels mbsc-calendar-labels-dragging"},m("div",{style:{width:r.width+"%"||"100%"}},en(s,a,{id:0,event:r.event},!0,!!a.dragData.draggedDates,!0))),n&&n.event&&m("div",{className:"mbsc-calendar-labels mbsc-calendar-labels-dragging"},m("div",{className:"mbsc-calendar-label-wrapper",style:{width:n.width+"%"||"100%"}},en(s,a,{id:0,event:n.event},!0,!1,!0))),m("div",{className:"mbsc-calendar-labels"},a.labels.data.map(function(d){return function(u,o,c){var _=c.id;return c.placeholder?m("div",{className:"mbsc-calendar-text mbsc-calendar-text-placeholder",key:_}):c.more||c.count?en(u,o,c,!0,!1,!1,_):c.multiDay?[m("div",{className:"mbsc-calendar-label-wrapper",style:{width:c.width+"%"},key:_},en(u,o,c,!0)),en(u,o,c,!1,!1,!1,"-"+_)]:en(u,o,c,c.showText,!1,!1,_)}(s,a,d)})),m("div",{className:"mbsc-calendar-text mbsc-calendar-text-placeholder"}))))}var ts=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s.prototype._template=function(e){return Eo(e,this)},s}(function(a){function s(){var e=a!==null&&a.apply(this,arguments)||this;return e._onClick=function(t){e._cellClick("onDayClick",t)},e._onRightClick=function(t){e._cellClick("onDayRightClick",t)},e._onLabelClick=function(t){e._labelClick("onLabelClick",t)},e._onLabelDoubleClick=function(t){e._labelClick("onLabelDoubleClick",t)},e._onLabelRightClick=function(t){e._labelClick("onLabelRightClick",t)},e._onLabelHoverIn=function(t){e._labelClick("onLabelHoverIn",t)},e._onLabelHoverOut=function(t){e._labelClick("onLabelHoverOut",t)},e}return $(s,a),s.prototype._mounted=function(){var e,t,n,r=this;this._unlisten=$e(this._el,{click:!0,onBlur:function(){r.setState({hasFocus:!1})},onDoubleClick:function(i){var l=r.s;l.clickToCreate&&l.clickToCreate!=="single"&&l.labels&&!l.disabled&&l.display&&(r._hook("onLabelUpdateStart",i),r._hook("onLabelUpdateEnd",i)),r._cellClick("onDayDoubleClick",i.domEvent)},onEnd:function(i){e&&(i.domEvent.preventDefault(),r._hook("onLabelUpdateEnd",i),e=!1),clearTimeout(n),e=!1,t=!1},onFocus:function(){r.setState({hasFocus:!0})},onHoverIn:function(i){var l=r.s;l.disabled||r.setState({hasHover:!0}),r._hook("onHoverIn",{date:new Date(l.date),domEvent:i,hidden:!l.display,outer:l.outer,target:r._el})},onHoverOut:function(i){var l=r.s;r.setState({hasHover:!1}),r._hook("onHoverOut",{date:new Date(l.date),domEvent:i,hidden:!l.display,outer:l.outer,target:r._el})},onKeyDown:function(i){switch(i.keyCode){case 13:case 32:i.preventDefault(),r._onClick(i)}},onMove:function(i){e&&r.s.dragToCreate?(i.domEvent.preventDefault(),r._hook("onLabelUpdateMove",i)):t&&r.s.dragToCreate&&(Math.abs(i.deltaX)>7||Math.abs(i.deltaY)>7)?(e=!i.isTouch,r._hook("onLabelUpdateStart",i)):clearTimeout(n)},onStart:function(i){var l=r.s;i.create=!0,l.disabled||!l.dragToCreate&&!l.clickToCreate||!l.labels||e||Sn(i.domEvent.target,".mbsc-calendar-text",r._el)||(i.isTouch&&l.dragToCreate?n=setTimeout(function(){r._hook("onLabelUpdateStart",i),r._hook("onLabelUpdateModeOn",i),e=!0},350):l.clickToCreate==="single"?(r._hook("onLabelUpdateStart",i),e=!0):t=!i.isTouch)}})},s.prototype._render=function(e,t){var n=ie(e),r=e.date,i=e.colors,l=e.display,d=e.dragData,u=e.hoverEnd,o=e.hoverStart,c=e.labels,_=e.rangeEnd,h=e.rangeStart,p=new Date(r),v=Te(p),g=Pe(n,p),f=c&&c.events,y=i&&i[0],b=y&&y.background,x=y&&y.highlight,T="",S="";this._draggedLabel=d&&d.draggedDates&&d.draggedDates[v],this._draggedLabelOrig=d&&d.originDates&&d.originDates[v],this._todayClass=g?" mbsc-calendar-today":"",this._cellStyles=b&&l?{backgroundColor:b,color:rn(b)}:void 0,this._circleStyles=x?{backgroundColor:x,color:rn(y.highlight)}:void 0,this._ariaLabel=e.type==="day"?(g?e.todayText+", ":"")+e.day+", "+e.month+" "+e.text+", "+e.year:e.type==="month"?e.month:"",l&&((h&&r>=h&&r<=(_||h)||_&&r<=_&&r>=(h||_))&&(S=" mbsc-range-day"+(r===(h||_)?" mbsc-range-day-start":"")+(r===(_||h)?" mbsc-range-day-end":"")),o&&u&&r>=o&&r<=u&&(S+=" mbsc-range-hover"+(r===o?" mbsc-range-hover-start mbsc-hover":"")+(r===u?" mbsc-range-hover-end mbsc-hover":""))),e.marks&&e.marks.forEach(function(w){T+=w.cellCssClass?" "+w.cellCssClass:""}),i&&i.forEach(function(w){T+=w.cellCssClass?" "+w.cellCssClass:""}),f&&f.forEach(function(w){T+=w.cellCssClass?" "+w.cellCssClass:""}),this._cssClass="mbsc-calendar-cell mbsc-flex-1-0-0 mbsc-calendar-"+e.type+this._theme+this._rtl+this._hb+T+(c?" mbsc-calendar-day-labels":"")+(i?" mbsc-calendar-day-colors":"")+(e.outer?" mbsc-calendar-day-outer":"")+(e.hasMarks?" mbsc-calendar-day-marked":"")+(e.disabled?" mbsc-disabled":"")+(l?"":" mbsc-calendar-day-empty")+(e.selected?" mbsc-selected":"")+(t.hasFocus?" mbsc-focus":"")+(!t.hasHover||r!==o&&r!==u&&(o||u)?"":" mbsc-hover")+(this._draggedLabel?" mbsc-calendar-day-highlight":"")+S,this._data={date:p,events:e.events||[],selected:e.selected}},s.prototype._destroy=function(){this._unlisten&&this._unlisten()},s.prototype._cellClick=function(e,t){var n=this.s;n.display&&this._hook(e,{date:new Date(n.date),disabled:n.disabled,domEvent:t,outer:n.outer,selected:n.selected,source:"calendar",target:this._el})},s.prototype._labelClick=function(e,t){var n=this.s;t.date=new Date(n.date),t.labels=n.labels.events,this._hook(e,t)},s}(Fe)),sr=function(a){var s=a.firstDay,e=a.hidden,t=a.rtl,n=a.theme,r=a.dayNamesShort,i=a.showWeekNumbers,l=a.hasScroll;return m("div",{"aria-hidden":"true",className:"mbsc-calendar-week-days mbsc-flex"+(e?" mbsc-hidden":"")},i&&m("div",{className:"mbsc-calendar-week-day mbsc-flex-none mbsc-calendar-week-nr"+n+t}),Mi.map(function(d,u){return m("div",{className:"mbsc-calendar-week-day mbsc-flex-1-0-0"+n+t,key:u},r[(u+s)%7])}),l&&m("div",{className:"mbsc-schedule-fake-scroll-y"}))},No=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s.prototype._isActive=function(e){return this.s.isActive&&e===this.s.activeDate},s.prototype._isInvalid=function(e){var t=this.s;return Gt(t,Tt(t,new Date(e)),t.invalid,t.valid,+t.min,+t.max)},s.prototype._isSelected=function(e){var t=new Date(e),n=Tt(this.s,t);return!!this.s.selectedDates[+n]},s.prototype._getWeekNr=function(e,t){var n=new Date(t);return""+e.getWeekNumber(e.getDate(n.getFullYear(),n.getMonth(),n.getDate()+(7-e.firstDay+1)%7))},s.prototype._render=function(e){var t=e.weeks||6,n=e.firstDay,r=new Date(e.firstPageDay),i=e.getYear(r),l=e.getMonth(r),d=e.getDay(r),u=e.getDate(i,l,d).getDay(),o=n-u>0?7:0,c=[],_=0;this._rowHeights=[],this._rows=[],this._days=Mi;for(var h=0;h<7*t;h++){var p=e.getDate(i,l,h+n-o-u+d),v=Te(p),g=e.getMonth(p),f=g!==l&&e.calendarType!=="week",y=e.marked&&e.marked[v],b=y?e.showSingleMark?[{}]:y:null,x=e.labels&&e.labels[v],T=x?x.data.length:0,S=h%7==0;if(e.variableRow){if(S&&f&&h)break;T>_&&(_=T),h%7==6&&(this._rowHeights.push(_*(e.labelHeight||20)+(e.cellTextHeight||0)+3),_=0)}S&&(c=[],this._rows.push(c)),c.push({colors:e.colors&&e.colors[v],date:+p,day:e.dayNames[p.getDay()],display:!f||e.showOuter,events:e.events&&e.events[v],labels:x,marks:b,month:e.monthNames[g],monthShort:e.monthNamesShort[g],outer:f,text:e.getDay(p),year:e.getYear(p)})}},s}(Fe),pi=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s.prototype._template=function(e){return function(t,n){var r=t.showWeekNumbers,i=t.showWeekDays?m(sr,{dayNamesShort:t.dayNamesShort,firstDay:t.firstDay,rtl:n._rtl,showWeekNumbers:r,theme:n._theme}):null;return m("div",{"aria-hidden":t.isActive?void 0:"true",className:"mbsc-calendar-table mbsc-flex-col mbsc-flex-1-1"+(t.isActive?" mbsc-calendar-table-active":"")},i,n._rows.map(function(l,d){var u=r?n._getWeekNr(t,l[0].date):"";return m("div",{className:"mbsc-calendar-row mbsc-flex mbsc-flex-1-0",key:d,style:{minHeight:n._rowHeights[d]}},r&&m("div",{className:"mbsc-calendar-cell mbsc-flex-none mbsc-calendar-day mbsc-calendar-week-nr"+n._theme},m("div",{"aria-hidden":"true"},u),m("div",{className:"mbsc-hidden-content"},t.weekText.replace("{count}",u))),l.map(function(o,c){return m(ts,{active:o.display&&n._isActive(o.date),amText:t.amText,clickToCreate:t.clickToCreate,colors:o.colors,date:o.date,day:o.day,disabled:n._isInvalid(o.date),display:o.display,dataTimezone:t.dataTimezone,displayTimezone:t.displayTimezone,dragData:t.dragData,dragToCreate:t.dragToCreate,dragToResize:t.dragToResize,dragToMove:t.dragToMove,eventText:t.eventText,events:o.events,eventsText:t.eventsText,exclusiveEndDates:t.exclusiveEndDates,firstDay:t.firstDay,hasMarks:t.hasMarks,hoverEnd:t.hoverEnd,hoverStart:t.hoverStart,isActiveMonth:t.isActive,isPicker:t.isPicker,key:o.date,labels:o.labels,pmText:t.pmText,marks:o.marks,month:o.month,monthShort:o.monthShort,onDayClick:t.onDayClick,onDayDoubleClick:t.onDayDoubleClick,onDayRightClick:t.onDayRightClick,onLabelClick:t.onLabelClick,onLabelDoubleClick:t.onLabelDoubleClick,onLabelRightClick:t.onLabelRightClick,onLabelHoverIn:t.onLabelHoverIn,onLabelHoverOut:t.onLabelHoverOut,onLabelDelete:t.onLabelDelete,onLabelUpdateStart:t.onLabelUpdateStart,onLabelUpdateMove:t.onLabelUpdateMove,onLabelUpdateEnd:t.onLabelUpdateEnd,onLabelUpdateModeOn:t.onLabelUpdateModeOn,onLabelUpdateModeOff:t.onLabelUpdateModeOff,outer:o.outer,renderDay:t.renderDay,renderDayContent:t.renderDayContent,renderLabel:t.renderLabel,renderLabelContent:t.renderLabelContent,rangeEnd:t.rangeEnd,rangeStart:t.rangeStart,resourcesMap:t.resourcesMap,selectedEventsMap:t.selectedEventsMap,rtl:t.rtl,showEventTooltip:t.showEventTooltip,selected:n._isSelected(o.date),text:o.text,theme:t.theme,timeFormat:t.timeFormat,timezonePlugin:t.timezonePlugin,todayText:t.todayText,type:"day",year:o.year,onHoverIn:t.onDayHoverIn,onHoverOut:t.onDayHoverOut})}))}))}(e,this)},s}(No);function fi(a,s,e,t){var n;if(!(s<e||s>t)){if(Be(a)){var r=a.length,i=s%r;n=a[i>=0?i:i+r]}else n=a(s);return n}}var Io=function(a){function s(){var e=a!==null&&a.apply(this,arguments)||this;return e._currPos=0,e._delta=0,e._endPos=0,e._lastRaf=0,e._maxSnapScroll=0,e._margin=0,e._scrollEnd=xr(function(){pn(e._raf),e._raf=!1,e._onEnd(),e._hasScrolled=!1},200),e._setInnerEl=function(t){e._innerEl=t},e._setScrollEl=function(t){e._scrollEl=t},e._setScrollEl3d=function(t){e._scrollEl3d=t},e._setScrollbarEl=function(t){e._scrollbarEl=t},e._setScrollbarContEl=function(t){e._scrollbarContEl=t},e._onStart=function(t){var n=e.s;e._hook("onStart",{}),n.changeOnEnd&&e._isScrolling||!n.mouseSwipe&&!t.isTouch||!n.swipe||(e._started=!0,e._hasScrolled=e._isScrolling,e._currX=t.startX,e._currY=t.startY,e._delta=0,e._velocityX=0,e._velocityY=0,e._startPos=ei(e._scrollEl,e._isVertical),e._timestamp=+new Date,e._isScrolling&&(pn(e._raf),e._raf=!1,e._scroll(e._startPos)))},e._onMove=function(t){var n=t.domEvent,r=e.s;e._isVertical||r.scrollLock||e._hasScrolled?n.cancelable&&n.preventDefault():n.type==="touchmove"&&(Math.abs(t.deltaY)>7||!r.swipe)&&(e._started=!1),e._started&&(e._delta=e._isVertical?t.deltaY:t.deltaX,(e._hasScrolled||Math.abs(e._delta)>e._threshold)&&(e._hasScrolled||e._hook("onGestureStart",{}),e._hasScrolled=!0,e._isScrolling=!0,e._raf||(e._raf=gt(function(){return e._move(t)}))))},e._onEnd=function(){if(e._started=!1,e._hasScrolled){var t,n=e.s,r=17*(e._isVertical?e._velocityY:e._velocityX),i=e._maxSnapScroll,l=e._delta;l+=r*r*.5*(r<0?-1:1),i&&(l=Oe(l,-e._round*i,e._round*i));var d=Oe(Ze((e._startPos+l)/e._round)*e._round,e._min,e._max),u=Ze(-d*e._rtlNr/n.itemSize)+e._offset,o=l>0?e._isVertical?270:360:e._isVertical?90:180,c=u-n.selectedIndex;t=n.time||Math.max(1e3,3*Math.abs(d-e._currPos)),e._hook("onGestureEnd",{direction:o,index:u}),e._delta=0,e._scroll(d,t),c&&!n.changeOnEnd&&(e._hook("onIndexChange",{index:u,diff:c}),n.selectedIndex===e._prevIndex&&n.selectedIndex!==u&&e.forceUpdate())}},e._onClick=function(t){e._hasScrolled&&(e._hasScrolled=!1,t.stopPropagation(),t.preventDefault())},e._onScroll=function(t){t.target.scrollTop=0,t.target.scrollLeft=0},e._onMouseWheel=function(t){var n=e._isVertical?t.deltaY===void 0?t.wheelDelta||t.detail:t.deltaY:t.deltaX;if(n&&e.s.mousewheel){if(t.preventDefault(),e._hook("onStart",{}),e._started||(e._delta=0,e._velocityX=0,e._velocityY=0,e._startPos=e._currPos,e._hook("onGestureStart",{})),t.deltaMode&&t.deltaMode===1&&(n*=15),n=Oe(-n,-e._scrollSnap,e._scrollSnap),e._delta+=n,e._maxSnapScroll&&Math.abs(e._delta)>e._round*e._maxSnapScroll&&(n=0),e._startPos+e._delta<e._min&&(e._startPos=e._min,e._delta=0,n=0),e._startPos+e._delta>e._max&&(e._startPos=e._max,e._delta=0,n=0),e._raf||(e._raf=gt(function(){return e._move()})),!n&&e._started)return;e._hasScrolled=!0,e._isScrolling=!0,e._started=!0,e._scrollEnd()}},e._onTrackStart=function(t){t.stopPropagation();var n={domEvent:t,startX:Yt(t,"X",!0),startY:Yt(t,"Y",!0)};if(e._onStart(n),e._trackStartX=n.startX,e._trackStartY=n.startY,t.target===e._scrollbarEl)oe(e._doc,St,e._onTrackEnd),oe(e._doc,"mousemove",e._onTrackMove);else{var r=cs(e._scrollbarContEl).top,i=(n.startY-r)/e._barContSize;e._startPos=e._currPos=e._max+(e._min-e._max)*i,e._hasScrolled=!0,e._onEnd()}},e._onTrackMove=function(t){var n=e._barContSize,r=Yt(t,"X",!0),i=Yt(t,"Y",!0),l=(e._isVertical?i-e._trackStartY:r-e._trackStartX)/n;e._isInfinite?e._delta=-(e._maxSnapScroll*e._round*2+n)*l:e._delta=(e._min-e._max-n)*l,(e._hasScrolled||Math.abs(e._delta)>e._threshold)&&(e._hasScrolled||e._hook("onGestureStart",{}),e._hasScrolled=!0,e._isScrolling=!0,e._raf||(e._raf=gt(function(){return e._move({endX:r,endY:i},!e._isInfinite)})))},e._onTrackEnd=function(){e._delta=0,e._startPos=e._currPos,e._onEnd(),se(e._doc,St,e._onTrackEnd),se(e._doc,"mousemove",e._onTrackMove)},e._onTrackClick=function(t){t.stopPropagation()},e}return $(s,a),s.prototype._render=function(e,t){var n=this._prevS,r=e.batchSize,i=e.batchSize3d,l=e.itemNr||1,d=e.itemSize,u=e.selectedIndex,o=n.selectedIndex,c=t.index===void 0?u:t.index,_=[],h=[],p=u-o,v=c-this._currIndex,g=e.minIndex,f=e.maxIndex,y=e.items,b=e.offset;this._currIndex=c,this._isVertical=e.axis==="Y",this._threshold=this._isVertical?e.thresholdY:e.thresholdX,this._rtlNr=!this._isVertical&&e.rtl?-1:1,this._round=e.snap?d:1;for(var x=this._round;x>44;)x/=2;if(this._scrollSnap=Ze(44/x)*x,y){for(var T=c-r;T<c+l+r;T++)_.push({key:T,data:fi(y,T,g,f)});if(e.scroll3d)for(T=c-i;T<c+l+i;T++)h.push({key:T,data:fi(y,T,g,f)});this.visibleItems=_,this.visible3dItems=h,this._maxSnapScroll=r,this._isInfinite=typeof y=="function"}this._offset===void 0&&(this._offset=u);var S=-(u-this._offset)*d*this._rtlNr;if(Math.abs(p)>r&&S!==this._endPos){var w=p+r*(p>0?-1:1);this._offset+=w,this._margin-=w}if(b&&b!==n.offset&&(this._offset+=b,this._margin-=b),v&&(this._margin+=v),this._max=g!==void 0?-(g-this._offset)*d*this._rtlNr:1/0,this._min=f!==void 0?-(f-this._offset-(e.spaceAround?0:l-1))*d*this._rtlNr:-1/0,this._rtlNr===-1){var C=this._min;this._min=this._max,this._max=C}this._min>this._max&&(this._min=this._max);var k=e.visibleSize*d;this._barContSize=k,this._barSize=Math.max(20,k*k/(this._max-this._min+k)),this._cssClass=this._className+" mbsc-ltr"},s.prototype._mounted=function(){var e=this._el,t=this._scrollbarContEl;this._doc=Ct(e),oe(this.s.scroll3d?this._innerEl:e,"scroll",this._onScroll),oe(e,at,this._onClick,!0),oe(e,"mousewheel",this._onMouseWheel,{passive:!1}),oe(e,"wheel",this._onMouseWheel,{passive:!1}),oe(t,Ue,this._onTrackStart),oe(t,at,this._onTrackClick),this._unlisten=$e(e,{onEnd:this._onEnd,onHoverIn:function(){t.classList.add("mbsc-scroller-bar-hover")},onHoverOut:function(){t.classList.remove("mbsc-scroller-bar-hover")},onMove:this._onMove,onStart:this._onStart,prevDef:!0})},s.prototype._updated=function(){var e=this.s,t=e.batchSize,n=e.itemSize,r=e.selectedIndex,i=this._prevIndex,l=!e.prevAnim&&(i!==void 0&&i!==r||this._isAnimating),d=-(r-this._offset)*n*this._rtlNr;e.margin&&(this._scrollEl.style.marginTop=this._isVertical?(this._margin-t)*n+"px":""),this._started||this._scroll(d,l?this._isAnimating||e.time||1e3:0),this._prevIndex=r},s.prototype._destroy=function(){se(this.s.scroll3d?this._innerEl:this._el,"scroll",this._onScroll),se(this._el,at,this._onClick,!0),se(this._el,"mousewheel",this._onMouseWheel,{passive:!1}),se(this._el,"wheel",this._onMouseWheel,{passive:!1}),se(this._scrollbarContEl,Ue,this._onTrackStart),se(this._scrollbarContEl,at,this._onTrackClick),pn(this._raf),this._raf=!1,this._scroll(0),this._unlisten()},s.prototype._anim=function(e){var t=this;return this._raf=gt(function(){var n=t.s,r=+new Date;if(t._raf){if((t._currPos-t._endPos)*-e<4)return t._currPos=t._endPos,t._raf=!1,t._isAnimating=0,t._isScrolling=!1,t._infinite(t._currPos),t._hook("onAnimationEnd",{}),void t._scrollbarContEl.classList.remove("mbsc-scroller-bar-started");r-t._lastRaf>100&&(t._lastRaf=r,t._currPos=ei(t._scrollEl,t._isVertical),n.changeOnEnd||t._infinite(t._currPos)),t._raf=t._anim(e)}})},s.prototype._infinite=function(e){var t=this.s;if(t.itemSize){var n=Ze(-e*this._rtlNr/t.itemSize)+this._offset,r=n-this._currIndex;r&&(t.changeOnEnd?this._hook("onIndexChange",{index:n,diff:r}):this.setState({index:n}))}},s.prototype._scroll=function(e,t){var n=this.s,r=n.itemSize,i=this._isVertical,l=this._scrollEl.style,d=Dt?Dt+"T":"t",u=t?Ir+"transform "+Ze(t)+"ms "+n.easing:"";if(l[d+"ransform"]="translate3d("+(i?"0,"+e+"px,":e+"px,0,")+"0)",l[d+"ransition"]=u,this._endPos=e,n.scroll3d){var o=this._scrollEl3d.style,c=360/(2*n.batchSize3d);o[d+"ransform"]="translateY(-50%) rotateX("+-e/r*c+"deg)",o[d+"ransition"]=u}if(this._scrollbarEl){var _=this._scrollbarEl.style,h=this._isInfinite?(this._maxSnapScroll*this._round-this._delta)/(this._maxSnapScroll*this._round*2):(e-this._max)/(this._min-this._max),p=Oe((this._barContSize-this._barSize)*h,0,this._barContSize-this._barSize);_[d+"ransform"]="translate3d("+(i?"0,"+p+"px,":p+"px,0,")+"0)",_[d+"ransition"]=u}t?(pn(this._raf),this._isAnimating=t,this._scrollbarContEl.classList.add("mbsc-scroller-bar-started"),this._raf=this._anim(e>this._currPos?1:-1)):(this._currPos=e,n.changeOnEnd||this._infinite(e))},s.prototype._move=function(e,t){var n=this._currX,r=this._currY,i=this._timestamp,l=this._maxSnapScroll;if(e){this._currX=e.endX,this._currY=e.endY,this._timestamp=+new Date;var d=this._timestamp-i;if(d>0&&d<100){var u=(this._currX-n)/d,o=(this._currY-r)/d;this._velocityX=.7*u+.3*this._velocityX,this._velocityY=.7*o+.3*this._velocityY}}l&&!t&&(this._delta=Oe(this._delta,-this._round*l,this._round*l)),this._scroll(Oe(this._startPos+this._delta,this._min-this.s.itemSize,this._max+this.s.itemSize)),this._raf=!1},s.defaults={axis:"Y",batchSize:40,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",mouseSwipe:!0,mousewheel:!0,prevDef:!0,selectedIndex:0,spaceAround:!0,stopProp:!0,swipe:!0,thresholdX:10,thresholdY:5},s}(Fe),Vn=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s.prototype._template=function(e){return function(t,n,r){var i;return t.itemRenderer&&(r=n.visibleItems.map(function(l){return t.itemRenderer(l,n._offset)}),t.scroll3d&&(i=n.visible3dItems.map(function(l){return t.itemRenderer(l,n._offset,!0)}))),m("div",{ref:n._setEl,className:n._cssClass,style:t.styles},m("div",{ref:n._setInnerEl,className:t.innerClass,style:t.innerStyles},m("div",{ref:n._setScrollEl,className:"mbsc-scrollview-scroll"+n._rtl},r)),t.scroll3d&&m("div",{ref:n._setScrollEl3d,style:{height:t.itemSize+"px"},className:"mbsc-scroller-items-3d"},i),m("div",{ref:n._setScrollbarContEl,className:"mbsc-scroller-bar-cont "+n._rtl+(t.scrollBar&&n._barSize!==n._barContSize?"":" mbsc-scroller-bar-hidden")+(n._started?" mbsc-scroller-bar-started":"")},m("div",{className:"mbsc-scroller-bar"+n._theme,ref:n._setScrollbarEl,style:{height:n._barSize+"px"}})))}(e,this,e.children)},s}(Io),vi=0,Ho=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s.prototype._template=function(e,t){return function(n,r,i,l){var d,u;vi++;var o=i._variableRow,c=i._view!=="page",_=((d={}).onAnimationEnd=i._onViewAnimationEnd,d),h=((u={}).onKeyDown=i._onKeyDown,u),p=function(y,b){return m(pi,W({},b,{activeDate:i._active,amText:n.amText,calendarType:n.calendarType,cellTextHeight:r.cellTextHeight,clickToCreate:n.clickToCreate,colors:i._colors,dayNames:n.dayNames,dayNamesShort:i._dayNames,dataTimezone:n.dataTimezone,displayTimezone:n.displayTimezone,eventText:n.eventText,events:n.eventMap,eventsText:n.eventsText,exclusiveEndDates:n.exclusiveEndDates,firstDay:n.firstDay,firstPageDay:y,getDate:n.getDate,getDay:n.getDay,getMonth:n.getMonth,getWeekNumber:n.getWeekNumber,getYear:n.getYear,hasMarks:!!i._marked,hoverEnd:n.hoverEnd,hoverStart:n.hoverStart,isPicker:n.isPicker,invalid:i._invalid,labels:i._labelsLayout,labelHeight:r.labelHeight,marked:i._marked,max:i._maxDate,min:i._minDate,monthNames:n.monthNames,monthNamesShort:n.monthNamesShort,onDayClick:i._onDayClick,onDayDoubleClick:n.onDayDoubleClick,onDayRightClick:n.onDayRightClick,onDayHoverIn:i._onDayHoverIn,onDayHoverOut:i._onDayHoverOut,onLabelClick:i._onLabelClick,onLabelDoubleClick:n.onLabelDoubleClick,onLabelRightClick:n.onLabelRightClick,onLabelHoverIn:n.onLabelHoverIn,onLabelHoverOut:n.onLabelHoverOut,onLabelDelete:n.onLabelDelete,pmText:n.pmText,rangeEnd:n.rangeEnd,rangeStart:n.rangeStart,resourcesMap:n.resourcesMap,rtl:n.rtl,selectedDates:n.selectedDates,selectedEventsMap:n.selectedEventsMap,showEventTooltip:n.showEventTooltip,showOuter:i._showOuter,showWeekDays:!i._showDaysTop,showWeekNumbers:n.showWeekNumbers,showSingleMark:!!n.marksMap,todayText:n.todayText,theme:n.theme,timeFormat:n.timeFormat,timezonePlugin:n.timezonePlugin,valid:i._valid,weeks:i._weeks,weekText:n.weekText,renderDay:n.renderDay,renderDayContent:n.renderDayContent,renderLabel:n.renderLabel,renderLabelContent:n.renderLabelContent,variableRow:i._variableRow}))},v=i._showDaysTop&&n.showCalendar?m(sr,{dayNamesShort:i._dayNames,rtl:i._rtl,theme:i._theme,firstDay:n.firstDay,hasScroll:r.hasScrollY,hidden:i._view!=="page"&&!i._hasPicker,showWeekNumbers:n.showWeekNumbers}):null,g={axis:i._axis,batchSize:1,changeOnEnd:!0,className:"mbsc-calendar-scroll-wrapper"+i._theme,data:vi,easing:"ease-out",itemSize:r.pickerSize,items:i._months,mousewheel:i._mousewheel,prevAnim:i._prevAnim,rtl:n.rtl,snap:!0,time:200},f=m("div",{ref:i._setPickerCont,className:i._hasPicker?"mbsc-calendar-picker-wrapper":""},(r.view==="multi-year"||r.viewClosing==="multi-year"||n.selectView==="multi-year")&&m("div",W({className:i._getPickerClass("multi-year")},_),m(Vn,W({key:"years",itemRenderer:function(y,b){var x=y.key,T=i._getPageYears(x),S=n.getYear(new Date(i._active)),w=n.getYear(new Date(i._activeMonth));return m("div",{"aria-hidden":i._yearsIndex===x?void 0:"true",className:"mbsc-calendar-picker-slide mbsc-calendar-slide"+i._theme+i._rtl,key:x,style:i._getPageStyle(x,b,i._yearsIndex)},m("div",{className:"mbsc-calendar-table mbsc-flex-col"},Xs.map(function(C,k){return m("div",{className:"mbsc-calendar-row mbsc-flex mbsc-flex-1-0",key:k},js.map(function(L,z){var E=T+3*k+z,F=+n.getDate(E,0,1);return m(ts,{active:E===w,date:F,display:!0,selected:E===S,disabled:E<i._minYears||E>i._maxYears,rtl:n.rtl,text:E+n.yearSuffix,theme:n.theme,type:"year",onDayClick:i._onYearClick,key:E})}))})))},maxIndex:i._maxYearsIndex,minIndex:i._minYearsIndex,onGestureEnd:i._onGestureEnd,onIndexChange:i._onYearsPageChange,selectedIndex:i._yearsIndex},g))),(r.view==="year"||r.viewClosing==="year"||n.selectView==="year")&&m("div",W({className:i._getPickerClass("year")},_),m(Vn,W({key:"year",itemRenderer:function(y,b){var x=y.key,T=i._getPageYear(x),S=new Date(i._activeMonth),w=n.getYear(S),C=n.getMonth(S),k=new Date(i._active),L=n.getYear(k),z=n.getMonth(k);return m("div",{"aria-hidden":i._yearIndex===x?void 0:"true",className:"mbsc-calendar-picker-slide mbsc-calendar-slide"+i._theme+i._rtl,key:x,style:i._getPageStyle(x,b,i._yearIndex)},m("div",{className:"mbsc-calendar-table mbsc-flex-col"},Xs.map(function(E,F){return m("div",{className:"mbsc-calendar-row mbsc-flex mbsc-flex-1-0",key:F},js.map(function(N,I){var Y=n.getDate(T,3*F+I,1),A=n.getYear(Y),q=n.getMonth(Y);return m(ts,{active:A===w&&q===C,date:+Y,display:!0,selected:A===L&&q===z,disabled:Y<i._minYear||Y>=i._maxYear,month:n.monthNames[q],rtl:n.rtl,text:n.monthNamesShort[q],theme:n.theme,type:"month",onDayClick:i._onMonthClick,key:+Y})}))})))},maxIndex:i._maxYearIndex,minIndex:i._minYearIndex,onGestureEnd:i._onGestureEnd,onIndexChange:i._onYearPageChange,selectedIndex:i._yearIndex},g))),i._hasPicker&&(r.view==="month"||r.viewClosing==="month")&&m("div",W({className:i._getPickerClass("month")},_),m(Vn,W({key:"month",itemRenderer:function(y,b){var x=y.key;return m("div",{className:"mbsc-calendar-picker-slide mbsc-calendar-slide"+i._theme+i._rtl,key:x,style:i._getPageStyle(x,b,1)},m(pi,{activeDate:i._activeMonth,dataTimezone:n.dataTimezone,dayNames:n.dayNames,dayNamesShort:n.dayNamesMin,displayTimezone:n.displayTimezone,firstDay:n.firstDay,firstPageDay:i._getPageMonth(x),getDate:n.getDate,getDay:n.getDay,getMonth:n.getMonth,getYear:n.getYear,isActive:x>=i._monthIndex&&x<i._monthIndex+1,max:i._maxDate,min:i._minDate,monthNames:n.monthNames,monthNamesShort:n.monthNamesShort,onDayClick:i._onNavDayClick,rtl:n.rtl,selectedDates:n.selectedDates,showOuter:!0,showWeekDays:!i._showDaysTop,theme:n.theme,timezonePlugin:n.timezonePlugin,todayText:n.todayText}))},maxIndex:i._maxMonthIndex,minIndex:i._minMonthIndex,onGestureEnd:i._onGestureEnd,onIndexChange:i._onMonthPageChange,selectedIndex:i._monthIndex},g))));return m("div",{className:i._cssClass,ref:i._setEl,style:i._dim,onClick:na},m("div",{className:"mbsc-calendar-wrapper mbsc-flex-col"+i._theme+i._hb+(n.hasContent||!n.showCalendar?" mbsc-calendar-wrapper-fixed mbsc-flex-none":" mbsc-flex-1-1")},m("div",{className:"mbsc-calendar-header"+i._theme+i._hb+(i._showDaysTop?" mbsc-calendar-header-vertical":""),ref:i._setHeader},n.showControls&&function(){var y,b;if(n.renderHeader)le(y=n.renderHeader())&&(y!==i._headerHTML&&(i._headerHTML=y,i._shouldEnhanceHeader=!0),b=i._safeHtml(y));else{var x=i._pageNr>1;y=m(We,null,m(la,{className:"mbsc-flex mbsc-flex-1-1 mbsc-calendar-title-wrapper"}),m(ia,{className:"mbsc-calendar-button-prev"+(x?" mbsc-calendar-button-prev-multi":"")}),n.showToday&&m(oa,{className:"mbsc-calendar-header-today"}),m(ra,{className:"mbsc-calendar-button-next"+(x?" mbsc-calendar-button-next-multi":"")}))}var T=m("div",{className:"mbsc-calendar-controls mbsc-flex"+i._theme,dangerouslySetInnerHTML:b},y);return m(nr.Provider,{children:T,value:{instance:i}})}(),v),m("div",W({className:"mbsc-calendar-body mbsc-flex-col mbsc-flex-1-1"+i._theme,ref:i._setBody},h),n.showCalendar&&m("div",{className:"mbsc-calendar-body-inner mbsc-flex-col mbsc-flex-1-1"+(o?" mbsc-calendar-body-inner-variable":"")},i._isGrid?m("div",{"aria-hidden":c?"true":void 0,className:"mbsc-calendar-grid mbsc-flex-1-1 mbsc-flex-col"+i._theme+i._hb},i._monthsMulti.map(function(y,b){return m("div",{key:b,className:"mbsc-calendar-grid-row mbsc-flex mbsc-flex-1-1"},y.map(function(x,T){return m("div",{key:T,className:"mbsc-calendar-grid-item mbsc-flex-col mbsc-flex-1-1"+i._theme},m("div",{className:"mbsc-calendar-month-title"+i._theme},n.monthNames[new Date(x).getMonth()]),p(x,{isActive:!0}))}))})):o?m("div",{"aria-hidden":c?"true":void 0,className:"mbsc-calendar-slide mbsc-calendar-slide-active "+i._getPickerClass("page")},p(+n.navService.firstDay,{dragData:n.dragData,dragToCreate:n.dragToCreate,dragToMove:n.dragToMove,dragToResize:n.dragToResize,isActive:!0,onLabelUpdateEnd:n.onLabelUpdateEnd,onLabelUpdateModeOff:n.onLabelUpdateModeOff,onLabelUpdateModeOn:n.onLabelUpdateModeOn,onLabelUpdateMove:n.onLabelUpdateMove,onLabelUpdateStart:n.onLabelUpdateStart})):n.selectView==="page"&&m("div",W({"aria-hidden":c?"true":void 0,className:i._getPickerClass("page")},_),m(Vn,W({},g,{itemNr:i._pageNr,itemSize:r.pageSize/i._pageNr,itemRenderer:function(y,b){var x=y.key,T=x>=i._pageIndex&&x<i._pageIndex+i._pageNr&&i._view==="page",S={dragData:n.dragData,dragToCreate:n.dragToCreate,dragToMove:n.dragToMove,dragToResize:n.dragToResize,isActive:T,onLabelUpdateEnd:n.onLabelUpdateEnd,onLabelUpdateModeOff:n.onLabelUpdateModeOff,onLabelUpdateModeOn:n.onLabelUpdateModeOn,onLabelUpdateMove:n.onLabelUpdateMove,onLabelUpdateStart:n.onLabelUpdateStart};return m("div",{className:"mbsc-calendar-slide"+(T?" mbsc-calendar-slide-active":"")+i._theme+i._rtl,key:x,style:i._getPageStyle(x,b,i._pageIndex,i._pageNr)},p(i._getPageDay(x),S))},maxIndex:i._maxIndex,minIndex:i._minIndex,mouseSwipe:n.mouseSwipe,onAnimationEnd:i._onAnimationEnd,onGestureStart:i._onGestureStart,onIndexChange:i._onPageChange,onStart:i._onStart,selectedIndex:i._pageIndex,swipe:n.swipe}))),!i._hasPicker&&f))),l,i._hasPicker&&m(ar,{anchor:i._pickerBtn,closeOnScroll:!0,contentPadding:!1,context:n.context,cssClass:"mbsc-calendar-popup",display:"anchored",isOpen:i._view!=="page",locale:n.locale,onClose:i._onPickerClose,onOpen:i._onPickerOpen,rtl:n.rtl,scrollLock:!1,showOverlay:!1,theme:n.theme,themeVariant:n.themeVariant},m("div",W({},h),m("div",{className:"mbsc-calendar-controls mbsc-flex"+i._theme},m("div",{"aria-live":"polite",className:"mbsc-calendar-picker-button-wrapper mbsc-calendar-title-wrapper mbsc-flex mbsc-flex-1-1"+i._theme},m(ct,{className:"mbsc-calendar-button",onClick:i._onPickerBtnClick,theme:n.theme,themeVariant:n.themeVariant,type:"button",variant:"flat"},i._viewTitle)),m(ct,{className:"mbsc-calendar-button",ariaLabel:n.prevPageText,disabled:i._isPrevDisabled(!0),iconSvg:i._prevIcon,onClick:i.prevPage,theme:n.theme,themeVariant:n.themeVariant,type:"button",variant:"flat"}),m(ct,{className:"mbsc-calendar-button",ariaLabel:n.nextPageText,disabled:i._isNextDisabled(!0),iconSvg:i._nextIcon,onClick:i.nextPage,theme:n.theme,themeVariant:n.themeVariant,type:"button",variant:"flat"})),f)))}(e,t,this,e.children)},s.prototype._updated=function(){a.prototype._updated.call(this),this._shouldEnhanceHeader&&(Qn(this._headerElement,{view:this}),this._shouldEnhanceHeader=!1)},s}(xo);var gi;var ns=new Ot,zn=0;function yi(){clearTimeout(gi),gi=setTimeout(function(){ns.next()},100)}function bi(a){try{return on(a,"*:-webkit-autofill")}catch{return!1}}var Lo=function(a){function s(){var e=a!==null&&a.apply(this,arguments)||this;return e._tag="input",e._onClick=function(){e._hidePass=!e._hidePass},e._onMouseDown=function(t){e.s.tags&&(e._preventFocus=!0)},e._onTagClear=function(t,n){if(t.stopPropagation(),t.preventDefault(),!e.s.disabled){var r=e.s.pickerValue.slice();r.splice(n,1),ja(e._el,Lt,r)}},e._sizeTextArea=function(){var t,n,r,i=e._el,l=e.s.rows;i.offsetHeight&&(i.style.height="",r=i.scrollHeight-i.offsetHeight,t=i.offsetHeight+(r>0?r:0),(n=Math.round(t/24))>l?(t=24*l+(t-24*n),i.style.overflow="auto"):i.style.overflow="",t&&(i.style.height=t+"px"))},e._onAutoFill=function(){e.s.labelStyle==="floating"&&bi(e._el)&&e.setState({isFloatingActive:!0})},e}return $(s,a),s.prototype._change=function(e){},s.prototype._checkFloating=function(){var e=this,t=this._el,n=this.s,r=bi(t),i=this.state.hasFocus||r||!nt(this.value);if(t&&n.labelStyle==="floating"){if(this._tag==="select"){var l=t,d=l.options[0];i=!!(i||l.multiple||l.value||l.selectedIndex>-1&&d&&d.label)}else this.value===void 0&&(i=!(!i&&!t.value));this._valueChecked=!0,jt(this,function(){e.setState({isFloatingActive:i})})}},s.prototype._mounted=function(){var e,t=this,n=this.s,r=this._el;oe(r,"animationstart",this._onAutoFill),this._tag==="textarea"&&(oe(r,"input",this._sizeTextArea),this._unsubscribe=(e=this._sizeTextArea,zn||oe(ke,"resize",yi),zn++,ns.subscribe(e))),this._unlisten=$e(r,{keepFocus:!0,onBlur:function(){t.setState({hasFocus:!1,isFloatingActive:!!r.value})},onChange:function(i){if(n.type==="file"){for(var l=[],d=0,u=i.target.files;d<u.length;d++){var o=u[d];l.push(o.name)}t.setState({files:l.join(", ")})}n.tags&&n.value===void 0&&n.defaultValue===void 0&&t.setState({value:i.target.value}),t._checkFloating(),t._change(i.target.value),t._emit("onChange",i)},onFocus:function(){t._preventFocus||t.setState({hasFocus:!0,isFloatingActive:!0}),t._preventFocus=!1},onHoverIn:function(){t._disabled||t.setState({hasHover:!0})},onHoverOut:function(){t.setState({hasHover:!1})},onInput:function(i){t._change(i.target.value)}})},s.prototype._render=function(e,t){var n=!(!e.endIconSvg&&!e.endIcon),r=e.pickerValue,i=!(!e.startIconSvg&&!e.startIcon),l=e.label!==void 0||e.hasChildren,d=e.error,u=e.rtl?"right":"left",o=e.rtl?"left":"right",c=e.inputStyle,_=e.labelStyle,h=_==="floating",p=!(!h||!l||!t.isFloatingActive&&nt(e.value)),v=e.disabled===void 0?t.disabled:e.disabled,g=this._prevS,f=e.modelValue!==void 0?e.modelValue:e.value,y=f!==void 0?f:t.value!==void 0?t.value:e.defaultValue,b=this._theme+this._rtl+(d?" mbsc-error":"")+(v?" mbsc-disabled":"")+(t.hasHover?" mbsc-hover":"")+(t.hasFocus&&!v?" mbsc-focus":"");e.type!=="file"||n||(e.endIconSvg='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"/></svg>',n=!0),e.tags&&(nt(r)&&(r=[]),Be(r)||(r=[r]),this._tagsArray=e.pickerMap?r.map(function(x){return e.pickerMap.get(x)}):nt(y)?[]:y.split(", ")),e.passwordToggle&&(n=!0,this._passIconClass=b+" mbsc-toggle-icon mbsc-textfield-icon mbsc-textfield-icon-"+c+" mbsc-textfield-icon-"+o+" mbsc-textfield-icon-"+c+"-"+o+(l?" mbsc-textfield-icon-"+_:""),this._hidePass=this._hidePass===void 0?e.type==="password":this._hidePass),this._hasStartIcon=i,this._hasEndIcon=n,this._hasError=d,this._disabled=v,this._value=y,this._cssClass=this._className+this._hb+b+" mbsc-form-control-wrapper mbsc-textfield-wrapper mbsc-font mbsc-textfield-wrapper-"+c+(v?" mbsc-disabled":"")+(l?" mbsc-textfield-wrapper-"+_:"")+(i?" mbsc-textfield-wrapper-has-icon-"+u+" ":"")+(n?" mbsc-textfield-wrapper-has-icon-"+o+" ":""),l&&(this._labelClass=b+" mbsc-label mbsc-label-"+_+" mbsc-label-"+c+"-"+_+(i?" mbsc-label-"+c+"-"+_+"-has-icon-"+u+" ":"")+(n?" mbsc-label-"+c+"-"+_+"-has-icon-"+o+" ":"")+(h&&this._animateFloating?" mbsc-label-floating-animate":"")+(p?" mbsc-label-floating-active":"")),this._innerClass=b+" mbsc-textfield-inner mbsc-textfield-inner-"+c+(l?" mbsc-textfield-inner-"+_:""),i&&(this._startIconClass=b+" mbsc-textfield-icon mbsc-textfield-icon-"+c+" mbsc-textfield-icon-"+u+" mbsc-textfield-icon-"+c+"-"+u+(l?" mbsc-textfield-icon-"+_:"")),n&&(this._endIconClass=b+" mbsc-textfield-icon mbsc-textfield-icon-"+c+" mbsc-textfield-icon-"+o+" mbsc-textfield-icon-"+c+"-"+o+(l?" mbsc-textfield-icon-"+_:"")),this._nativeElmClass=b+" "+(e.inputClass||"")+" mbsc-textfield mbsc-textfield-"+c+(e.dropdown?" mbsc-select":"")+(l?" mbsc-textfield-"+_+" mbsc-textfield-"+c+"-"+_:"")+(p?" mbsc-textfield-floating-active":"")+(i?" mbsc-textfield-has-icon-"+u+" mbsc-textfield-"+c+"-has-icon-"+u+(l?" mbsc-textfield-"+c+"-"+_+"-has-icon-"+u:""):"")+(n?" mbsc-textfield-has-icon-"+o+" mbsc-textfield-"+c+"-has-icon-"+o+(l?" mbsc-textfield-"+c+"-"+_+"-has-icon-"+o:""):""),(this._tag==="select"||e.dropdown)&&(this._selectIconClass="mbsc-select-icon mbsc-select-icon-"+c+this._rtl+this._theme+(l?" mbsc-select-icon-"+_:"")+(i?" mbsc-select-icon-"+u:"")+(n?" mbsc-select-icon-"+o:"")),(this._tag==="textarea"||e.tags)&&(this._cssClass+=" mbsc-textarea-wrapper",this._innerClass+=" mbsc-textarea-inner",this._nativeElmClass+=" mbsc-textarea",this._tag!=="textarea"||y===this._prevValue&&e.inputStyle===g.inputStyle&&e.labelStyle===g.labelStyle&&e.rows===g.rows&&e.theme===g.theme||(this._shouldSize=!0),this._prevValue=y),e.tags&&(this._innerClass+=" mbsc-textfield-tags-inner"),e.type==="file"&&(this._dummyElmClass=this._nativeElmClass,this._nativeElmClass+=" mbsc-textfield-file"),this._errorClass=this._theme+this._rtl+" mbsc-error-message mbsc-error-message-"+c+(l?" mbsc-error-message-"+_:"")+(i?" mbsc-error-message-has-icon-"+u:"")+(n?" mbsc-error-message-has-icon-"+o:""),e.notch&&c==="outline"&&(this._fieldSetClass="mbsc-textfield-fieldset"+b+(i?" mbsc-textfield-fieldset-has-icon-"+u:"")+(n?" mbsc-textfield-fieldset-has-icon-"+o:""),this._legendClass="mbsc-textfield-legend"+this._theme+(p||l&&_==="stacked"?" mbsc-textfield-legend-active":"")),e.ripple&&e.inputStyle!=="outline"&&(this._rippleClass="mbsc-textfield-ripple"+this._theme+(d?" mbsc-error":"")+(t.hasFocus?" mbsc-textfield-ripple-active":"")),this._valueChecked&&(this._animateFloating=!0)},s.prototype._updated=function(){var e=this;this._shouldSize&&(this._shouldSize=!1,jt(this,function(){e._sizeTextArea()})),this._checkFloating()},s.prototype._destroy=function(){se(this._el,"animationstart",this._onAutoFill),se(this._el,"input",this._sizeTextArea),this._unsubscribe&&function(e){zn--,ns.unsubscribe(e),zn||se(ke,"resize",yi)}(this._unsubscribe),this._unlisten&&this._unlisten()},s.defaults={dropdown:!1,dropdownIcon:An,hideIcon:"eye-blocked",inputStyle:"underline",labelStyle:"stacked",placeholder:"",ripple:!1,rows:6,showIcon:"eye",type:"text"},s._name="Input",s}(Fe),hs=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),Object.defineProperty(s.prototype,"value",{get:function(){return this._el&&this._el.value},set:function(e){this._el.value=e,this._checkFloating(),this._tag==="textarea"&&this._sizeTextArea()},enumerable:!0,configurable:!0}),s.prototype._template=function(e,t){return function(n,r,i,l,d){var u,o=i.props;o.children;var c=o.dropdown;o.dropdownIcon,o.endIcon,o.endIconSrc,o.endIconSvg,o.error;var _=o.errorMessage,h=o.hasChildren;o.hideIcon,o.hideIconSvg,o.inputClass,o.inputStyle,o.label,o.labelStyle,o.modelValue,o.notch,o.passwordToggle,o.pickerMap,o.pickerValue,o.ripple,o.rows,o.rtl,o.showIcon,o.showIconSvg,o.startIcon,o.startIconSrc,o.startIconSvg;var p=o.tags;o.theme,o.themeVariant;var v=o.type,g=dt(o,["children","dropdown","dropdownIcon","endIcon","endIconSrc","endIconSvg","error","errorMessage","hasChildren","hideIcon","hideIconSvg","inputClass","inputStyle","label","labelStyle","modelValue","notch","passwordToggle","pickerMap","pickerValue","ripple","rows","rtl","showIcon","showIconSvg","startIcon","startIconSrc","startIconSvg","tags","theme","themeVariant","type"]),f=n.label,y=((u={}).onMouseDown=i._onMouseDown,u),b=g;return m("label",W({className:i._cssClass},y),(f||h)&&m("span",{className:i._labelClass},h?"":f),m("span",{className:i._innerClass},i._tag==="input"&&m("input",W({},b,{ref:i._setEl,className:i._nativeElmClass+(n.tags?" mbsc-textfield-hidden":""),disabled:i._disabled,type:n.passwordToggle?i._hidePass?"password":"text":v})),v==="file"&&m("input",{className:i._dummyElmClass,disabled:i._disabled,placeholder:n.placeholder,readOnly:!0,type:"text",value:r.files||""}),i._tag==="select"&&m("select",W({},b,{ref:i._setEl,className:"mbsc-select"+i._nativeElmClass,disabled:i._disabled}),l),i._tag==="textarea"&&m("textarea",W({},b,{ref:i._setEl,className:i._nativeElmClass,disabled:i._disabled})),p&&m("span",{className:"mbsc-textfield-tags"+i._nativeElmClass},i._tagsArray.length?i._tagsArray.map(function(x,T){return x&&m("span",{key:T,className:"mbsc-textfield-tag"+i._theme+i._rtl},m("span",{className:"mbsc-textfield-tag-text"+i._theme},x),m(yt,{className:"mbsc-textfield-tag-clear",onClick:function(S){return i._onTagClear(S,T)},svg:n.clearIcon,theme:n.theme}))}):m("span",{className:"mbsc-textfield-tags-placeholder"+i._theme},n.placeholder)),(i._tag==="select"||c)&&m(yt,{className:i._selectIconClass,svg:n.dropdownIcon,theme:n.theme}),i._hasStartIcon&&m(yt,{className:i._startIconClass,name:n.startIcon,svg:n.startIconSvg,theme:n.theme}),i._hasEndIcon&&!n.passwordToggle&&m(yt,{className:i._endIconClass,name:n.endIcon,svg:n.endIconSvg,theme:n.theme}),n.passwordToggle&&m(yt,{onClick:i._onClick,className:i._passIconClass,name:i._hidePass?n.showIcon:n.hideIcon,svg:i._hidePass?n.showIconSvg:n.hideIconSvg,theme:n.theme}),i._hasError&&m("span",{className:i._errorClass},_),n.notch&&n.inputStyle==="outline"&&m("fieldset",{"aria-hidden":"true",className:i._fieldSetClass},m("legend",{className:i._legendClass},f&&n.labelStyle!=="inline"?f:"&nbsp;")),n.ripple&&n.inputStyle!=="outline"&&m("span",{className:i._rippleClass})))}(e,t,this,e.children)},s}(Lo),ms={hasChildren:!0,parentClass:"mbsc-label",readAttrs:["placeholder","rows"],readProps:["disabled","type"],renderToParent:!0,slots:{endIcon:"end-icon",label:"label",startIcon:"start-icon"},before:function(a,s,e){var t=a.parentNode,n=he.createElement("span");if(t.insertBefore(n,a),n.appendChild(a),s.inputClass=a.getAttribute("class")||"",a.nodeName==="SELECT"&&delete s.hasChildren,!s.label&&s.hasChildren&&(s.label=e[0].textContent),s.label){var r=he.createElement("span");t.insertBefore(r,n)}}},Yo=W({},ms,{hasValue:!0,parentClass:"mbsc-select",useOwnChildren:!0}),Oo=W({},ms,{hasValue:!0});var _s=Gi({}),xt={};function ir(a,s){return xt[a]||(xt[a]={change:new Ot,selectedIndex:-1}),xt[a].change.subscribe(s)}function rr(a,s){var e=xt[a];e&&(e.change.unsubscribe(s),e.change.nr||delete xt[a])}function ps(a,s,e){var t=xt[a];t&&(e!==void 0&&(t.selectedIndex=e),s!==void 0&&(t.value=s),t.change.next(t.value))}function or(a){return xt[a]&&xt[a].selectedIndex}var Po=1,Fo=function(a){function s(){var e=a!==null&&a.apply(this,arguments)||this;return e._id="mbsc-segmented-group"+Po++,e._onChange=function(t,n){var r=e.s,i=r.modelValue!==void 0?r.modelValue:e.value;if(r.select==="multiple"){if(i!==void 0){var l=(i=i||[]).indexOf(n);l!==-1?i.splice(l,1):i.push(n),e.value=i.slice()}}else e.value=n;e._change(e.value),r.onChange&&r.onChange(t)},e}return $(s,a),s.prototype._change=function(e){},s.prototype._render=function(e){this._name=e.name===void 0?this._id:e.name,this._groupClass="mbsc-segmented mbsc-flex "+this._className+this._theme+this._rtl+(e.color?" mbsc-segmented-"+e.color:"")+(this.state.dragging?" mbsc-segmented-dragging":""),this._groupOpt={color:e.color,disabled:e.disabled,name:this._name,onChange:this._onChange,select:e.select,value:e.modelValue!==void 0?e.modelValue:e.value}},s.prototype._updated=function(){this.s.drag&&this.s.select!=="multiple"?this._unlisten||this._setupDrag():this._cleanupDrag()},s.prototype._destroy=function(){this._cleanupDrag()},s.prototype._setupDrag=function(){var e,t,n,r,i,l,d=this,u=[],o=[];this._unlisten=$e(this._el,{onEnd:function(){n&&r!==i&&!u[r]&&d._el.querySelectorAll(".mbsc-segmented-input")[r].click(),n=!1,d.setState({dragging:!1})},onMove:function(c){if(n){for(var _=Math.min(Math.max(c.endX-t,0),e),h=0,p=o[0];_>p&&o.length>h+1;)h++,p+=o[h];(h=d.s.rtl?o.length-1-h:h)===r||u[h]||ps(l,void 0,r=h)}},onStart:function(c){var _=Sn(c.domEvent.target,".mbsc-segmented-item",d._el);if(_){var h=_.querySelector(".mbsc-segmented-input");h.classList.contains("mbsc-selected")&&(u=[],rt(d._el.querySelectorAll(".mbsc-segmented-button"),function(p){u.push(p.classList.contains("mbsc-disabled"))}),o=[],rt(d._el.querySelectorAll(".mbsc-segmented-item"),function(p){o.push(p.clientWidth)}),e=d._el.clientWidth-30,t=cs(d._el).left+15,l=h.name,r=or(l),i=r,o.length&&h.type==="radio"&&(n=!0,d.setState({dragging:!0})))}}})},s.prototype._cleanupDrag=function(){this._unlisten&&(this._unlisten(),this._unlisten=null)},s.defaults={select:"single"},s._name="SegmentedGroup",s}(Fe),Ro=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s.prototype._template=function(e){return m(_s.Provider,{children:(t=this,n=e.children,m("div",{className:t._groupClass,ref:t._setEl},n)),value:this._groupOpt});var t,n},s}(Fo),Vo=1,zo=function(a){function s(){var e=a!==null&&a.apply(this,arguments)||this;return e._onChange=function(t){var n=e.s,r=t.target.checked;r!==e._checked&&(e._change(r),e._onGroupChange&&e._onGroupChange(t,e._value),e._toggle(r),n.onChange&&n.onChange(t))},e._onValueChange=function(t){var n=e.s,r=e._isMultiple?Be(t)&&t.indexOf(e._value)!==-1:t===e._value;n.checked===void 0&&r!==e.state.selected?e.setState({selected:r}):e.forceUpdate(),e._change(r)},e._setBox=function(t){e._box=t},e}return $(s,a),s.prototype._change=function(e){},s.prototype._groupOptions=function(e){var t=this,n=e.color,r=e.disabled,i=e.name,l=e.onChange,d=e.select,u=e.value,o=this.s,c=this.state,_=this._checked,h=o.modelValue!==void 0?o.modelValue===o.value:o.checked,p=h!==void 0?Qe(h):c.selected===void 0?Qe(o.defaultChecked):c.selected;this._id=o.id===void 0?this._id||"mbsc-segmented-"+Vo++:o.id,this._value=o.value===void 0?this._id:o.value,this._onGroupChange=l,this._isMultiple=(d||o.select)==="multiple",this._name=i===void 0?o.name:i,this._disabled=r===void 0?o.disabled===void 0?c.disabled:Qe(o.disabled):Qe(r),this._color=n===void 0?o.color:n,this._checked=u===void 0?p:this._isMultiple?u&&u.indexOf(this._value)!==-1:u===this._value,this._isMultiple||_||!this._checked||setTimeout(function(){t._checked&&ps(t._name,t._value,t._index)}),this._selectedIndex=or(this._name),this._cssClass="mbsc-segmented-item "+this._className+this._theme+this._rtl+(this._checked?" mbsc-segmented-item-checked":"")+(c.hasFocus?" mbsc-focus":"")+(this._index===this._selectedIndex||this._index===void 0&&this._checked||this._isMultiple&&this._checked?" mbsc-segmented-item-selected":"")},s.prototype._toggle=function(e){this.s.checked===void 0&&this.setState({selected:e})},s.prototype._mounted=function(){var e=this;oe(this._el,at,this._onChange),this._unlisten=$e(this._el,{onBlur:function(){e.setState({hasFocus:!1})},onFocus:function(){e.setState({hasFocus:!0})}})},s.prototype._updated=function(){if(this._name&&!this._unsubscribe&&(this._unsubscribe=ir(this._name,this._onValueChange)),!this._isMultiple){var e=Sn(this._el,".mbsc-segmented"),t=-1,n=-1;if(e)for(var r=e.querySelectorAll('.mbsc-segmented-input[name="'+this._name+'"]'),i=0;i<r.length;i++)r[i]===this._el&&(t=i),r[i].checked&&(n=i);this._index!==t&&n!==-1&&function(l,d){xt[l]&&(xt[l].selectedIndex=d)}(this._name,n),this._selectedIndex!==-1&&(this._box.style.transform="translateX("+(this.s.rtl?-1:1)*(this._selectedIndex-t)*100+"%)",this._animate=!0),t!==-1&&(this._index=t)}},s.prototype._destroy=function(){se(this._el,at,this._onChange),this._unsubscribe&&(rr(this._name,this._unsubscribe),this._unsubscribe=void 0),this._unlisten&&this._unlisten()},s.defaults={select:"single"},s._name="Segmented",s}(Fe),Ao=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),Object.defineProperty(s.prototype,"checked",{get:function(){return this._checked},set:function(e){this._toggle(e)},enumerable:!0,configurable:!0}),s.prototype._template=function(e,t){var n=this;return m(_s.Consumer,null,function(r){return function(i,l,d,u,o){return d._groupOptions(o),m("label",{className:d._cssClass},m("input",{ref:d._setEl,"aria-labelledby":d._id,checked:d._checked,className:"mbsc-segmented-input mbsc-reset "+(i.inputClass||"")+d._theme+(d._checked?" mbsc-selected":""),disabled:d._disabled,name:d._isMultiple?i.name:d._name,onChange:na,type:d._isMultiple?"checkbox":"radio",value:d._value}),m("div",{ref:d._setBox,className:"mbsc-segmented-selectbox"+d._theme+(d._animate?" mbsc-segmented-selectbox-animate":"")+(d._checked?" mbsc-selected":"")},m("div",{className:"mbsc-segmented-selectbox-inner"+d._theme+(d._index===d._selectedIndex||d._checked?" mbsc-segmented-selectbox-inner-visible":"")+(d._checked?" mbsc-selected":"")})),m(ct,{"aria-hidden":!0,ariaLabel:i.ariaLabel,className:"mbsc-segmented-button"+(d._checked?" mbsc-selected":"")+(l.hasFocus?" mbsc-focus":""),color:d._color,disabled:d._disabled,endIcon:i.endIcon,endIconSrc:i.endIconSrc,endIconSvg:i.endIconSvg,icon:i.icon,iconSrc:i.iconSrc,iconSvg:i.iconSvg,id:d._id,ripple:i.ripple,rtl:i.rtl,startIcon:i.startIcon,startIconSrc:i.startIconSrc,startIconSvg:i.startIconSvg,tag:"span",tabIndex:-1,theme:i.theme,themeVariant:i.themeVariant},u))}(e,t,n,e.children,r)})},s}(zo),Wo={hasChildren:!0,parentClass:"mbsc-segmented-button",readAttrs:["value"],readProps:["disabled","name"],renderToParent:!0,before:function(a,s){s.select=a.type==="checkbox"?"multiple":"single",s.defaultChecked=a.checked,s.inputClass=a.getAttribute("class")||"";var e=a.parentNode,t=e.parentNode;if(t.getAttribute("mbsc-segmented-group")===null){var n=he.createElement("div");n.setAttribute("mbsc-segmented-group",""),t.insertBefore(n,e),n.appendChild(e),rt(t.querySelectorAll('input[name="'+a.name+'"]'),function(r){n.appendChild(r.parentNode)})}}},Uo={hasChildren:!0,parentClass:"mbsc-segmented"};function Bo(a,s){return function(e,t){var n={};if(le(e)){var r,i=he.querySelectorAll(e);return rt(i,function(l){var d=$n(a,l,t,s);n[l.id]=d,r||(r=d)}),i.length===1?r:n}return $n(a,e,t,s)}}qe&&(he.addEventListener("DOMContentLoaded",function(){Qn(he)}),he.addEventListener("mbsc-enhance",function(a){Qn(a.target)}));var jo=(ra._selector="[mbsc-calendar-next]",la),Xo=(ia._selector="[mbsc-calendar-prev]",ra),qo=(oa._selector="[mbsc-calendar-today]",ia),Go=(la._selector="[mbsc-calendar-nav]",oa);var tt=new Ot;function fs(a){return tt.subscribe(a)}function vs(a){tt.unsubscribe(a)}function gn(a,s){s.style.left=a.endX+"px",s.style.top=a.endY+"px"}var Jo=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s.prototype._render=function(e){e.dragData!==this._prevS.dragData&&(this._dragData=le(e.dragData)?JSON.parse(e.dragData.toString()):e.dragData)},s.prototype._updated=function(){var e=this,t=this.s.element||this._el,n=Ct(t);if(this._unlisten===void 0&&t&&n){var r,i,l;t.classList.add("mbsc-draggable");var d=n.body;this._unlisten=$e(t,{onEnd:function(u){if(i){var o=W({},u);o.domEvent.preventDefault(),o.action="externalDrop",o.dragData=e._dragData,o.create=!0,o.external=!0,o.eventName="onDragEnd",tt.next(o),i=!1,d.removeChild(r)}clearTimeout(l)},onMove:function(u){var o=W({},u);o.dragData=e._dragData,o.clone=r,o.create=!0,o.external=!0,!i&&o.isTouch||o.domEvent.preventDefault(),i?(gn(u,r),o.eventName="onDragMove",tt.next(o)):(Math.abs(o.deltaX)>7||Math.abs(o.deltaY)>7)&&(clearTimeout(l),o.isTouch||(gn(u,r),d.appendChild(r),o.eventName="onDragStart",tt.next(o),i=!0))},onStart:function(u){var o=W({},u);i||((r=t.cloneNode(!0)).classList.add("mbsc-drag-clone"),o.dragData=e._dragData,o.create=!0,o.external=!0,o.isTouch&&(l=setTimeout(function(){gn(u,r),d.appendChild(r),o.clone=r,o.eventName="onDragModeOn",tt.next(o),o.eventName="onDragStart",tt.next(o),i=!0},350)))}})}},s.prototype._destroy=function(){this._unlisten&&(this._unlisten(),this._unlisten=void 0)},s._name="Draggable",s}(Fe),Ko=1;function xi(a,s,e,t,n,r){var i=e,l=t,d=new Map,u=[];n&&(i=ne(n,s)),r?l=ne(r,s):n&&(l=te(i,1));var o=ot(a,i,l,s);for(var c in o)if(c)for(var _=0,h=o[c];_<h.length;_++){var p=h[_];if(p.start){if(!d.has(p)){var v=ne(p.start,s),g=ne(p.end,s)||v;if(p.allDay&&(v=ie(s,v.getFullYear(),v.getMonth(),v.getDate()),g=ie(s,(g=lt(s,!0,v,g)).getFullYear(),g.getMonth(),g.getDate(),23,59,59,999)),Xt(i,l,v,g)){var f=W({},p);(s.dataTimezone||s.displayTimezone)&&(f.start=v.toISOString(),f.end=g.toISOString()),d.set(p,!0),u.push(f)}}}else u.push(p)}return u}function ta(){return"mbsc_"+Ko++}function lr(a,s,e,t,n,r,i,l,d,u){var o=s.color||n&&n.color,c=s.start||s.date,_=s.recurring?s.original.start:s.start,h=s.allDay||!_,p=bn(a,s),v=c?ne(c,p):null,g=s.end?ne(s.end,p):null,f=lt(a,s.allDay,v,g,r),y=s.bufferBefore?ne(+v-6e4*s.bufferBefore,p):null,b=s.bufferAfter?ne(+f+6e4*s.bufferAfter,p):null,x=v&&f&&!Pe(v,f),T=!x||Pe(v,e),S=!x||Pe(f,e),w=!u&&(h||i&&x&&!T&&!S),C="",k="";if(!d)if(u){var L=a.dateFormat+(h?"":a.separator+a.timeFormat);C=v?Le(L,v,a):"",k=g?Le(L,h?f:g,a):""}else i||l?h||(C=v?Le(a.timeFormat,v,a):"",k=g?Le(a.timeFormat,g,a):""):(C=v?Le(a.dateFormat,v,a):"",k=g?Le(a.dateFormat,f,a):"");var z=w||!T&&i&&!u?"":C,E=w||!S&&i&&!u?"":k,F=s.title||s.text||"",N=F,I=N+(w?"":", "+z+" - "+E),Y=a.dateFormatFull,A=!d&&v?", "+a.fromText+": "+Le(Y,v,a)+(h?"":", "+C):"",q=!d&&g?", "+a.toText+": "+Le(Y,g,a)+(h?"":", "+k):"",G=n&&n.name?", "+n.name:"";return{allDay:h,allDayText:w?a.allDayText:"",ariaLabel:N+G+A+q,bufferEnd:b,bufferStart:y,color:o,currentResource:n,date:+e,end:E,endDate:g||(v?new Date(v):null),html:F,id:s.id,isMultiDay:x,lastDay:!w&&x&&S?a.toText:"",original:s,position:{},resource:s.resource,slot:s.slot,start:z,startDate:v,style:{background:o,color:t&&o?rn(o):""},title:N,tooltip:a.showEventTooltip?s.tooltip||I:void 0,uid:s.occurrenceId?s.occurrenceId:s.id}}function Ia(a){var s=[];if(a)for(var e=0,t=a;e<t.length;e++){var n=t[e];n.id===void 0&&(n.id=ta()),s.push(n)}return s}function Zo(a,s,e,t,n,r,i,l,d){if(l==="start-end"){var u=Gt(a,t,s,e,r,i),o=Gt(a,n,s,e,r,i);if(u)return u;if(o)return o}else for(var c=d?n:me(te(n,1)),_=me(t);_<c;_.setDate(_.getDate()+1)){var h=Gt(a,_,s,e,r,i);if(h)return h}return!1}function $o(a,s,e,t,n){for(var r=n.exclusiveEndDates?e:me(te(e,1)),i=me(s);i<r;i.setDate(i.getDate()+1)){var l=(t[Te(i)]||[]).filter(function(c){return c.id!==a.id});if(l.length){if(n.eventOverlap===!1||a.overlap===!1)return l[0];for(var d=0,u=l;d<u.length;d++){var o=u[d];if(o.overlap===!1)return o}}}return!1}var Qo=function(a){function s(){var e=a!==null&&a.apply(this,arguments)||this;return e.print=na,e._checkSize=0,e._navService=new ho,e._pageLoad=0,e._selectedDates={},e._shouldScrollSchedule=0,e._update=0,e._onScroll=br(function(){if(!e._isListScrolling&&!e._viewChanged){for(var t in e._listDays)if(e._listDays[t]){var n=e._listDays[t];if(n.offsetTop+n.offsetHeight-e._list.scrollTop>0){+t!==e._selected&&(e._shouldSkipScroll=!0,e._selectedChange(+t));break}}}}),e._isListScrolling=0,e._remote=0,e._tempViewChanged=!1,e._onWeekDayClick=function(t){t!==e._selected&&(e._skipScheduleScroll=!0,e._selectedChange(t))},e._onDayClick=function(t){var n=t.date,r=+n,i=Te(n),l=vn(e._eventMap[i],e.s.eventOrder),d=e._showEventPopover,u=d===void 0?!e._showEventLabels&&!e._showEventList&&!e._showSchedule:d,o=d!==!1&&e._moreLabelClicked,c=(u||o)&&l&&l.length>0;t.events=l,e._isEventClick||e._resetSelection(),e._hook("onCellClick",t),e._moreLabelClicked=!1,t.disabled||r===e._selected||(e._navService.preventPageChange=!e._showEventList,e._skipScheduleScroll=!0,e._selectedChange(r)),c&&e._showPopover(r,r,l.map(function(_){return e._getEventData(_,n)}),t.target),e._isEventClick=!1},e._onActiveChange=function(t){if(t.scroll)e._viewDate=+t.date;else{var n=e._getValidDay(t.date,t.dir),r={activeDate:n};e._active=n,e._viewDate=n,e._update++,e._skipScheduleScroll=t.pageChange&&!t.nav,(t.pageChange||t.today)&&(r.selectedDate=n,e._selectedChange(n,!0),e._navService.forcePageChange=!0),e.setState(r)}},e._onGestureStart=function(t){e._hidePopover()},e._onDayDoubleClick=function(t){e._dayClick("onCellDoubleClick",t)},e._onDayRightClick=function(t){e._dayClick("onCellRightClick",t)},e._onCellHoverIn=function(t){t.events=e._eventMap[Te(t.date)],e._hook("onCellHoverIn",t)},e._onCellHoverOut=function(t){t.events=e._eventMap[Te(t.date)],e._hook("onCellHoverOut",t)},e._onEventHoverIn=function(t){e._hoverTimer=setTimeout(function(){e._isHover=!0,e._eventClick("onEventHoverIn",t)},150)},e._onEventHoverOut=function(t){clearTimeout(e._hoverTimer),e._isHover&&(e._isHover=!1,e._eventClick("onEventHoverOut",t))},e._onEventClick=function(t){var n=e.s;e._handleMultipleSelect(t),e._eventClick("onEventClick",t)===!1||n.selectMultipleEvents||n.eventDelete||(n.dragToCreate||n.clickToCreate)&&n.eventDelete!==!1||e._hidePopover()},e._onEventDoubleClick=function(t){e._eventClick("onEventDoubleClick",t)},e._onEventRightClick=function(t){e._eventClick("onEventRightClick",t)},e._onEventDragEnd=function(t){e._hook("onEventDragEnd",t)},e._onEventDragStart=function(t){e._hook("onEventDragStart",t)},e._onEventDragEnter=function(t){e._hook("onEventDragEnter",t)},e._onEventDragLeave=function(t){e._hook("onEventDragLeave",t)},e._onLabelHoverIn=function(t){e._hoverTimer=setTimeout(function(){e._isHover=!0,e._labelClick("onEventHoverIn",t)},150)},e._onLabelHoverOut=function(t){clearTimeout(e._hoverTimer),e._isHover&&(e._isHover=!1,e._labelClick("onEventHoverOut",t))},e._onLabelClick=function(t){e._handleMultipleSelect(t),e._hook("onLabelClick",t),e._labelClick("onEventClick",t),e._isEventClick=!0,t.label||(e._moreLabelClicked=!0)},e._onLabelDoubleClick=function(t){e._labelClick("onEventDoubleClick",t)},e._onLabelRightClick=function(t){e._labelClick("onEventRightClick",t)},e._onCellClick=function(t){e._resetSelection(),e._cellClick("onCellClick",t)},e._onCellDoubleClick=function(t){e._cellClick("onCellDoubleClick",t)},e._onCellRightClick=function(t){e._cellClick("onCellRightClick",t)},e._proxy=function(t){e._hook(t.type,t)},e._onPageChange=function(t){setTimeout(function(){e._hidePopover()}),e._isPageChange=!0,e._hook("onPageChange",t)},e._onPageLoading=function(t){var n=e.s,r=ot(e._events,t.viewStart,t.viewEnd,n);e._colorsMap=ot(n.colors,t.viewStart,t.viewEnd,n),e._invalidsMap=ot(n.invalid,t.viewStart,t.viewEnd,n,!0),e._validsMap=ot(n.valid,t.viewStart,t.viewEnd,n,!0),e._eventMap=r,e._firstDay=Ke(t.firstDay,n,e._firstWeekDay),e._lastDay=t.lastDay,e._labelsMap=e._marksMap=void 0,n.labels||!e._showEventLabels&&!e._showEventCount?n.marked||(e._marksMap=r):e._labelsMap=r,t.viewChanged&&e._hook("onPageLoading",t)},e._onPageLoaded=function(t){e._shouldAnimateScroll=e._isPageChange,e._isPageChange=!1;var n=e._eventListType;if(e._showEventList&&(!e._showCalendar||n!=="day")){var r=e.s,i=t.month,l=e._showEventList&&i&&n==="month",d=l?i:t.firstDay,u=l?r.getDate(r.getYear(i),r.getMonth(i)+e._eventListSize,1):t.lastDay;e._setEventList(d,u)}e._hook("onPageLoaded",t)},e._onMoreClick=function(t){e._showPopover(t.key,+t.date,t.list.map(function(n){return e._getEventData(n.original,new Date(t.date),n.currentResource,!0)}),t.target,t.context,t.inst)},e._onPopoverClose=function(t){var n=e.state;n.popoverHost&&t.source==="dragStart"?e.setState({popoverDrag:!0,popoverHidden:!0}):n.popoverHost&&t.source==="scroll"&&n.popoverDrag||e._hidePopover()},e._onResize=function(t){var n;if(e._showEventList&&qe){var r=t.target,i=r.offsetHeight,l=r.getBoundingClientRect().top;n=i-e._list.getBoundingClientRect().top+l>170}e.setState({height:t.height,isListScrollable:n,width:t.width})},e._onSelectedEventsChange=function(t){e._emit("selectedEventsChange",t),e._hook("onSelectedEventsChange",{events:t})},e._getDragDates=function(t,n,r){for(var i={},l=e._firstWeekDay,d=lt(e.s,r.allDay,t,n,!0),u=me(te(d,1)),o=me(t);o<u;o.setDate(o.getDate()+1)){var c=o.getDay(),_=l-c>0?7:0;Pe(t,o)||c===l?i[Te(o)]={event:r,width:100*Math.min(ft(o,d)+1,7+l-c-_)}:i[Te(o)]={}}return i},e._onLabelUpdateModeOn=function(t){var n=t.create?e._tempEvent:t.event,r=ne(n.start),i=ne(n.end||r);e.setState({isTouchDrag:!0,labelDragData:{draggedEvent:n,originDates:t.external?void 0:e._getDragDates(r,i,n)}})},e._onLabelUpdateModeOff=function(t){e._hook("onEventDragEnd",{domEvent:t.domEvent,event:t.create?e._tempEvent:t.event,source:"calendar"}),e.setState({isTouchDrag:!1,labelDragData:void 0})},e._onLabelUpdateStart=function(t){var n=e.s,r=e._el;if(n.externalDrag&&t.drag&&!t.create){var i=r.querySelector(".mbsc-calendar-label[data-id='"+t.event.id+"']")||Sn(t.domEvent.target,".mbsc-list-item");if(i){var l=i.cloneNode(!0),d=l.classList;l.style.display="none",d.add("mbsc-drag-clone","mbsc-schedule-drag-clone","mbsc-font"),d.remove("mbsc-calendar-label-hover","mbsc-hover","mbsc-focus","mbsc-active"),e._clone=l,e._body=Ct(r).body,e._body.appendChild(l),e._eventDropped=!1,tt.next(W({},t,{create:!0,dragData:t.event,eventName:"onDragStart",external:!0,from:e}))}}var u=e._showWeekNumbers?r.querySelector(".mbsc-calendar-week-nr").getBoundingClientRect().width:0,o=r.querySelectorAll(".mbsc-calendar-slide-active")[0],c=o.getBoundingClientRect(),_=r.querySelector(".mbsc-calendar-week-days"),h=o.querySelectorAll(".mbsc-calendar-row"),p=/click/.test(t.domEvent.type);if(e._areaTop=0,_){var v=_.getBoundingClientRect();e._areaTop=v.top+v.height}e._areaLeft=c.left+(n.rtl?0:u),e._areaBottom=c.top+c.height,e._areaRight=e._areaLeft+c.width-(n.rtl?u:0),e._calCellWidth=(e._areaRight-e._areaLeft)/7;var g=0;if(e._rowTops=[],h.forEach(function(w,C){var k=w.getBoundingClientRect().top-e._areaTop;e._rowTops.push(k),t.endY-e._areaTop>k&&(g=C)}),t.create){var f=De((n.rtl?e._areaRight-t.endX:t.endX-e._areaLeft)/e._calCellWidth),y=te(e._firstDay,7*g+f),b=new Date(y.getFullYear(),y.getMonth(),y.getDate()),x=te(b,1),T=n.exclusiveEndDates?x:new Date(+x-1),S=n.extendDefaultEvent?n.extendDefaultEvent({start:b}):void 0;e._tempEvent=W({allDay:!0,end:T,id:ta(),start:b,title:n.newEventText},t.dragData,S)}p||e._hook("onEventDragStart",{action:t.create?"create":t.resize?"resize":"move",domEvent:t.domEvent,event:t.create?e._tempEvent:t.event,source:"calendar"})},e._onLabelUpdateMove=function(t){var n=e.s,r=t.create?e._tempEvent:t.event,i=W({},r),l=e.state.labelDragData,d=r.allDay?void 0:n;if(n.externalDrag&&t.drag&&!t.create&&e._clone&&(tt.next(W({},t,{clone:e._clone,create:!0,dragData:t.event,eventName:"onDragMove",external:!0,from:e})),!e._onCalendar))return gn(t,e._clone),void(l&&l.draggedEvent||e.setState({labelDragData:{draggedEvent:i}}));if(t.endY>e._areaTop&&t.endY<e._areaBottom&&t.endX>e._areaLeft&&t.endX<e._areaRight){var u=De((n.rtl?e._areaRight-t.endX:t.endX-e._areaLeft)/e._calCellWidth),o=De((n.rtl?e._areaRight-t.startX:t.startX-e._areaLeft)/e._calCellWidth),c=0,_=0;e._rowTops.forEach(function(C,k){t.startY-e._areaTop>C&&(_=k),t.endY-e._areaTop>C&&(c=k)});var h=7*(c-_)+(u-o);if(u!==e._tempDay||c!==e._tempWeek){var p=ne(r.start,d),v=ne(r.end,d)||p,g=Za(r.dragInTime,void 0,n.dragInTime),f=p,y=v;if(t.external){var b=Re(p),x=+v-+p;g&&(f=ie(n,+te(e._firstDay,7*c+u)+b),y=ie(n,+f+x))}else if(t.drag){if(!g)return;f=te(p,h),y=te(v,h)}else{var T=n.rtl?-1:1,S=t.create?c===_?t.deltaX*T>0:h>0:t.direction==="end",w=ft(p,v);S?y=te(v,Math.max(-w,h)):f=te(p,Math.min(w,h)),y<f&&(S?y=ie(d,f):f=ie(d,y))}i.start=f,i.end=y,e.setState({labelDragData:{draggedDates:e._getDragDates(f,y,i),draggedEvent:i,originDates:l&&l.originDates},popoverHidden:!0}),e._tempDay=u,e._tempWeek=c}}},e._onLabelUpdateEnd=function(t){var n=e.s,r=e.state,i=t.create,l=r.labelDragData||{},d=i?e._tempEvent:t.event,u=l.draggedEvent||d,o=ne(d.start),c=ne(d.end),_=ne(u.start),h=ne(u.end),p=i||+o!=+_||+c!=+h,v={allDay:d.allDay,endDate:h,original:d,startDate:_},g=!1;n.externalDrag&&t.drag&&!t.create&&e._clone&&(tt.next(W({},t,{action:"externalDrop",create:!0,dragData:t.event,eventName:"onDragEnd",external:!0,from:e})),e._body.removeChild(e._clone),e._clone=void 0,e._onCalendar||(g=!0,e._eventDropped&&e._onEventDelete(t)));var f=t.action||(l.draggedEvent?"drag":"click"),y=!g&&(!p||e._onEventDragStop({action:f,collision:Zo(n,e._invalidsMap,e._validsMap,_,h,e._minDate,e._maxDate,n.invalidateEvent,n.exclusiveEndDates),create:i,domEvent:t.domEvent,event:v,external:t.external,from:t.from,overlap:$o(d,_,h,e._eventMap,n),source:"calendar"})),b=r.isTouchDrag&&!g&&(!i||y);b||f==="click"||e._hook("onEventDragEnd",{domEvent:t.domEvent,event:d,source:"calendar"}),e.setState({isTouchDrag:b,labelDragData:b?{draggedEvent:y?u:W({},d),originDates:y?e._getDragDates(_,h,v.original):l.originDates}:{}}),t.drag&&e._hidePopover(),e._tempWeek=-1,e._tempDay=-1},e._onEventDragStop=function(t){var n=e.s,r=t.action,i=t.resource,l=t.slot,d=t.collision,u=t.overlap,o=t.create,c=t.source,_=t.event,h=_.original,p=h.recurring?h.original:h,v=n.immutableData?W({},p):p,g=W({},v),f=W({},v),y=h.timezone,b=Pn(h.start,n,y),x=Pn(_.startDate,n,y),T=Pn(_.endDate,n,y),S=_.allDay,w=f.recurring;w?f.recurringException=Ka(f.recurringException).concat([b]):(f.allDay=S,f.start=x,f.end=T,i!==void 0&&(f.resource=i),l!==void 0&&(f.slot=l));var C=!1,k=w?W({},v):v;return(o||w)&&(w&&delete k.recurring,(w||k.id===void 0)&&(k.id=ta()),i!==void 0&&(k.resource=i),l!==void 0&&(k.slot=l),k.start=x,k.end=T,k.allDay=S,C=e._hook("onEventCreate",W({action:r,domEvent:t.domEvent,event:k,source:c},w&&{originEvent:h}))!==!1,d===!1&&u===!1||(C=!1,e._hook("onEventCreateFailed",W({action:r,event:k,invalid:d,overlap:u,source:c},w&&{originEvent:h})))),o&&!w||t.external||(C=e._hook("onEventUpdate",W({domEvent:t.domEvent,event:f,oldEvent:g,oldResource:t.oldResource,oldSlot:t.oldSlot,resource:t.newResource,slot:t.newSlot,source:c},w&&{newEvent:k,oldEventOccurrence:h}))!==!1,d===!1&&u===!1||(C=!1,e._hook("onEventUpdateFailed",W({event:f,invalid:d,oldEvent:g,overlap:u,source:c},w&&{newEvent:k,oldEventOccurrence:h})))),C?(t.from&&(t.from._eventDropped=!0),(o||w)&&(e._events.push(k),e._triggerCreated={action:r,event:k,source:c}),o&&!w||(w?(_.id=k.id,_.original=k,v.recurringException=f.recurringException):(v.start=x,v.end=T,v.allDay=S,i!==void 0&&(v.resource=i),l!==void 0&&(v.slot=l)),e._triggerUpdated={event:v,oldEvent:g,source:c}),e._refresh=!0,c!=="calendar"&&e.forceUpdate()):e._hidePopover(),C},e._onExternalDrag=function(t){var n=e.s,r=t.clone,i=t.from===e,l=!i&&n.externalDrop,d=i&&n.externalDrag&&!n.dragToMove,u=e.state.labelDragData;if(e._showCalendar&&(l||n.externalDrag)){var o=!d&&t.endY>e._areaTop&&t.endY<e._areaBottom&&t.endX>e._areaLeft&&t.endX<e._areaRight;switch(t.eventName){case"onDragModeOff":l&&e._onLabelUpdateModeOff(t);break;case"onDragModeOn":l&&e._onLabelUpdateModeOn(t);break;case"onDragStart":l?e._onLabelUpdateStart(t):i&&(e._onCalendar=!0);break;case"onDragMove":if(!i&&!l)return;o?(e._onCalendar||e._hook("onEventDragEnter",{domEvent:t.domEvent,event:t.dragData,source:"calendar"}),(i||l)&&(r.style.display="none"),l&&e._onLabelUpdateMove(t),e._onCalendar=!0):e._onCalendar&&(e._hook("onEventDragLeave",{domEvent:t.domEvent,event:t.dragData,source:"calendar"}),r.style.display="table",(!i||u&&u.draggedEvent)&&e.setState({labelDragData:{draggedDates:{},draggedEvent:i?u&&u.draggedEvent:void 0,originDates:i?u&&u.originDates:void 0}}),e._tempWeek=-1,e._tempDay=-1,e._onCalendar=!1);break;case"onDragEnd":l&&(o?e._onLabelUpdateEnd(t):(e.setState({labelDragData:void 0}),e._hook("onEventDragEnd",{domEvent:t.domEvent,event:t.dragData,source:"calendar"})))}}},e._onEventDelete=function(t){var n,r=e.s;if((r.eventDelete!==void 0||r.dragToCreate||r.clickToCreate)&&r.eventDelete!==!1){for(var i,l,d,u=!1,o=!1,c=!1,_=t.event,h=_,p=r.selectMultipleEvents,v=p?e._selectedEventsMap:((n={})[_.id]=_,n),g=[],f=[],y=[],b={},x=[],T=0,S=Da(v);T<S.length;T++){var w=S[T];if(w.recurring){h=w,o=!0;var C=(i=w.original).id;b[C]?d=b[C]:(l=W({},i),d=W({},i),f.push(i),g.push(l),y.push(d),b[C]=d);var k=Pn(w.start,r);d.recurringException=Ka(d.recurringException).concat([k])}else c=!0,_=w,x.push(w)}if(o&&e._hook("onEventUpdate",{domEvent:t.domEvent,event:d,events:p?y:void 0,isDelete:!0,oldEvent:p?void 0:l,oldEventOccurrence:h,oldEvents:p?g:void 0,oldResource:t.resource,oldSlot:t.slot,resource:t.resource,slot:t.slot,source:t.source})!==!1){u=!0;for(var L=0,z=f;L<z.length;L++){var E=z[L],F=b[E.id];E.recurringException=F.recurringException}e._triggerUpdated={event:i,events:p?f:void 0,oldEvent:p?void 0:l,oldEvents:p?g:void 0,source:t.source}}c&&e._hook("onEventDelete",{domEvent:t.domEvent,event:_,events:p?x:void 0,source:t.source})!==!1&&(u=!0,e._events=e._events.filter(function(N){return!v[N.id]}),e._selectedEventsMap={},e._triggerDeleted={event:_,events:p?x:void 0,source:t.source}),u&&(e._hidePopover(),e.refresh())}},e._setEl=function(t){e._el=t?t._el||t:null,e._calendarView=t},e._setList=function(t){e._list=t},e._setPopoverList=function(t){e._popoverList=t&&t._el},e._onKeyDown=function(t){t.keyCode===9&&e._resetSelection()},e}return $(s,a),s.prototype.addEvent=function(e){for(var t=[],n=0,r=Ia(Be(e)?e:[e]);n<r.length;n++){var i=r[n];t.push(""+i.id),this._events.push(i)}return this.refresh(),t},s.prototype.getEvents=function(e,t){return xi(this._events,this.s,this._firstDay,this._lastDay,e,t)},s.prototype.getInvalids=function(e,t){return xi(this.s.invalid,this.s,this._firstDay,this._lastDay,e,t)},s.prototype.getSelectedEvents=function(){return Da(this._selectedEventsMap)},s.prototype.setEvents=function(e){for(var t=[],n=Ia(e),r=0,i=n;r<i.length;r++){var l=i[r];t.push(""+l.id)}return this._events=n,this.refresh(),t},s.prototype.setSelectedEvents=function(e){this._selectedEventsMap=(e||[]).reduce(function(t,n){return n.occurrenceId?t[n.occurrenceId]=n:t[n.id]=n,t},{}),this.forceUpdate()},s.prototype.removeEvent=function(e){for(var t=Be(e)?e:[e],n=this._events,r=n.length,i=0,l=t;i<l.length;i++)for(var d=l[i],u=!1,o=0;!u&&o<r;){var c=n[o];c.id!==d&&c.id!==d.id||(u=!0,n.splice(o,1)),o++}this.refresh()},s.prototype.navigateToEvent=function(e){this._navigateToEvent=e,this._shouldScrollSchedule++,this.navigate(e.start,!0)},s.prototype.navigate=function(e,t){var n=+ne(e),r=this._navigateToEvent!==void 0,i=n!==this._selectedDateTime;(i||r)&&(this._shouldAnimateScroll=!!t),this.s.selectedDate===void 0?!this._showSchedule&&!this._showTimeline||i?this.setState({selectedDate:n}):(this._shouldScrollSchedule++,this.forceUpdate()):(i||r)&&this._selectedChange(n)},s.prototype.updateEvent=function(e){for(var t=Be(e)?e:[e],n=this._events,r=n.length,i=0,l=t;i<l.length;i++)for(var d=l[i],u=!1,o=0;!u&&o<r;)n[o].id===d.id&&(u=!0,n.splice(o,1,W({},d))),o++;this.refresh()},s.prototype.refresh=function(){this._refresh=!0,this.forceUpdate()},s.prototype._render=function(e,t){var n,r=this,i=this._prevS,l=this._showDate,d=e.displayTimezone!==i.displayTimezone||e.dataTimezone!==i.dataTimezone,u=!1,o=!1,c=this._tempViewChanged;if(this._tempViewChanged=!1,this._colorEventList=e.eventTemplate===void 0&&e.renderEvent===void 0&&e.colorEventList,e.exclusiveEndDates===void 0&&(e.exclusiveEndDates=!!e.displayTimezone),nt(e.min)?this._minDate=-1/0:i.min!==e.min&&(this._minDate=+ne(e.min)),nt(e.max)?this._maxDate=1/0:i.max!==e.max&&(this._maxDate=+ne(e.max)),e.selectedDate!==void 0?n=+ne(e.selectedDate):(this._defaultDate||(this._defaultDate=+(e.defaultSelectedDate!==void 0?ne(e.defaultSelectedDate):ls(ie(e)))),n=t.selectedDate||this._selectedDateTime||this._defaultDate),this.eventList=t.eventList||[],e.data!==i.data&&(this._events=e.immutableData?(e.data||[]).slice():Ia(e.data),this._refresh=!0),(e.invalid!==i.invalid||e.colors!==i.colors||d)&&(this._refresh=!0),JSON.stringify(e.view)!==JSON.stringify(i.view)||e.firstDay!==i.firstDay||e.dragTimeStep!==i.dragTimeStep){var _={c:"eventcalendar",dragTimeStep:e.dragTimeStep,eventListSize:this._eventListSize,eventListType:this._eventListType,firstDay:e.firstDay,resourcesLength:e.resources?e.resources.length:0,scheduleEndDay:this._scheduleEndDay,scheduleEndTime:this._scheduleEndTime,scheduleMaxEventStack:this._scheduleMaxEventStack,scheduleMinEventWidth:this._scheduleMinEventWidth,scheduleSize:this._scheduleSize,scheduleStartDay:this._scheduleStartDay,scheduleStartTime:this._scheduleStartTime,scheduleTimeCellStep:this._scheduleTimeCellStep,scheduleTimeLabelStep:this._scheduleTimeLabelStep,scheduleTimezones:this._scheduleTimezones,scheduleType:this._scheduleType,showCalendar:this._showCalendar,showEventCount:this._showEventCount,showEventLabels:this._showEventLabels,showEventList:this._showEventList,showMarked:!!e.marked,showSchedule:this._showSchedule,showScheduleDays:this._showScheduleDays,showTimeline:this._showTimeline,slotsLength:e.slots?e.slots.length:0,timelineEndDay:this._timelineEndDay,timelineEndTime:this._timelineEndTime,timelineListing:this._timelineListing,timelineResolution:this._timelineResolution,timelineResolutionVertical:this._timelineResolutionVertical,timelineSize:this._timelineSize,timelineStartDay:this._timelineStartDay,timelineStartTime:this._timelineStartTime,timelineTimeCellStep:this._timelineTimeCellStep,timelineTimeLabelStep:this._timelineTimeLabelStep,timelineType:this._timelineType,v:"5.29.0",view:e.view};this._remote++,Br(this),aa("remote",this,_,function(f){if(r._remote--,!r._remote){for(var y=0,b=Object.keys(f);y<b.length;y++){var x=b[y];r[x]=f[x]}jr(f.notification),r._tempViewChanged=f._viewChanged,r.forceUpdate()}},"comp_"+this._uid)}this._showDate=!this._showScheduleDays&&(this._showSchedule&&this._scheduleType==="day"||this._showEventList&&this._eventListType==="day"&&this._eventListSize<2);var h=this._pageLoad;if((this._refresh||e.locale!==i.locale||e.theme!==i.theme)&&(u=!0,this._pageLoad++),e.resources!==i.resources&&(this._resourcesMap=(e.resources||[]).reduce(function(f,y){return f[y.id]=y,f},{})),e.selectMultipleEvents&&e.selectedEvents!==i.selectedEvents&&(this._selectedEventsMap=(e.selectedEvents||[]).reduce(function(f,y){return y.occurrenceId?f[y.occurrenceId]=y:f[y.id]=y,f},{})),this._selectedEventsMap===void 0&&(this._selectedEventsMap={}),e.refDate!==i.refDate&&(this._refDate=ne(e.refDate)),this._refDate||this._showCalendar||!this._showSchedule&&!this._showTimeline||(this._refDate=me(new Date)),n!==this._selectedDateTime&&(this._viewDate=n),e.cssClass===i.cssClass&&e.className===i.className&&e.class===i.class||(this._checkSize++,this._viewChanged=c=!0),c&&this._viewDate&&n!==this._viewDate&&(o=!0,n=this._viewDate),n!==this._selectedDateTime||c){var p=this._showCalendar&&(this._showSchedule||this._showTimeline||this._showEventList)?+uo(new Date(n),e,this._minDate,this._maxDate,void 0,void 0,1):Oe(n,this._minDate,this._maxDate);p=this._getValidDay(p),(n!==p||o)&&(n=p,setTimeout(function(){r._selectedChange(n)})),this._skipScheduleScroll||this._shouldScrollSchedule++,this._selectedDateTime=n}var v=me(new Date(n)),g=+v;g===this._selected&&l===this._showDate&&e.locale===i.locale&&i.dateFormatLong===e.dateFormatLong||(this._selectedDateHeader=this._showDate?Le(e.dateFormatLong,v,e):""),g===this._selected&&e.dataTimezone===i.dataTimezone&&e.displayTimezone===i.displayTimezone||(this._shouldAnimateScroll=this._shouldAnimateScroll!==void 0?this._shouldAnimateScroll:this._selected!==void 0,this._selected=g,this._selectedDates={},this._selectedDates[+Tt(e,new Date(g))]=!0,this._active=g,u=!0,o=!0),u&&this._showCalendar&&(this._eventListType==="day"||this._scheduleType==="day"||this._timelineType==="day")&&this._setEventList(v,te(v,1)),this._refresh&&t.showPopover&&setTimeout(function(){r._hidePopover()}),this._refresh=!1,this._cssClass=this._className+" mbsc-eventcalendar"+(this._showEventList?" mbsc-eventcalendar-agenda":"")+(this._showSchedule?" mbsc-eventcalendar-schedule":"")+(this._showTimeline?" mbsc-eventcalendar-timeline":""),this._navService.options({activeDate:this._active,calendarType:this._calendarType,endDay:this._showSchedule?this._scheduleEndDay:this._showTimeline?this._timelineEndDay:this._rangeEndDay,eventRange:this._rangeType,eventRangeSize:this._showSchedule?this._scheduleSize:this._showTimeline?this._timelineSize:this._eventListSize,firstDay:e.firstDay,getDate:e.getDate,getDay:e.getDay,getMonth:e.getMonth,getYear:e.getYear,max:e.max,min:e.min,onPageChange:this._onPageChange,onPageLoading:this._onPageLoading,refDate:this._refDate,resolution:this._timelineResolution,showCalendar:this._showCalendar,showOuterDays:this._showOuterDays,size:this._calendarSize,startDay:this._rangeStartDay,weeks:this._calendarSize},this._pageLoad!==h),o&&(this._shouldScroll=!this._isPageChange&&!this._shouldSkipScroll)},s.prototype._mounted=function(){this._unsubscribe=fs(this._onExternalDrag),oe(this._el,"keydown",this._onKeyDown)},s.prototype._updated=function(){var e=this;if(this._shouldScroll&&this.state.eventList&&this.state.isListScrollable&&(jt(this,function(){e._scrollToDay(),e._shouldAnimateScroll=void 0}),this._shouldScroll=!1),this._shouldLoadDays&&(this._shouldLoadDays=!1,rt(this._list.querySelectorAll("[mbsc-timestamp]"),function(i){e._listDays[i.getAttribute("mbsc-timestamp")]=i})),this._shouldEnhance&&(this._shouldEnhance=this._shouldEnhance==="popover"?this._popoverList:this._list),this._triggerCreated){var t=this._triggerCreated,n=t.source==="calendar"?this._calendarView._body.querySelector('.mbsc-calendar-table-active .mbsc-calendar-text[data-id="'+t.event.id+'"]'):this._el.querySelector('.mbsc-schedule-event[data-id="'+t.event.id+'"]');this._hook("onEventCreated",W({},this._triggerCreated,{target:n})),this._triggerCreated=null}if(this._triggerUpdated){var r=this._triggerUpdated;n=r.source==="calendar"?this._calendarView._body.querySelector('.mbsc-calendar-table-active .mbsc-calendar-text[data-id="'+r.event.id+'"]'):this._el.querySelector('.mbsc-schedule-event[data-id="'+r.event.id+'"]'),this._hook("onEventUpdated",W({},this._triggerUpdated,{target:n})),this._triggerUpdated=null}this._triggerDeleted&&(this._hook("onEventDeleted",W({},this._triggerDeleted)),this._triggerDeleted=null),this._viewChanged&&setTimeout(function(){e._viewChanged=!1},10),this._shouldSkipScroll&&setTimeout(function(){e._shouldSkipScroll=!1}),this._navigateToEvent&&setTimeout(function(){e._navigateToEvent=void 0}),this._skipScheduleScroll=!1},s.prototype._destroy=function(){this._unsubscribe&&vs(this._unsubscribe),se(this._el,"keydown",this._onKeyDown)},s.prototype._resetSelection=function(){this.s.selectMultipleEvents&&Object.keys(this._selectedEventsMap).length>0&&(this._selectedEventsMap={},this._onSelectedEventsChange([]),this.forceUpdate())},s.prototype._getAgendaEvents=function(e,t,n){var r=this,i=[],l=this.s;if(n&&this._showEventList)for(var d=function(o){var c=n[Te(o)];if(c&&c.length){var _=vn(c,l.eventOrder);i.push({date:Le(l.dateFormatLong,o,l),events:_.map(function(h){return r._getEventData(h,o)}),timestamp:+o})}},u=me(e);u<t;u.setDate(u.getDate()+1))d(u);return i},s.prototype._getEventData=function(e,t,n,r){var i=this.s;return!e.color&&e.resource&&n===void 0&&(n=(this._resourcesMap||{})[Be(e.resource)?e.resource[0]:e.resource]),lr(i,e,t,this._colorEventList,n,!0,!0,!1,!1,r)},s.prototype._getValidDay=function(e,t){t===void 0&&(t=1);var n=this._rangeStartDay,r=this._rangeEndDay;if(!this._showCalendar&&this._rangeType==="day"&&n!==void 0&&r!==void 0){var i=new Date(e),l=i.getDay(),d=0;if((r<n?l>r&&l<n:l>r||l<n)&&(d=t<0?r-l:n-l),d)return+te(i,d+=t<0?d>0?-7:0:d<0?7:0)}return e},s.prototype._setEventList=function(e,t){var n=this;setTimeout(function(){n._eventListHTML=void 0,n._shouldScroll=!0,n._listDays=null,n._scrollToDay(0),n.setState({eventList:n._getAgendaEvents(e,t,n._eventMap)})})},s.prototype._showPopover=function(e,t,n,r,i,l){var d=this;this.state.showPopover&&e===this.state.popoverKey||setTimeout(function(){d._anchor=r,d.setState({popoverContext:i,popoverDate:t,popoverHidden:!1,popoverHost:l,popoverKey:e,popoverList:n,showPopover:!0})})},s.prototype._hidePopover=function(){this.state.showPopover&&this.setState({popoverDrag:!1,showPopover:!1})},s.prototype._scrollToDay=function(e){var t=this;if(this._list){var n=e,r=void 0;if(e===void 0&&this._listDays){var i=this._listDays[this._selected],l=this._navigateToEvent&&this._navigateToEvent.id;if(i&&(n=i.offsetTop,l!==void 0)){var d=i.querySelector('.mbsc-event[data-id="'+l+'"]'),u=i.querySelector(".mbsc-event-day");d&&(n=d.offsetTop-(u?u.offsetHeight:0)+1)}n!==void 0&&(r=this._shouldAnimateScroll)}n!==void 0&&(this._isListScrolling++,zi(this._list,void 0,n,r,!1,function(){setTimeout(function(){t._isListScrolling--},150)}))}},s.prototype._selectedChange=function(e,t){var n=new Date(e);this.s.selectedDate!==void 0||t||this.setState({selectedDate:+e}),this._emit("selectedDateChange",n),this._hook("onSelectedDateChange",{date:n})},s.prototype._cellClick=function(e,t){this._hook(e,W({target:t.domEvent.currentTarget},t))},s.prototype._dayClick=function(e,t){var n=Te(t.date),r=vn(this._eventMap[n],this.s.eventOrder);t.events=r,this._hook(e,t)},s.prototype._labelClick=function(e,t){t.label&&this._hook(e,{date:t.date,domEvent:t.domEvent,event:t.label,source:"calendar"})},s.prototype._eventClick=function(e,t){return t.date=new Date(t.date),this._hook(e,t)},s.prototype._handleMultipleSelect=function(e){var t=e.label||e.event;if(t&&this.s.selectMultipleEvents){var n=e.domEvent,r=n.shiftKey||n.ctrlKey||n.metaKey?this._selectedEventsMap:{},i=t.occurrenceId||t.id;r[i]?delete r[i]:r[i]=t,this._selectedEventsMap=W({},r),this._onSelectedEventsChange(Da(r)),this.s.selectedEvents===void 0&&this.forceUpdate()}},s.defaults=W({},eo,{actionableEvents:!0,allDayText:"All-day",data:[],newEventText:"New event",noEventsText:"No events",showControls:!0,showEventTooltip:!0,view:{calendar:{type:"month"}}}),s._name="Eventcalendar",s}(Fe),Di=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s.prototype._template=function(e){return t=this,n=e.children,m("div",{ref:t._setEl,className:t._cssClass},n);var t,n},s}(function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s.prototype._render=function(e){this._cssClass=this._className+this._rtl+" mbsc-font mbsc-list"+this._theme},s}(Fe)),el=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s.prototype._template=function(e){return t=this,n=e.children,m("div",{ref:t._setEl,className:t._cssClass},n);var t,n},s}(function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s.prototype._render=function(e){this._cssClass=this._className+" mbsc-list-header"+this._theme+this._hb},s}(Fe)),tl=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s.prototype._template=function(e){return function(t,n,r){var i=n.props;i.actionable,i.children,i.className,i.drag,i.event,i.eventData,i.ripple,i.rtl;var l=i.theme;i.themeVariant,i.onHoverIn,i.onHoverOut,i.onDragEnd,i.onDragMove,i.onDragStart,i.onDragModeOn,i.onDragModeOff,i.onDelete,i.onClick;var d=dt(i,["actionable","children","className","drag","event","eventData","ripple","rtl","theme","themeVariant","onHoverIn","onHoverOut","onDragEnd","onDragMove","onDragStart","onDragModeOn","onDragModeOff","onDelete","onClick"]);return m("div",W({tabIndex:0,ref:n._setEl,onClick:n._onClick,className:n._cssClass},d),m("div",{dangerouslySetInnerHTML:n.textParam}),r,m("div",{className:"mbsc-list-item-background mbsc-"+l}))}(0,this,e.children)},s}(function(a){function s(){var e=a!==null&&a.apply(this,arguments)||this;return e._onClick=function(t){e._hook("onClick",{domEvent:t}),e.s.selected&&e.setState({hasFocus:!1})},e}return $(s,a),s.prototype._mounted=function(){var e,t,n=this;this._unlisten=$e(this._el,{click:!0,keepFocus:!0,onBlur:function(){n.setState({hasFocus:!1})},onEnd:function(r){if(e){var i=n.s,l=W({},r),d=i.eventData;l.domEvent.preventDefault(),l.drag=!0,l.event=i.event,l.eventData=d,l.resource=d&&d.currentResource&&d.currentResource.id,n._hook("onDragEnd",l),e=!1}clearTimeout(t)},onFocus:function(){n.setState({hasFocus:!0})},onHoverIn:function(r){n.s.actionable&&n.setState({hasHover:!0}),n._hook("onHoverIn",{domEvent:r})},onHoverOut:function(r){n.setState({hasHover:!1}),n._hook("onHoverOut",{domEvent:r})},onKeyDown:function(r){var i=n.s.event;switch(r.keyCode){case 13:case 32:n._el.click(),r.preventDefault();break;case 8:case 46:i&&i.editable!==!1&&n._hook("onDelete",{domEvent:r,event:i,source:"agenda"})}},onMove:function(r){var i=n.s,l=W({},r),d=i.eventData;l.drag=!0,l.event=i.event,l.eventData=d,l.external=!0,l.resource=d&&d.currentResource&&d.currentResource.id,!e&&l.isTouch||l.domEvent.preventDefault(),e?n._hook("onDragMove",l):(Math.abs(l.deltaX)>7||Math.abs(l.deltaY)>7)&&(clearTimeout(t),!l.isTouch&&i.drag&&i.event.editable!==!1&&(e=!0,n._hook("onDragStart",l)))},onPress:function(){n.s.actionable&&n.setState({isActive:!0})},onRelease:function(){n.setState({isActive:!1})},onStart:function(r){var i=n.s;return r.isTouch&&i.drag&&i.event.editable!==!1&&!e&&(t=setTimeout(function(){var l=W({},r),d=i.eventData;l.drag=!0,l.event=i.event,l.eventData=d,l.resource=d&&d.currentResource&&d.currentResource.id,n._hook("onDragModeOn",l),n._hook("onDragStart",l),e=!0},350)),{ripple:i.actionable&&i.ripple}}})},s.prototype._render=function(e,t){this._cssClass=this._className+" mbsc-list-item"+this._theme+this._hb+this._rtl+(e.actionable?" mbsc-list-item-actionable":"")+(t.hasFocus?" mbsc-focus":"")+(t.hasHover?" mbsc-hover":"")+(t.isActive?" mbsc-active":"")+(e.selected?" mbsc-selected":"")},s.prototype._destroy=function(){this._unlisten&&this._unlisten()},s.defaults={actionable:!0,ripple:!1},s._name="ListItem",s}(Fe)),He="mbsc-def";function Ti(a,s,e,t,n,r,i){for(var l=i.showEventBuffer!==!1,d=r==="start-end",u=i.exclusiveEndDates?e:me(te(e,1)),o=0,c=Object.keys(a);o<c.length;o++)for(var _=a[c[o]],h=me(s);h<u;h.setDate(h.getDate()+1)){var p=_[Te(h)];if(p){if((t||n)&&p.allDay[0]&&(!d||Pe(h,s)||Pe(h,e)))return p.allDay[0].original;if(!t)for(var v=0,g=p.data;v<g.length;v++){var f=g[v],y=f.original,b=l&&f.bufferStart?f.bufferStart:f.startDate,x=l&&f.bufferEnd?f.bufferEnd:f.endDate;if(d){if(Xt(b,x,s,s,!0)||Xt(b,x,e,e))return y}else if(Xt(b,x,s,e))return y}}}return!1}function as(a,s,e,t,n,r,i,l,d){var u=a.allDay||e,o=d&&a.bufferStart?a.bufferStart:a.startDate;if(t&&e&&!n){var c=l[Te(o)];return o<r?r:i[c+(_t(o.getDay(),s.startDay,s.endDay)?0:1)].date}return u?ie(s,o.getFullYear(),o.getMonth(),o.getDate()):o}function ss(a,s,e,t,n,r,i,l,d){var u=a.allDay||e,o=d&&a.bufferEnd?a.bufferEnd:a.endDate;if(t&&e&&!n){var c=l[Te(lt(s,a.allDay,a.startDate,o))],_=o>=r||c>=i.length-1?r:i[c+1].date;return lt(s,!1,a.startDate,_)}var h=u?lt(s,a.allDay,a.startDate,o):o;return u?ie(s,h.getFullYear(),h.getMonth(),h.getDate(),23,59,59,999):h}function nl(a,s,e,t,n,r,i,l,d,u,o,c,_,h){for(var p=a.showEventBuffer!==!1,v=e.allDay?d:u,g=e.allDay?o:c,f=as(e,a,r,i,l,v,_,h,p),y=ss(e,a,r,i,l,g,_,h,p),b=!1,x=0,T=s;x<T.length;x++){for(var S=T[x],w=0,C=!1,k=void 0,L=0,z=S.stacks;L<z.length;L++){for(var E=z[L],F=!1,N=0,I=E;N<I.length;N++){var Y=I[N],A=Y.allDay?d:u,q=Y.allDay?o:c;Xt(as(Y,a,r,i,l,A,_,h,p),ss(Y,a,r,i,l,q,_,h,p),f,y,!0)&&(F=!0,C=!0,k?t[e.uid]=t[e.uid]||w:t[Y.uid]=w+1)}F||k||(k=E),w++}C&&(k?k.push(e):n==="all"||S.stacks.length<+n?S.stacks.push([e]):(e.position=void 0,S.more.push(e)),b=!0)}b||(t[e.uid]=0,s.push({stacks:[[e]],more:[]}))}function Si(a){return(a=Math.abs(Ze(a)))>60?60*Ze(a/60):60%a==0?a:[6,10,12,15,20,30].reduce(function(s,e){return Math.abs(e-a)<Math.abs(s-a)?e:s})}function Ha(a,s,e,t){var n=Re(a),r=Re(s);return e>n&&(n=e),t<r&&(r=t),r-n}function La(a,s,e,t,n,r,i,l,d){var u=r-n+1,o=a,c=s,_=te(me(c),1);o<e&&(o=e),c>t&&(c=_=t);var h=Re(o),p=Re(c);n>h&&(h=n),r<p&&(p=r),Pe(o,c)||(h>r&&(h=r),p<n&&(p=n));var v=0;if(Pe(o,c))v=d?u:p-h;else for(var g=me(o);g<_;g.setDate(g.getDate()+1))_t(g.getDay(),i,l)&&(!d&&Pe(g,o)?v+=u-h+n:!d&&Pe(g,c)?v+=p-n:v+=u);return v}function Ya(a,s,e,t,n,r){t&&t>a&&(a=t);var i=Re(a);return(s>i||n!==void 0&&r!==void 0&&!_t(a.getDay(),n,r))&&(i=s),100*(i-s)/e}function Oa(a,s,e,t,n){a=a||{};var r=Object.keys(a),i={},l=s.map(function(_){return _.id}),d=e.map(function(_){return _.id});l.forEach(function(_){i[_]={},d.forEach(function(h){i[_][h]={}})});for(var u=function(_){for(var h=function(g){var f=g.resource,y=g.slot,b=f!==void 0&&t?Be(f)?f:[f]:l,x=y!==void 0&&n?[y]:d;b.forEach(function(T){var S=i[T];S&&x.forEach(function(w){var C=S[w];C&&(C[_]||(C[_]=[]),C[_].push(g))})})},p=0,v=a[_];p<v.length;p++)h(v[p])},o=0,c=r;o<c.length;o++)u(c[o]);return i}function cr(a,s){var e=new Date(a),t=new Date(+st+s);return new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes())}var _n={},al=function(a){function s(){var e=a!==null&&a.apply(this,arguments)||this;return e._onClick=function(t){e._triggerClick("onClick",t);var n=e.s,r=_n[n.event.uid];r&&n.selected&&r.next({hasFocus:!1})},e._onRightClick=function(t){e._triggerClick("onRightClick",t)},e._onDocTouch=function(t){se(e._doc,"touchstart",e._onDocTouch),se(e._doc,Ue,e._onDocTouch),e._isDrag=!1,e._hook("onDragModeOff",{domEvent:t,event:e.s.event.original})},e._updateState=function(t){e.setState(t)},e}return $(s,a),s.prototype._render=function(e,t){var n=e.event,r=new Date(n.date),i=n.position,l=n.startDate,d=lt(e,n.allDay,l,n.endDate),u=e.isTimeline,o=e.isListing,c=n.original.more,_=c&&u||o||n.allDay,h=!Pe(l,d),p=h&&Pe(l,r),v=h&&Pe(d,r),g=_&&(!u||o||c),f=u?"timeline":"schedule",y=e.gridStartTime,b=e.gridEndTime,x=Re(l),T=Re(d),S=u&&e.slot!==He,w=_t(d.getDay(),e.startDay,e.endDay),C=e.singleDay?te(r,1):new Date(e.lastDay);n.allDay||(C=Tt(e,C)),this._isStart=S||!h||p,this._isEnd=S||!h||(_||u&&!e.hasResY?d<C&&w:v),S||_||!(y>x||b<x)||(this._isStart=!1),S||_||!(b<T||y>T)||(this._isEnd=!1),this._isMore=c,this._isDrag=this._isDrag||e.isDrag,this._content=void 0,this._rangeText=n.start+" - "+n.end,this._isAllDay=g,this._host=f,!n.allDay&&(u&&!e.hasResY||!h||p||v)||(this._rangeText=n.allDayText||"\xA0"),n.bufferBefore&&(this._bufferStyleStart=u?{width:n.bufferBefore}:{height:n.bufferBefore}),n.bufferAfter&&(this._bufferStyleEnd=u?{width:n.bufferAfter}:{height:n.bufferAfter}),this._cssClass="mbsc-schedule-event"+this._theme+this._rtl+(e.render||e.template?" mbsc-schedule-event-custom":"")+(u?" mbsc-timeline-event":"")+(o||c?" mbsc-timeline-event-listing":"")+(this._isStart?" mbsc-"+f+"-event-start":"")+(this._isEnd?" mbsc-"+f+"-event-end":"")+(g?" mbsc-schedule-event-all-day":"")+(S?" mbsc-timeline-event-slot":"")+(t.hasFocus&&!e.inactive&&!e.selected||e.selected?" mbsc-schedule-event-active":"")+(!t.hasHover||e.inactive||this._isDrag?"":" mbsc-schedule-event-hover")+(e.isDrag?" mbsc-schedule-event-dragging"+(u?" mbsc-timeline-event-dragging":""):"")+(e.hidden?" mbsc-schedule-event-hidden":"")+(e.inactive?" mbsc-schedule-event-inactive":"")+(n.original.editable===!1?" mbsc-readonly-event":"")+(n.original.cssClass?" "+n.original.cssClass:""),this._style=W({},i,{color:n.color,top:e.eventHeight&&i.top!==void 0?i.top*e.eventHeight+"px":i.top});var k,L=e.render||e.renderContent;if(L&&!c){var z=L(n);le(z)?k=z:this._content=z}else e.contentTemplate&&!c||(k=n.html);k!==this._text&&(this._text=k,this._html=k?this._safeHtml(k):void 0,this._shouldEnhance=k&&!!L)},s.prototype._mounted=function(){var e,t,n,r=this,i=this.s.event.uid,l=this._el,d=_n[i];d||(d=new Ot,_n[i]=d),this._unsubscribe=d.subscribe(this._updateState),this._doc=Ct(l),this._unlisten=$e(l,{keepFocus:!0,onBlur:function(){d.next({hasFocus:!1})},onDoubleClick:function(u){u.domEvent.stopPropagation(),r._triggerClick("onDoubleClick",u.domEvent)},onEnd:function(u){if(r._isDrag){var o=r.s,c=W({},u);c.domEvent.preventDefault(),c.eventData=o.event,c.resource=o.resource,c.slot=o.slot,o.resize&&e?(c.resize=!0,c.direction=e):o.drag&&(c.drag=!0),r._hook("onDragEnd",c),o.isDrag||(r._isDrag=!1),l&&c.moved&&l.blur()}clearTimeout(n),e=void 0},onFocus:function(){d.next({hasFocus:!0})},onHoverIn:function(u){d.next({hasHover:!0}),r._triggerClick("onHoverIn",u)},onHoverOut:function(u){d.next({hasHover:!1}),r._triggerClick("onHoverOut",u)},onKeyDown:function(u){var o=r.s.event.original;switch(u.keyCode){case 13:case 32:l.click(),u.preventDefault();break;case 8:case 46:o.editable!==!1&&r._hook("onDelete",{domEvent:u,event:o,resource:r.s.resource,slot:r.s.slot,source:r._host})}},onMove:function(u){var o=r.s,c=W({},u);if(c.eventData=o.event,c.resource=o.resource,c.slot=o.slot,e)c.resize=!0,c.direction=e;else{if(!o.drag)return;c.drag=!0}o.event.original.editable!==!1&&(!r._isDrag&&c.isTouch||c.domEvent.preventDefault(),r._isDrag?r._hook("onDragMove",c):(Math.abs(c.deltaX)>7||Math.abs(c.deltaY)>7)&&(clearTimeout(n),c.isTouch||(c.domEvent=t,r._isDrag=!0,r._hook("onDragStart",c))))},onStart:function(u){t=u.domEvent;var o=r.s,c=W({},u),_=t.target;if(c.eventData=o.event,c.resource=o.resource,c.slot=o.slot,o.resize&&_.classList.contains("mbsc-schedule-event-resize"))e=_.classList.contains("mbsc-schedule-event-resize-start")?"start":"end",c.resize=!0,c.direction=e;else{if(!o.drag)return;c.drag=!0}o.event.original.editable!==!1&&(r._isDrag?(t.stopPropagation(),r._hook("onDragStart",c)):c.isTouch&&(n=setTimeout(function(){r._hook("onDragModeOn",c),r._hook("onDragStart",c),r._isDrag=!0},350)))}}),this._isDrag&&(oe(this._doc,"touchstart",this._onDocTouch),oe(this._doc,Ue,this._onDocTouch))},s.prototype._destroy=function(){if(this._el&&this._el.blur(),this._unsubscribe){var e=this.s.event.uid,t=_n[e];t&&(t.unsubscribe(this._unsubscribe),t.nr||delete _n[e])}this._unlisten&&this._unlisten(),se(this._doc,"touchstart",this._onDocTouch),se(this._doc,Ue,this._onDocTouch)},s.prototype._triggerClick=function(e,t){var n=this.s;this._hook(e,{date:n.event.date,domEvent:t,event:n.event.original,resource:n.resource,slot:n.slot,source:this._host})},s}(Fe),sn=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s.prototype._template=function(e){return function(t,n){var r,i,l,d=t.event,u=n._isAllDay,o=t.isTimeline,c=n._rtl,_=n._theme,h=t.resize&&d.original.editable!==!1,p=((r={}).onContextMenu=n._onRightClick,r);return m("div",W({tabIndex:0,className:n._cssClass,"data-id":d.id,style:n._style,ref:n._setEl,title:d.tooltip,onClick:n._onClick},p),n._isStart&&d.bufferBefore&&(t.renderBufferBefore&&le(i=t.renderBufferBefore(d))&&(l=n._safeHtml(i),n._shouldEnhance=!0),m("div",{className:"mbsc-"+n._host+"-event-buffer mbsc-"+n._host+"-event-buffer-before"+(i?"":" mbsc-schedule-event-buffer-background")+_+c,style:n._bufferStyleStart,dangerouslySetInnerHTML:l},i)),n._isEnd&&d.bufferAfter&&function(){var v,g;return t.renderBufferAfter&&le(v=t.renderBufferAfter(d))&&(g=n._safeHtml(v),n._shouldEnhance=!0),m("div",{className:"mbsc-"+n._host+"-event-buffer mbsc-"+n._host+"-event-buffer-after"+(v?"":" mbsc-schedule-event-buffer-background")+_+c,style:n._bufferStyleEnd,dangerouslySetInnerHTML:g},v)}(),n._isStart&&h&&m("div",{className:"mbsc-schedule-event-resize mbsc-schedule-event-resize-start"+(o?" mbsc-timeline-event-resize":"")+(t.isDrag?" mbsc-schedule-event-resize-start-touch":"")+c}),n._isEnd&&h&&m("div",{className:"mbsc-schedule-event-resize mbsc-schedule-event-resize-end"+(o?" mbsc-timeline-event-resize":"")+(t.isDrag?" mbsc-schedule-event-resize-end-touch":"")+c}),t.render&&!n._isMore?n._html?m("div",{style:{height:"100%"},dangerouslySetInnerHTML:n._html}):n._content:m(We,null,!u&&!o&&!n._isMore&&m("div",{className:"mbsc-schedule-event-bar"+_+c}),m("div",{className:"mbsc-schedule-event-background"+(o?" mbsc-timeline-event-background":"")+(u?" mbsc-schedule-event-all-day-background":"")+_,style:{background:d.style.background}}),m("div",{"aria-hidden":"true",className:"mbsc-schedule-event-inner"+_+(u?" mbsc-schedule-event-all-day-inner":"")+(d.cssClass||""),style:{color:d.style.color}},m("div",{className:"mbsc-schedule-event-title"+(u?" mbsc-schedule-event-all-day-title":"")+_,dangerouslySetInnerHTML:n._html},n._content),!u&&!n._isMore&&m("div",{className:"mbsc-schedule-event-range"+_},n._rangeText)),d.ariaLabel&&m("div",{className:"mbsc-hidden-content"},d.ariaLabel)),m("div",{dangerouslySetInnerHTML:n.textParam}))}(e,this)},s}(al),dr=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s.prototype._template=function(e){return function(t,n){var r=t.timezones;return m("div",{"aria-hidden":"true",className:n._cssClass,style:n._pos},m("div",{className:(r?"mbsc-flex ":"")+"mbsc-schedule-time-indicator-time mbsc-schedule-time-indicator-time-"+t.orientation+n._theme+n._rtl},r?r.map(function(i,l){return m("div",{key:l,className:"mbsc-schedule-time-indicator-tz"+n._theme+n._rtl},n._times[l])}):n._time),t.showDayIndicator&&m("div",{className:"mbsc-schedule-time-indicator-day"+n._theme+n._rtl,style:n._dayPos}))}(e,this)},s}(function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s.prototype._mounted=function(){var e=this;clearInterval(this._timer),this._timer=setInterval(function(){e._zone?e._zone.runOutsideAngular(function(){e.forceUpdate()}):e.forceUpdate()},1e4)},s.prototype._destroy=function(){clearInterval(this._timer)},s.prototype._render=function(e){var t=ie(e),n=e.rtl,r=e.displayedDays,i=e.displayedTime,l=e.startTime,d=6e4*De(Re(t)/6e4),u=e.timezones,o={amText:e.amText,pmText:e.pmText};if(u&&Pt(t)){this._times=[];for(var c=0,_=u;c<_.length;c++){var h=_[c],p=t.clone();p.setTimezone(h.timezone),this._times.push(Le(e.timeFormat,p,o))}}else this._time=Le(e.timeFormat,t,o);this._cssClass="mbsc-schedule-time-indicator mbsc-schedule-time-indicator-"+e.orientation+this._theme+this._rtl+" "+(d<l||d>l+i||!_t(t.getDay(),e.startDay,e.endDay)?" mbsc-hidden":"");var v=e.hasResY?0:Li(e.firstDay,t,e.startDay,e.endDay);if(e.orientation==="x"){var g=100*v/r+"%",f=u&&4.25*u.length+"em";this._pos={left:u&&!n?f:void 0,right:u&&n?f:void 0,top:100*(d-l)/i+"%"},this._dayPos={left:n?"":g,right:n?g:"",width:100/r+"%"}}else{var y=100*(v*i+d-l)/(r*i)+"%";this._pos={left:n?"":y,right:n?y:""}}},s}(Fe)),Pa=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s.prototype._template=function(e,t){return function(n,r,i){var l;return n.renderDay&&(l=n.renderDay(i._data)),n.renderDayContent&&(l=n.renderDayContent(i._data)),le(l)&&(l=m("div",{dangerouslySetInnerHTML:i._safeHtml(l)}),i._shouldEnhance=!0),m("div",{ref:i._setEl,className:i._cssClass,onClick:i._onClick,style:{background:n.background}},n.renderDay?l:m(We,null,m("div",{"aria-hidden":"true",className:"mbsc-schedule-header-dayname"+i._theme+(n.selected?" mbsc-selected":"")+(n.isToday?" mbsc-schedule-header-dayname-curr":"")},n.dayNames[i._day]),m("div",{"aria-hidden":"true",className:"mbsc-schedule-header-day"+i._theme+i._rtl+(n.selected?" mbsc-selected":"")+(n.isToday?" mbsc-schedule-header-day-today":"")+(r.hasHover?" mbsc-hover":"")},n.day),n.label&&m("div",{className:"mbsc-hidden-content","aria-pressed":n.selectable?n.selected?"true":"false":void 0,role:n.selectable?"button":void 0},n.label),n.renderDayContent&&l))}(e,t,this)},s}(function(a){function s(){var e=a!==null&&a.apply(this,arguments)||this;return e._onClick=function(){var t=e.s;t.selectable&&t.onClick(t.timestamp)},e}return $(s,a),s.prototype._render=function(e,t){var n=new Date(e.timestamp);this._cssClass="mbsc-schedule-header-item "+this._className+this._theme+this._rtl+this._hb+(e.largeNames?" mbsc-schedule-header-item-large":"")+(e.selected?" mbsc-selected":"")+(t.hasHover?" mbsc-hover":""),this._data={date:n,events:e.events||[],resource:e.resource,selected:e.selected},this._day=n.getDay()},s.prototype._mounted=function(){var e=this;this._unlisten=$e(this._el,{onHoverIn:function(){e.s.selectable&&e.setState({hasHover:!0})},onHoverOut:function(){e.s.selectable&&e.setState({hasHover:!1})}})},s.prototype._destroy=function(){this._unlisten&&this._unlisten()},s}(Fe)),ur=function(a){function s(){var e=a!==null&&a.apply(this,arguments)||this;return e._isScrolling=0,e._onScroll=function(){},e._onMouseLeave=function(t,n){!e._cursorTimeCont||e.state.dragData&&!n||(e._cursorTimeCont.style.visibility="hidden",e._isCursorTimeVisible=!1)},e._onMouseMove=function(t){if(e._showCursorTime){var n=e.s,r=n.rtl,i=e._isTimeline,l=e._cursorTimeCont;if(!e._isTouch||e._tempStart?!e._isCursorTimeVisible&&t&&(l.style.visibility="visible",e._isCursorTimeVisible=!0):(l.style.visibility="hidden",e._isCursorTimeVisible=!1),e._isCursorTimeVisible&&e._colWidth){var d=e._gridCont.getBoundingClientRect(),u=t?t.clientX:e._cursorX||0,o=t?t.clientY:e._cursorY||0,c=r?d.right-u:u-d.left,_=Oe(o-d.top,8,e._colHeight),h=void 0,p=void 0,v=void 0;if(e._dragDelta!==void 0)p=ie(n,e._dragDelta<0?e._tempStart:e._tempEnd),h=i&&!e._hasResY?e._dayIndexMap[Te(p)]:0,v=(v=Re(p))===0?e._dragDelta<0?v:864e5:v;else{h=i&&!e._hasResY?Oe(De(c/e._colWidth),0,e._daysNr-1):0,v=e._startTime+Js(De(i?e._time*(c-h*e._colWidth)/e._colWidth:e._time*(_-8)/(e._colHeight-16)),6e4*n.dragTimeStep);var g=e._days[h].date,f=new Date(+st+v);p=ie(n,g.getFullYear(),g.getMonth(),g.getDate(),f.getHours(),f.getMinutes())}var y=e._time*(i?e._daysNr:1),b=i?r?"right":"left":"top",x=l.style;x[b]=100*(h*e._time+v-e._startTime)/y+"%",x[r?"left":"right"]="",l.textContent=Le(n.timeFormat,p,n),e._cursorX=u,e._cursorY=o}}},e._onEventClick=function(t){var n=t.event.more;n?e._hook("onMoreClick",{context:e._scrollCont,date:t.date,key:t.event.id,list:n,target:t.domEvent.target}):e._hook("onEventClick",t)},e._onEventDragModeOn=function(t){e.s.externalDrag&&t.drag&&!t.create&&tt.next(W({},t,{create:!0,eventName:"onDragModeOn",external:!0,from:e}));var n=t.create?e._tempEvent:t.eventData,r=t.create?e._tempResource:t.resource,i=t.create?e._tempSlot:t.slot;e.setState({dragData:{draggedEvent:n,originDates:t.external?void 0:e._getDragDates(n,r,i),resource:r},isTouchDrag:!0})},e._onEventDragModeOff=function(t){e._hook("onEventDragEnd",{domEvent:t.domEvent,event:t.create?e._tempEvent.original:t.event,resource:e._tempResource!==He?e._tempResource:void 0,slot:e._tempSlot!==He?e._tempSlot:void 0,source:e._isTimeline?"timeline":"schedule"}),e.setState({dragData:void 0,isTouchDrag:!1})},e._onEventDragStart=function(t){var n=e.s,r=t.click,i=n.eventList,l=e._isTimeline,d=e._visibleResources,u=e._slots,o=n.dragTimeStep,c=t.startX,_=t.startY;e._isTouch=t.isTouch,e._scrollY=0,e._scrollX=0,e._calcGridSizes();var h=n.rtl?e._gridRight-c:c-e._gridLeft,p=Oe(_-e._gridTop,8,e._colHeight-9),v=i?e._cols:e._days,g=v.length,f=e._colWidth,y=f?De(h/f):1,b=e._resourceTops,x=e._scrollCont.scrollTop,T=0,S=y,w=0;if(n.externalDrag&&t.drag&&!t.create){var C=Sn(t.domEvent.target,".mbsc-schedule-event",e._el).cloneNode(!0),k=C.classList;C.style.display="none",k.add("mbsc-drag-clone","mbsc-schedule-drag-clone","mbsc-font"),k.remove("mbsc-schedule-event-hover"),e._clone=C,e._body=Ct(e._el).body,e._body.appendChild(C),e._eventDropped=!1,tt.next(W({},t,{create:!0,dragData:t.eventData.original,eventName:"onDragStart",external:!0,from:e}))}if(l){if(w=f?De(h/(f/u.length))%u.length:0,e._hasResY)v.forEach(function(pe,de){d.forEach(function(ee,fe){p>b[pe.dateKey+"-"+ee.id]&&(S=de,T=fe)})});else{d.forEach(function(pe,de){p>b[pe.id]&&(T=de)});var L=p-x+e.state.headerHeight;if(x&&L<e._fixedHeight&&p-x>0)for(var z=0,E=e._fixedResources;z<E.length;z++){var F=E[z];L>e._fixedResourceTops[F.key]&&(T=F.index)}}e._startSlotIndex=w}else{var N=e._groupByResource,I=N?g:e._hasSlots?e._slots.length:d.length;T=N?De(y/I):y%I,S=N?y%I:De(y/I)}var Y=t.external?void 0:d[T],A=Y?Y.id:void 0,q=t.external?void 0:u[w],G=q?q.id:void 0;if(Y&&Y.eventCreation===!1)return!1;if(t.create){S=Oe(S,0,g-1);var O=!l&&n.showAllDay&&t.endY<e._gridContTop,R=n.type==="day"&&n.size===1?e._firstDay:v[S].date,U=i||!t.external&&!r?6e4*o:e._stepCell,j=e._getGridTime(R,h,p,S,r?e._stepCell/6e4:o),B=!e._isDailyResolution||O||i?O?R:Tt(n,R):j,V=n.resolution==="year"?Ut(B,12,n):n.resolution==="quarter"?Ut(B,3,n):n.resolution==="month"?Ut(B,1,n):n.resolution==="week"?te(B,n.endDay-n.startDay+1+(n.endDay<n.startDay?7:0)):te(B,1),K=n.exclusiveEndDates?V:new Date(+V-1),J=O||i?K:Et(ie(n,+B+U),r?1:o),P=n.extendDefaultEvent?n.extendDefaultEvent({resource:A,slot:G,start:B}):void 0,Q=W({allDay:O,end:J,id:ta(),resource:Y&&A!==He?A:void 0,slot:q&&G!==He?G:void 0,start:B,title:n.newEventText},P,t.dragData),Z=e._getEventData(Q,R,Y);if(l&&A!==void 0&&e._setRowHeight&&(Z.position.top=Oe(De((p-(e._fixedResourceTops[A]?x:0)-b[A])/e._eventHeight),0,e._eventRows[A]-1)),t.dragData){var re=+Z.endDate-+Z.startDate;Za(t.dragData.dragInTime,void 0,n.dragInTime)&&(Z.startDate=R,Z.endDate=new Date(+R+re))}e._tempEvent=Z,e._tempResource=A,e._tempSlot=G}return e._hook("onPopoverClose",{source:"dragStart"}),r||e._hook("onEventDragStart",{action:t.create?"create":t.resize?"resize":"move",domEvent:t.domEvent,event:(t.create?e._tempEvent:t.eventData).original,resource:A!==He?A:void 0,slot:G!==He?G:void 0,source:l?"timeline":"schedule"}),!0},e._onEventDragMove=function(t){clearTimeout(e._scrollTimer);var n=e.s,r=n.rtl,i=r?-1:1,l=e._isTimeline,d=n.eventList,u=n.resolution==="month"||n.resolution==="year",o=d?e._cols:e._days,c=e._colWidth,_=o.length,h=e._slots,p=e._groupByResource,v=e._visibleResources,g=e.state.dragData,f=n.dragTimeStep,y=n.timeFormat,b=t.startX,x=Oe(t.endX,e._gridContLeft,e._gridContRight-1),T=Oe(t.endY,e._gridContTop,e._gridContBottom-1),S=T-t.startY+e._scrollY,w=r?b-x+e._scrollX:x-b+e._scrollX,C=l?w:S,k=l?c:e._colHeight-16,L=e._gridRight-e._gridLeft-1,z=Oe(t.startY-e._gridTop,8,e._colHeight-9),E=Oe(r?e._gridRight+e._scrollX-x:x-e._gridLeft+e._scrollX,0,L),F=Oe(T-e._gridTop+e._scrollY,8,e._colHeight-9),N=De((r?e._gridRight-b:b-e._gridLeft)/c),I=De(E/c),Y=n.showAllDay&&t.endY<e._gridContTop,A=e._resourceTops,q=e._hasResY,G=e._scrollCont,O=G.scrollTop,R=t.create?e._tempEvent:t.eventData,U=R.original,j=W({},R),B=N,V=I,K=0,J=0,P=!1,Q=e._gridContBottom-t.endY,Z=t.endY-e._gridContTop,re=t.endX-e._gridContLeft,pe=e._gridContRight-t.endX,de=(G.scrollWidth-G.clientWidth)*i,ee=r?0:de,fe=r?de:0;if(n.externalDrag&&t.drag&&!t.create&&(tt.next(W({},t,{clone:e._clone,create:!0,dragData:U,eventName:"onDragMove",external:!0,from:e})),!e._onCalendar))return gn(t,e._clone),void(g||e.setState({dragData:{draggedEvent:j}}));if(Q<30&&O<G.scrollHeight-G.clientHeight&&(G.scrollTop+=5,e._scrollY+=5,P=!0),Z<30&&!Y&&O>0&&(G.scrollTop-=5,e._scrollY-=5,P=!0),re<30&&G.scrollLeft>fe&&(G.scrollLeft-=5,e._scrollX-=5*i,P=!0),pe<30&&G.scrollLeft<ee&&(G.scrollLeft+=5,e._scrollX+=5*i,P=!0),P&&(e._scrollTimer=setTimeout(function(){e._onEventDragMove(t)},20)),l)if(J=De(E/(c/h.length))%h.length,q)o.forEach(function(At,wt){v.forEach(function(Cn,da){z>A[At.dateKey+"-"+Cn.id]&&(B=wt),F>A[At.dateKey+"-"+Cn.id]&&(V=wt,K=da)})});else{v.forEach(function(At,wt){F>A[At.id]&&(K=wt)});var we=F-O+e.state.headerHeight;if(O&&we<e._fixedHeight&&F-O>0)for(var xe=0,Ye=e._fixedResources;xe<Ye.length;xe++){var Ee=Ye[xe];we>e._fixedResourceTops[Ee.key]&&(K=Ee.index)}}else{var Ce=p?_:e._resources.length;B=p?N%Ce:De(N/Ce),V=p?I%Ce:De(I/Ce),K=p?De(I/Ce):I%Ce}B=Oe(B,0,_-1),V=Oe(V,0,_-1);var D=R.startDate,M=R.endDate,H=+M-+D,X=e._time,ae=De(X*C/k),ce=v[K],_e=t.create?e._tempResource:t.resource,ge=t.create?e._tempSlot:t.slot;if(ce.eventCreation===!1&&e._tempResource===void 0)return!1;var ue,Me=h[J].id,Ne=ce.eventCreation!==!1?ce.id:e._tempResource,ve=R.allDay,ye=ve?void 0:n,Ie=ve||d,be=D,Se=M,Ge=!0,Ve=!0,Je=!0,Ft=o[B].date,et=o[V].date,Ae=n.type==="day"&&n.size===1?0:ft(Ft,et),it=V-B,je=n.resolution==="year"?12:1,ln=Ae-it;if((t.drag&&!t.create||t.external)&&(t.external||(Ge=no(U.dragBetweenResources,e._resourcesMap[_e].eventDragBetweenResources,n.dragBetweenResources),Ve=ao(U.dragBetweenSlots,e._resourcesMap[_e].eventDragBetweenSlots,h[e._startSlotIndex||0].eventDragBetweenSlots,n.dragBetweenSlots)),Je=Za(U.dragInTime,t.external||e._resourcesMap[_e].eventDragInTime,n.dragInTime)),t.drag||t.external)if(l||Ge||_e===Ne||(Ae=e._dragDayDelta),l&&d&&u)be=Ut(D,it*je,n),Se=Ut(M,it*je,n);else{if(Ie=(ve=Y||l&&R.allDay)||d,ye=ve?void 0:n,!l&&!Y&&(R.allDay||t.external)||l&&t.external&&!R.allDay&&!d){var ca=me(te(D,Ae));be=e._getGridTime(ca,E,F,V,f)}else!l||Ie||q?(ue=te(D,Ae),be=Ie?ue:Et(ie(ye,+ue+ae),f)):be=Et(ie(n,+D+ae+(864e5-X)*Ae+X*ln),f);ce.eventCreation!==!1||l||(be=ie(n,e._tempStart)),Se=ie(ye,+be+H)}else{var cn=l?it:I-N,Rt=t.create?cn?cn>0:C>0:t.direction==="end",Kt=ft(D,M);!l&&p&&_e!==Ne&&(Ae=e._dragDayDelta),Rt?l&&d&&u?Se=Ut(M,it*je,n):!l||Ie||q?(ue=te(M,Math.max(-Kt,Ae)),Se=Ie?ue:Et(ie(ye,+ue+ae),f),!Ie&&(Re(Se)>e._endTime+1||Se>=te(me(ue),1))&&(Se=ie(n,+me(ue)+e._endTime+1))):Se=Et(ie(n,+M+ae+Ae*(864e5-X)+X*ln),f):l&&d&&u?be=Ut(D,it*je,n):!l||Ie||q?(ue=te(D,Math.min(Kt,Ae)),be=Ie?ue:Et(ie(ye,+ue+ae),f),!Ie&&(Re(be)<e._startTime||be<me(ue))&&(be=ie(n,+me(ue)+e._startTime))):be=Et(ie(n,+D+ae+Ae*(864e5-X)+X*ln),f),Ne=_e,Ie&&Se<be&&(Rt?Se=ie(n,be):be=ie(n,Se)),!Ie&&(Se<be||Math.abs(+Se-+be)<6e4*f)&&(Rt?Se=ie(n,+be+6e4*f):be=ie(n,+Se-6e4*f))}if((t.drag||t.external)&&(Je||(be=D,Se=M,ve=e._tempAllDay),Ge||(Ne=_e),Ve||(Me=ge)),e._tempStart!==+be||e._tempEnd!==+Se||e._tempAllDay!==ve||e._tempResource!==Ne||e._tempSlot!==Me){var Vt=void 0,zt=void 0;e._isDailyResolution?(Vt=Le(y,be,n),zt=Le(y,Se,n)):(Vt=Le(n.dateFormat,be,n),zt=Le(n.dateFormat,lt(n,ve,be,Se),n)),j.startDate=be,j.endDate=Se,j.start=Vt,j.end=zt,j.allDay=ve,j.date=+et,U.bufferAfter&&(j.bufferEnd=ne(+Se+6e4*U.bufferAfter,ye)),U.bufferBefore&&(j.bufferStart=ne(+be-6e4*U.bufferBefore,ye)),e._tempStart=+be,e._tempEnd=+Se,e._tempAllDay=ve,e._tempResource=Ne,e._tempSlot=Me,e._dragDelta=t.drag||t.external?-1:t.direction?t.direction==="end"?1:-1:C,e._dragDayDelta=Ae,ve||e._onMouseMove(t.domEvent),e.setState({dragData:{draggedDates:e._getDragDates(j,Ne,Me),draggedEvent:j,originDate:R.date,originDates:g&&g.originDates,originResource:t.external?void 0:_e,resource:Ne,slot:Me}})}return!0},e._onEventDragEnd=function(t){clearTimeout(e._scrollTimer);var n=e.s,r=t.create,i=e.state,l=i.dragData,d=!1;if(n.externalDrag&&t.drag&&!t.create&&(tt.next(W({},t,{action:"externalDrop",create:!0,dragData:t.eventData.original,eventName:"onDragEnd",external:!0,from:e})),e._body.removeChild(e._clone),e._onCalendar||(d=!0,e._eventDropped&&(t.event=t.eventData.original,n.onEventDelete(t)))),r&&!l&&((l={}).draggedEvent=e._tempEvent),l&&l.draggedEvent){var u=n.showEventBuffer!==!1,o=t.eventData,c=l.draggedEvent,_=c.original,h=c.startDate,p=c.endDate,v=u&&c.bufferStart||h,g=u&&c.bufferEnd||p,f=c.allDay,y=r&&!t.external?e._tempResource:t.resource,b=l.resource===void 0?y:l.resource,x=_.resource===void 0?b:_.resource,T=r?e._tempSlot:t.slot,S=l.slot===void 0?T:l.slot,w={},C={},k=e._isTimeline,L=k?"timeline":"schedule",z=r||+h!=+o.startDate||+p!=+o.endDate||f!==o.allDay||y!==b||T!==S,E=x,F=void 0;if(y!==b&&(!r||t.external)&&!e._isSingleResource)if(Be(x)&&x.length&&b!==void 0){var N=x.indexOf(y);x.indexOf(b)===-1&&(E=x.slice()).splice(N,1,b)}else E=b;F=E&&n.resources?Be(E)?E:[E]:e._resources.map(function(Z){return Z.id});for(var I=e._resourcesMap[b],Y=_.overlap!==!1&&I.eventOverlap!==!1&&n.eventOverlap!==!1,A=0,q=F;A<q.length;A++){var G=q[A];if(e._invalids[G]&&(w[G]=e._invalids[G][S]),e._events[G]){for(var O={},R=e._events[G][S],U=0,j=Object.keys(R);U<j.length;U++){var B=j[U],V=R[B];O[B]={allDay:V.allDay.filter(function(Z){return Z.id!==c.id&&(!Y||Z.original.overlap===!1)}),data:V.data.filter(function(Z){return Z.id!==c.id&&(!Y||Z.original.overlap===!1)})}}C[G]=O}}var K=t.action||(i.dragData?"drag":"click"),J=!d&&(!z||n.eventDragEnd({action:K,collision:Ti(w,v,g,f,k,n.invalidateEvent,n),create:r,domEvent:t.domEvent,event:c,external:t.external,from:t.from,newResource:b,newSlot:S,oldResource:y,oldSlot:T,overlap:Ti(C,v,g,f,k,"strict",n),resource:E!==He?E:void 0,slot:S!==He?S:void 0,source:L})),P=i.isTouchDrag&&!d&&(!r||J);if(J&&P&&y!==b&&!_.color){var Q=I&&I.color;Q?(c.color=Q,c.style.background=Q,c.style.color=rn(Q)):(c.color=void 0,c.style={})}P||K==="click"||e._hook("onEventDragEnd",{domEvent:t.domEvent,event:(r?e._tempEvent:o).original,resource:b!==He?b:void 0,slot:S!==He?S:void 0,source:L}),e.setState({dragData:P?{draggedEvent:J?c:W({},o),originDate:J?c.date:o.date,originDates:J?e._getDragDates(c,b,S):l.originDates,originResource:J?b:l.originResource}:void 0,isTouchDrag:P}),e._tempStart=0,e._tempEnd=0,e._tempAllDay=void 0,e._dragDelta=void 0,e._onMouseMove(t.domEvent),e._isTouch=!1}},e._onExternalDrag=function(t){var n=e.s,r=t.clone,i=t.from===e,l=!i&&n.externalDrop,d=i&&n.externalDrag&&!n.dragToMove,u=e.state.dragData;if(l||n.externalDrag){var o=!d&&t.endY<e._gridContBottom&&t.endY>e._allDayTop&&t.endX>e._gridContLeft&&t.endX<e._gridContRight;switch(t.eventName){case"onDragModeOff":l&&e._onEventDragModeOff(t);break;case"onDragModeOn":l&&e._onEventDragModeOn(t);break;case"onDragStart":l?e._onEventDragStart(t):i&&(e._onCalendar=!0);break;case"onDragMove":if(!i&&!l)return;o?(e._onCalendar||e._hook("onEventDragEnter",{domEvent:t.domEvent,event:t.dragData,source:e._isTimeline?"timeline":"schedule"}),(i||l&&e._onEventDragMove(t)!==!1)&&(r.style.display="none"),e._onCalendar=!0):e._onCalendar&&(e._hook("onEventDragLeave",{domEvent:t.domEvent,event:t.dragData,source:e._isTimeline?"timeline":"schedule"}),clearTimeout(e._scrollTimer),r.style.display="table",i&&!u||e.setState({dragData:{draggedDates:{},draggedEvent:i?u&&u.draggedEvent:void 0,originDates:i?u&&u.originDates:void 0}}),e._tempStart=0,e._tempEnd=0,e._tempAllDay=void 0,e._tempResource=void 0,e._dragDelta=void 0,e._onCalendar=!1,e._onMouseLeave(void 0,!0));break;case"onDragEnd":l&&(o&&e._tempResource!==void 0?e._onEventDragEnd(t):(e.setState({dragData:void 0,isTouchDrag:!1}),e._hook("onEventDragEnd",{domEvent:t.domEvent,event:t.dragData,resource:t.resource,slot:t.slot,source:t.source})))}}},e}return $(s,a),s.prototype._isToday=function(e){return Pe(new Date(e),ie(this.s))},s.prototype._formatTime=function(e,t){var n=this.s,r=n.timeFormat,i=/a/i.test(r)&&this._stepLabel===36e5&&e%36e5==0?r.replace(/.[m]+/i,""):r,l=new Date(+st+e),d=ie(n,l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes());return Pt(d)&&t&&d.setTimezone(t),Le(i,d,n)},s.prototype._getEventPos=function(e,t,n,r){var i=this.s,l=e.allDay?void 0:i,d=ie(l,t.getFullYear(),t.getMonth(),t.getDate()),u=me(te(d,1)),o=l?this._firstDayTz:this._firstDay,c=l?this._lastDayTz:this._lastDay,_=this._isTimeline,h=!_&&!this._groupByResource,p=e.allDay,v=e.original,g=this._startTime,f=this._endTime+1,y=this._time,b=this._hasSlots,x=this._hasResY,T=this._isDailyResolution,S=i.eventList,w="",C="",k=e.bufferStart,L=e.bufferEnd,z=x?0:this._dayIndexMap[n],E=e.start,F=e.end,N=as(e,i,S,_,T,o,this._cols,this._colIndexMap),I=ss(e,i,S,_,T,c,this._cols,this._colIndexMap),Y=+N==+I?1:0,A=i.showEventBuffer!==!1&&!S&&!p;if((!p&&!_||x&&!b)&&(N<d&&(E="",N=ie(i,d)),I>=u&&(F="",I=ie(i,+u-1)),I>=u&&(I=ie(i,+u-1))),p||_){if(!r.get(v)||b||x||h){var q=i.startDay,G=i.endDay,O=p||S,R=!Pe(N,I),U=this._daysNr;_&&R&&Re(N)>=f&&(N=ie(i,+me(N)+f));var j=La(N,I,o,c,g,f,q,G,O),B=Ya(N,g,y,o,q,G),V=100*j/y;if(A&&k){var K=La(k,N,o,c,g,f,q,G,O);C=Math.max(0,100*K/j)+"%"}if(A&&L&&(K=La(I,L,o,c,g,f,q,G,O),w=Math.max(0,100*K/j)+"%"),_){var J=0;if(S&&!T&&(z=this._dayIndexMap[Te(N)]),i.resolution==="month"||i.resolution==="quarter"){var P=this._days[z].dayDiff,Q=Te(I>=c?te(c,-1):I),Z=this._dayIndexMap[Q];J=this._days[Z].dayDiff-P}V=(V+100*J)/U,B=(B+100*z)/U}var re=_?O?{left:i.rtl?"":(b?"":100*z/U)+"%",right:i.rtl?(b?"":100*z/U)+"%":"",width:(b?"":V)+"%"}:{height:this._setRowHeight?"":"100%",left:i.rtl?"":B+"%",right:i.rtl?B+"%":"",top:"0",width:V+"%"}:{width:(R&&!h?V:100)+"%"},pe=Re(N)<f&&I>o,de=Re(I)+Y>g;if(O||R&&V>0||pe&&de)return r.set(v,!0),{bufferAfter:w,bufferBefore:C,end:F,endDate:I,position:re,start:E,startDate:N}}}else if(Re(N)<f&&Re(I)+Y>g&&I>=N){var ee=100*(j=Ha(N,I,g,f))/y;return A&&k&&(Pe(k,N)||(k=ie(i,+me(N)+g)),C=100*Ha(k,N,g,f)/j+"%"),A&&L&&(Pe(L,N)||(L=ie(i,+me(N)+f-1)),w=100*Ha(I,L,g,f)/j+"%"),{bufferAfter:w,bufferBefore:C,cssClass:ee<2?" mbsc-schedule-event-small-height":"",end:F,endDate:I,position:{height:ee+"%",top:Ya(N,g,y)+"%",width:"100%"},start:E,startDate:N}}},s.prototype._getEventData=function(e,t,n,r){var i=this.s,l=lr(i,e,t,!0,n,!1,!this._isTimeline||this._hasResY,this._isDailyResolution,r);return e.allDay&&i.exclusiveEndDates&&+l.endDate==+l.startDate&&(l.endDate=me(te(l.startDate,1))),l},s.prototype._getEvents=function(e){var t=this,n=this.s,r=this._resources,i=this._slots,l=this._hasSlots,d=this._hasResY,u=this._isTimeline,o=!u,c={},_=Oa(e,r,i,!!n.resources,!!n.slots),h={},p=this._firstDay,v=this._lastDay,g=this._setRowHeight,f={},y=this._cols,b=this._createEventMaps||n.renderHour||n.renderHourFooter||n.renderDay||n.renderDayFooter||n.renderWeek||n.renderWeekFooter||n.renderMonth||n.renderMonthFooter||n.renderQuarter||n.renderQuarterFooter||n.renderYear||n.renderYearFooter;if(b&&y.forEach(function(z){return z.eventMap={all:[]}}),n.connections)for(var x=0,T=n.connections;x<T.length;x++){var S=T[x];f[S.from]=!0,f[S.to]=!0}for(var w=function(z){var E=z.id,F=new Map,N=0,I=[],Y={},A=function(R,U){for(var j=0;j<I.length;j++){var B=I[j],V=B.stacks.length,K=B.more.length;if(g&&V>N&&(N=V),!l)for(var J=0;J<V;J++)for(var P=0,Q=B.stacks[J];P<Q.length;P++){var Z=Q[P],re=u&&K&&!g?1:0,pe=((Y[Z.uid]||V+re)-J)/(V+re)*100;o?(Z.position.width=pe+"%",Z.position[n.rtl?"right":"left"]=100*J/V+"%",Z.position[n.rtl?"left":"right"]="auto"):(Z.position.height=g?"":pe+"%",Z.position.top=g?J:100*J/(V+re)+"%")}if(K){for(var de=void 0,ee=void 0,fe=0,we=B.more;fe<we.length;fe++){var xe=we[fe];(!de||xe.startDate<de)&&(de=xe.startDate),(!ee||xe.endDate>ee)&&(ee=xe.endDate)}var Ye=U||new Date(B.more[0].date),Ee=Te(Ye),Ce="more-"+(o||d?Ee+"-":"")+E,D=n.moreEventsText||"",M=(K>1&&n.moreEventsPluralText||D).replace(/{count}/,K),H=t._getEventData({color:"#ddd",cssClass:"mbsc-schedule-event-more",editable:!1,end:ee,id:Ce+(l?(d?"":"-"+Ee)+"-"+R:"")+"-"+j,more:B.more,start:de,text:(o?"+":"")+(u?M:K)},Ye,z),X=t._getEventPos(H,Ye,Ee,F);X&&(H.position=X.position,u?(H.position.height=g?"":100/(V+1)+"%",H.position.top=l?"":g?V:100*V/(V+1)+"%",c[E][R][d||l?Ee:"all"].data.push(H)):(H.showText=!0,H.position.width="24px",H.position[n.rtl?"right":"left"]="auto",H.position[n.rtl?"left":"right"]="-24px",c[E][R][Ee].hasMore=!0,c[E][R][Ee].data.push(H))),t._eventRows[Ce]=1}}};c[E]={};for(var q=function(R){var U=R.id,j=_[E][U],B=Object.keys(j).sort();c[E][U]={all:{allDay:[],data:[]}},o&&(h[U]=Qi(n,j,p,v,-1,C._daysNr,!0,n.startDay,!1,n.eventOrder));for(var V=function(P){var Q=e[P].date;if(C._dayIndexMap[P]!==void 0&&_t(Q.getDay(),n.startDay,n.endDay)){var Z=vn(j[P])||[];(o||d||l)&&(I=[],Y={}),c[E][U][P]={allDay:[],data:[]},d&&(N=C._eventRows[P+"-"+E]||0);for(var re=0,pe=Z;re<pe.length;re++){var de=pe[re];if(!de.allDay||u){var ee=C._getEventData(de,Q,z),fe=C._getEventPos(ee,Q,P,F);if(ee.position=void 0,fe&&(ee.cssClass=fe.cssClass,ee.position=fe.position,ee.bufferAfter=fe.bufferAfter,ee.bufferBefore=fe.bufferBefore,(o||d)&&(ee.showText=!0),nl(n,I,ee,Y,C._maxEventStack||1,n.eventList,u,C._isDailyResolution,p,C._firstDayTz,v,C._lastDayTz,C._cols,C._colIndexMap),c[E][U].all.data.push(ee),C._eventMap[ee.id]=ee,b))for(var we=C._stepCell,xe=C._isDailyResolution&&we<864e5,Ye=de.allDay?p:Tt(n,p),Ee=ee.startDate>Ye?ee.startDate:Ye,Ce=C._colIndexMap[Te(Ee)],D=!0;D&&Ce<y.length;){for(var M=y[Ce],H=M.date,X=Ce<y.length-1?y[Ce+1].date:v,ae=H,ce=!1;ae<X;){var _e=+ae,ge=xe?new Date(_e+we):X,ue=de.allDay?H:Tt(n,ae),Me=de.allDay?X:Tt(n,ge);Xt(ee.startDate,ee.endDate,ue,Me,!0)?(M.eventMap[_e]||(M.eventMap[_e]=[]),ce||(M.eventMap.all.push(ee.original),ce=!0),M.eventMap[_e].push(ee.original),D=!0):D=!1,ae=ge}Ce++}c[E][U][P].data.push(ee),u&&de.allDay&&c[E][U][P].allDay.push(ee)}}o&&h[U][P]&&h[U][P].data.forEach(function(be){var Se=be.event,Ge=be.width;if(Se){var Ve=t._getEventData(Se,Q,z),Je=t._getEventPos(Ve,Q,P,F);Je&&(Ve.bufferAfter=Je.bufferAfter,Ve.bufferBefore=Je.bufferBefore),Ve.position={width:Je?Je.position.width:Ge},Ve.showText=!!Je,c[E][U][P].allDay.push(Ve)}}),(o||d||l)&&A(U,Q),d&&(C._eventRows[P+"-"+E]=N||1)}else if(n.connections)for(var Ne=0,ve=Z=j[P]||[];Ne<ve.length;Ne++){var ye=ve[Ne],Ie=ye.id;!C._eventMap[Ie]&&f[Ie]&&(C._eventMap[Ie]=C._getEventData(ye,Q,z))}},K=0,J=B;K<J.length;K++)V(J[K])},G=0,O=i;G<O.length;G++)q(O[G]);!u||l||d||A(He),d||(C._eventRows[E]=N||1)},C=this,k=0,L=r;k<L.length;k++)w(L[k]);return c},s.prototype._getInvalids=function(e){var t,n=this.s,r=n.eventList,i=e||{},l={},d=r?me(new Date(n.minDate)):new Date(n.minDate),u=r?me(te(new Date(n.maxDate),1)):new Date(n.maxDate),o=this._isTimeline;if(n.minDate)for(var c=me(this._firstDay);c<d;c.setDate(c.getDate()+1))(L=i[k=Te(c)]||[]).push({end:d,start:new Date(c)}),i[k]=L;if(n.maxDate)for(c=me(u);c<this._lastDay;c.setDate(c.getDate()+1))(L=i[k=Te(c)]||[]).push({end:new Date(this._lastDay),start:u}),i[k]=L;for(var _=Oa(i,this._resources,this._slots,!!n.resources,!!n.slots),h=Object.keys(i).sort(),p=0,v=this._resources;p<v.length;p++){var g=v[p],f=g.id,y=new Map;l[f]={};for(var b=0,x=this._slots;b<x.length;b++){var T=x[b].id,S={allDay:[],data:[]};l[f][T]={all:S};for(var w=0,C=h;w<C.length;w++){var k;if(c=ne(k=C[w]),this._dayIndexMap[k]!==void 0&&_t(c.getDay(),n.startDay,n.endDay)){var L=_[f][T][k]||[],z={allDay:[],data:[]},E=[];l[f][T][k]=z;for(var F=0,N=L;F<N.length;F++){var I=N[F];if(le(I)||Oi(I)){var Y=ne(I);I={allDay:!0,end:new Date(Y),start:Y}}var A=this._getEventData(I,c,g,!0);A.cssClass=I.cssClass?" "+I.cssClass:"",A.position=void 0;var q=this._getEventPos(A,c,k,y);if(q&&(!o&&Re(q.startDate)===0&&new Date(+q.endDate+1)>=te(c,1)?A.allDay=!0:(A.position=q.position,Re(q.startDate)<=this._startTime&&(A.cssClass+=" mbsc-schedule-invalid-start"),Re(q.endDate)>=this._endTime&&(A.cssClass+=" mbsc-schedule-invalid-end")),E.push(A)),z.data.push(A),A.allDay){o||(A.position={},q&&+A.startDate==+A.endDate&&(A.endDate=q.endDate)),z.allDay=[A],z.data=[A],E=[A];break}}(t=S.data).push.apply(t,E)}}}}return l},s.prototype._getColors=function(e){for(var t=this.s,n={},r=Oa(e,this._resources,this._slots,!!t.resources,!!t.slots),i=Object.keys(e||{}).sort(),l=this._hasSlots,d=this._isTimeline,u=this._hasResY,o=0,c=this._resources;o<c.length;o++){var _=c[o],h=_.id,p=new Map;n[h]={};for(var v=0,g=this._slots;v<g.length;v++){var f=g[v].id;n[h][f]={all:{allDay:[],data:[]}};for(var y=0,b=i;y<b.length;y++){var x=b[y],T=ne(x);if(this._dayIndexMap[x]!==void 0&&_t(T.getDay(),t.startDay,t.endDay)){var S=r[h][f][x]||[],w=u||l||!d?x:"all";(!d||l||u)&&(n[h][f][w]={allDay:[],data:[]});for(var C=n[h][f][w],k=0,L=S;k<L.length;k++){var z=L[k],E=this._getEventData(z,T,_,!0);if(E.cssClass=z.cssClass?" "+z.cssClass:"",E.allDay&&!d)C.allDay=[E];else{var F=this._getEventPos(E,T,x,p);F&&(E.position=F.position,Re(F.startDate)<=this._startTime&&(E.cssClass+=" mbsc-schedule-color-start"),Re(F.endDate)>=this._endTime&&(E.cssClass+=" mbsc-schedule-color-end"),C.data.push(E))}E.position.background=z.background,E.position.color=z.textColor?z.textColor:rn(z.background)}}}}}return n},s.prototype._flattenResources=function(e,t,n,r,i){for(var l=e&&e.length?e:[{id:He}],d=this.s.immutableData,u=0,o=l;u<o.length;u++){var c=o[u],_=r&&d?W({},c):c,h=_.children;d&&(_.original=c),_.depth=n,_.isParent=!(!h||!h.length),_.fixed=_.fixed||i,t.push(_),this._resourcesMap[_.id]=_,!r||!d&&n||r.push(_),_.isParent&&(this._hasHierarchy=!0,_.collapsed&&!r||(r&&d&&(_.children=[]),this._flattenResources(h,t,n+1,r&&_.children,_.fixed)))}return t},s.prototype._render=function(e,t){var n=this,r=this._prevS,i=this._isTimeline,l=new Date(e.selected),d=+e.size,u=Si(e.timeLabelStep),o=Si(e.timeCellStep),c=e.firstDay,_=e.startDay,h=e.endDay,p=e.resources,v=e.slots,g=e.virtualScroll===!1,f=e.resolution,y=f==="day"||f==="hour"||!i,b=e.resolutionVertical==="day",x=!1,T=!1,S=this._startTime,w=this._endTime;if(_===r.startDay&&h===r.endDay&&e.checkSize===r.checkSize&&e.eventList===r.eventList&&e.refDate===r.refDate&&e.size===r.size&&e.type===r.type&&e.resolution===r.resolution&&e.resolutionVertical===r.resolutionVertical&&e.displayTimezone===r.displayTimezone&&e.weekNumbers===r.weekNumbers||(x=!0,this._viewChanged=!0),(x||e.rtl!==r.rtl||e.dateFormat!==r.dateFormat||e.getDay!==r.getDay||e.rowHeight!==r.rowHeight||e.maxEventStack!==r.maxEventStack)&&(T=!0),e.startTime!==r.startTime||e.endTime!==r.endTime||e.timeLabelStep!==r.timeLabelStep||e.timeCellStep!==r.timeCellStep||e.timeFormat!==r.timeFormat||this._startTime===void 0||this._endTime===void 0){var C=ne(e.startTime||"00:00"),k=new Date(+ne(e.endTime||"00:00")-1);this._startTime=S=Re(C),this._endTime=w=Re(k),this._time=w-S+1,this._timesBetween=Dn(De(o/u)-1),this._times=[],this._timeLabels={},this._viewChanged=!0;for(var L=6e4*o,z=De(S/L)*L,E=function(kt){if(F._times.push(kt),i){var un=kt===z;F._timeLabels[kt]=un||kt%(6e4*u)==0?F._formatTime(un?S:kt):"",F._timesBetween.forEach(function(Mt,Yn){var ut=kt+(Yn+1)*u*6e4;n._timeLabels[ut]=n._formatTime(ut)})}},F=this,N=z;N<=w;N+=L)E(N);T=!0}if(e.slots===r.slots&&this._slots!==void 0||(this._hasSlots=i&&!!v&&v.length>0,this._slots=v&&v.length?v:[{id:He}],T=!0),p===r.resources&&this._resources!==void 0||(this._hasResources=!!p&&p.length>0,this._hasHierarchy=!1,this._resourcesMap={},this._resourcesCopy=[],this._resources=this._flattenResources(p,[],0,this._resourcesCopy),this._visibleResources=this._flattenResources(this._resourcesCopy,[],0),this._isSingleResource=this._resources.length===1,T=!0),x||e.selected!==r.selected||e.getDay!==r.getDay||e.monthNames!==r.monthNames||e.dateFormat!==r.dateFormat||e.currentTimeIndicator!==r.currentTimeIndicator){var I=ls(ie(e)),Y=e.type==="day",A=e.type==="month",q=e.type==="year",G=Y&&d<2,O=e.navService,R=e.dateFormat.search(/m/i),U=e.dateFormat.search(/y/i)<R,j=e.dateFormat.search(/d/i)<R,B=void 0,V=void 0,K=void 0,J=void 0;if(d>1||q||A?(K=B=O.firstDay,J=V=O.lastDay):(K=te(Ke(l,e),_-c+(_<c?7:0)),Y&&(l<K&&(K=te(K,-7)),l>=te(K,7)&&(K=te(K,7))),J=te(K,h-_+1+(h<_?7:0)),B=Y?me(l):K,V=Y?te(B,1):J),i&&f==="week"&&(q||A)&&(B=O.viewStart,V=O.viewEnd),e.selected!==r.selected&&Y&&d<2&&(T=!0),this._isMulti=d>1||q,this._isDailyResolution=y,this._hasResY=b,this._firstDayTz=ie(e,B.getFullYear(),B.getMonth(),B.getDate()),this._lastDayTz=ie(e,V.getFullYear(),V.getMonth(),V.getDate()),this._selectedDay=+me(l),this._setRowHeight=e.eventList||e.rowHeight!=="equal",this._shouldAnimateScroll=r.selected!==void 0&&e.selected!==r.selected&&!this._viewChanged,this._showTimeIndicator=!e.eventList&&(e.currentTimeIndicator===void 0?!i||y&&o<1440:e.currentTimeIndicator)&&(Y&&d<2?Pe(I,l):B<=I&&V>=I),T||+B!=+this._firstDay||+V!=+this._lastDay){this._firstDay=B,this._lastDay=V,this._colIndexMap={},this._cols=[],this._dayIndexMap={},this._days=[],this._headerDays=[];var P=0,Q=-1,Z=0,re=0,pe=-1,de="",ee=-1,fe=-1,we="",xe=-1,Ye=-1,Ee="",Ce=B,D=V,M=0,H=void 0,X=0;for(!i&&G&&(Ce=K,D=J),N=me(Ce);N<me(D);N.setDate(N.getDate()+1)){var ae=Te(N),ce=N.getDay();if(this._dayIndexMap[ae]=P,_t(ce,_,h)){var _e=void 0,ge="",ue="",Me=y;if(i&&!b){X=e.getWeekNumber(te(N,(7-c+1)%7));var Ne=e.getDay(N),ve=e.getMonth(N),ye=e.getYear(N),Ie=e.monthNames[ve];if(pe!==ye&&(pe=ye,f==="year"&&(Me=!0,de=""+pe)),ee!==ve){if(f==="month")de=q&&d<2?Ie:U?ye+" "+Ie:Ie+" "+ye,Me=!0;else if(f==="quarter"&&ve%3==0){var be=ve/3+1,Se=e.quarterText.replace("{count}",""+be);de=q&&d<2?Se:U?ye+" "+Se:Se+" "+ye,Me=!0}else y&&(ge=we=U?ye+" "+Ie:Ie+" "+ye);fe=P,ee=ve,re=e.getMaxDayOfMonth(pe,ee)}if(xe!==X&&(Ye=P,xe=X,ue=Ee=e.weekText.replace(/{count}/,xe),P>0&&(this._days[P-1].lastOfWeek=!0)),(ce===_||!P)&&f==="week"){var Ge=j?"D MMM":"MMM D";H=te(N,h-_+(h<_?7:0)),de=Le(Ge,N,e)+" - "+Le(Ge,H,e),Me=!0}!(_e=Ne===re||ce===h&&(_-h-1+7)%7>=re-Ne)||f!=="month"&&f!=="quarter"||(Z+=31-re)}var Ve={columnTitle:de,date:new Date(N),dateIndex:P,dateKey:ae,dateText:Le(b?A&&!this._isMulti?"D DDD":p?e.dateFormatLong:e.dateFormat:A||this._isMulti?"D DDD":e.dateFormatLong,N,e),day:e.getDay(N),dayDiff:Z,endDate:H,eventMap:{all:[]},label:Le("DDDD, MMMM D, YYYY",N,e),lastOfMonth:_e,monthIndex:fe,monthText:we,monthTitle:ge,timestamp:+me(N),weekIndex:Ye,weekNr:X,weekText:Ee,weekTitle:ue};if(Me&&(Ve.isActive=N<=I&&I<D,M&&(this._cols[Q].isActive=M<=+I&&I<N),M=+N,this._cols.push(Ve),Q++),G&&this._headerDays.push(Ve),G&&this._selectedDay!==+N||this._days.push(Ve),_e&&(f==="month"||f==="quarter"))for(var Je=re;Je<31;Je++)this._days.push(Ve),P++;P++}this._colIndexMap[ae]=Q<0?0:Q}this._colsNr=b?1:Q+1,this._daysNr=b||G?1:P}}this._groupByResource=e.groupBy!=="date"&&!(e.type==="day"&&d<2)||this._isSingleResource,this._stepCell=6e4*o,this._stepLabel=6e4*u,this._dayNames=t.dayNameWidth>49?e.dayNamesShort:e.dayNamesMin,this._displayTime=u<1440&&y,this._eventHeight=t.eventHeight||(e.eventList?24:46),this._showCursorTime=this._displayTime&&!!(e.dragToCreate||e.dragToMove||e.dragToResize),e.maxEventStack!=="auto"&&(this._maxEventStack=e.maxEventStack||"all"),(e.colorsMap!==r.colorsMap||T)&&(this._colors=this._getColors(e.colorsMap)),(e.eventMap!==r.eventMap||e.showEventBuffer!==r.showEventBuffer||T||!this._events||this._reloadEvents)&&(this._eventMap={},this._eventRows={},this._events=this._getEvents(e.eventMap),this._reloadEvents=!1),(e.invalidsMap!==r.invalidsMap||T)&&(this._invalids=this._getInvalids(e.invalidsMap));var Ft=i&&e.eventMap!==r.eventMap;if((e.height!==r.height||e.width!==r.width||Ft||T)&&(this._shouldCheckSize=qe&&!!e.height&&!!e.width),e.scroll!==r.scroll&&(this._shouldScroll=!0),e.height!==void 0&&(this._hasSideSticky=nn&&!e.rtl,this._hasSticky=nn),i){var et=this._cols,Ae=this._colsNr,it=[],je=this._daysBatchNr===void 0?Oe(De(this._stepCell/(this._time/30)),1,30):this._daysBatchNr,ln=this._dayIndexMap[Te(l)]||0,ca=t.batchIndexX!==void 0?t.batchIndexX:Ze(ln/je),cn=Math.min(ca*je,Ae-1),Rt=g?0:Math.max(0,cn-De(3*je/2)),Kt=g?Ae:Math.min(Rt+3*je,Ae),Vt=et[Rt].date,zt=Kt<Ae?et[Kt].date:this._lastDay,At={};for(P=Rt;P<Kt;P++)At[et[P].dateKey]=!0,it.push(et[P]);this._batchStart=ie(e,Vt.getFullYear(),Vt.getMonth(),Vt.getDate()),this._batchEnd=ie(e,zt.getFullYear(),zt.getMonth(),zt.getDate()),this._daysBatch=it,this._daysBatchNr=je,this._placeholderSizeX=g?0:t.dayWidth*Ze(Math.max(0,cn-3*je/2))||0,this._rowHeights={},this._dragCol="",this._dragRow="",this._fixedResources=[],this._fixedResourceTops={},this._fixedHeight=t.headerHeight||0;var wt=(t.scrollContHeight||0)-(t.headerHeight||0)-(t.footerHeight||0),Cn=t.rowHeight||52,da=t.parentRowHeight||52,mr=t.gutterHeight!==void 0?t.gutterHeight:16,gs=t.batchIndexY||0,ua=this._visibleResources,ys=b?this._days:[{}],bs=ua.length*ys.length,ha=[],dn=[],xs={},wn={},Ds={},kn=[],Wt=0,ma=0;t.hasScrollY&&(this._resourceTops={}),ys.forEach(function(kt,un){ua.forEach(function(Mt,Yn){var ut=(b?kt.dateKey+"-":"")+Mt.id;if(Ds[ut]=Mt,wt){var fa=Mt.children?da:Cn,pr=n._eventRows["more-"+ut]?24:0,hn=n._setRowHeight?Mt.eventCreation===!1?fa:Math.max((n._eventRows[ut]||1)*n._eventHeight+mr+pr,fa):fa;n._rowHeights[ut]=n._setRowHeight?hn+"px":void 0,!b&&Mt.fixed&&(n._fixedResourceTops[ut]=n._fixedHeight,n._fixedHeight+=hn,n._fixedResources.push({height:hn,index:Yn,key:ut,resource:Mt})),t.hasScrollY&&(n._resourceTops[ut]=Wt),ma||kn.push({startIndex:un*ua.length+Yn,top:Wt}),Wt+=hn,(ma+=hn)>wt&&(ma=0)}ha.push({dayIndex:un,key:ut,resource:Mt})})});var Mn=kn[gs-1],Ts=kn[gs+2],Ss=Mn?Mn.startIndex:0,Cs=Ts?Ts.startIndex:Wt?bs:30;(g||Wt&&Wt<=wt)&&(Ss=0,Cs=bs);var En=[],ws=-1;for(P=Ss;P<Cs;P++){var Nn=ha[P];if(Nn){var In=Nn.dayIndex;ws!==In&&(En=[],dn.push({day:b?this._days[In]:void 0,rows:En}),ws=In,xs[In]=dn[dn.length-1]),wn[Nn.key]=!0,En.push(Nn.resource)}}for(var ks=0,_a=0,Ms=this._fixedResources;_a<Ms.length;_a++){var Hn=Ms[_a];wn[Hn.key]||(En.unshift(Hn.resource),wn[Hn.key]=!0,ks+=Hn.height)}if(t.dragData&&t.dragData.originResource!==void 0){var _r=t.dragData.originResource,pa=(ae=Te(new Date(t.dragData.originDate)),(b?ae+"-":"")+_r),Es=b?this._dayIndexMap[ae]:0,Ns=b?this._colIndexMap[ae]:0,Is=et[Ns].dateKey;if(!wn[pa]){var Ln=xs[Es];Ln||(Ln={day:b?this._days[Es]:void 0,hidden:!0,rows:[]},dn.push(Ln)),Ln.rows.push(Ds[pa]),this._dragRow=pa}b||At[Is]||(this._dragCol=Is,it.push(et[Ns]))}this._gridHeight=Wt,this._virtualPagesY=kn,this._colClass=p||!b?"mbsc-timeline-resource-col":"mbsc-timeline-date-col",this._hasRows=this._hasResources||b,this._rows=ha,this._rowBatch=dn,this._placeholderSizeY=Mn&&!g?Mn.top-ks:0}},s.prototype._mounted=function(){var e,t,n,r=this;this._unlisten=$e(this._el,{onDoubleClick:function(i){var l=r.s;n&&l.clickToCreate&&l.clickToCreate!=="single"&&(i.click=!0,r._onEventDragStart(i)&&r._onEventDragEnd(i))},onEnd:function(i){!e&&t&&r.s.clickToCreate==="single"&&(i.click=!0,r._onEventDragStart(i)&&(e=!0)),e&&(i.domEvent.preventDefault(),r._onEventDragEnd(i)),clearTimeout(r._touchTimer),e=!1,t=!1},onMove:function(i){var l=r.s;e&&l.dragToCreate?(i.domEvent.preventDefault(),r._onEventDragMove(i)):t&&l.dragToCreate&&(Math.abs(i.deltaX)>7||Math.abs(i.deltaY)>7)?r._onEventDragStart(i)?e=!0:t=!1:clearTimeout(r._touchTimer)},onStart:function(i){var l=r.s;if(i.create=!0,i.click=!1,r._isTouch=i.isTouch,!e&&(l.dragToCreate||l.clickToCreate)){var d=i.domEvent.target&&i.domEvent.target.classList;(n=d&&(d.contains("mbsc-schedule-item")||d.contains("mbsc-schedule-all-day-item")||d.contains("mbsc-timeline-column")))&&(i.isTouch&&l.dragToCreate?r._touchTimer=setTimeout(function(){r._onEventDragStart(i)&&(r._onEventDragModeOn(i),e=!0)},350):t=!i.isTouch)}}}),this._unsubscribe=fs(this._onExternalDrag)},s.prototype._updated=function(){var e=this,t=this.s,n=this.state;this._scrollAfterResize&&(this._onScroll(),this._scrollAfterResize=!1),this._shouldCheckSize&&jt(this,function(){var r,i,l,d,u,o,c,_,h=e._resCont,p=e._headerCont,v=e._footerCont,g=e._sidebarCont,f=e._stickyFooter,y=p.offsetHeight,b=h?h.offsetWidth:0,x=g?g.offsetWidth:0,T=v?v.offsetHeight:0,S=e._scrollCont,w=S.offsetWidth,C=S.offsetHeight,k=S.clientWidth,L=S.clientHeight,z=k-b-x,E=L-y-T,F=e._gridHeight,N=w-k,I=C-L,Y=S.scrollHeight>L,A=S.scrollWidth>k,q=n.eventHeight;if(e._isTimeline){var G=S.querySelector(".mbsc-timeline-day"),O=S.querySelector(".mbsc-timeline-empty-row"),R=S.querySelector(".mbsc-timeline-empty-parent"),U=S.querySelector(".mbsc-timeline-row-gutter"),j=e._colsNr;if(l=G?G.offsetWidth:64,o=O?O.offsetHeight:52,c=R?R.offsetHeight:52,_=U?U.offsetHeight:16,l*j<z&&(A=!1,I=0),F&&F<E&&(Y=!1,N=0),l=A?l:Ze(z/j),u=A?l*j:z,i=e._stepCell*l/e._time,e._gridWidth=u,e._daysBatchNr=Math.max(1,Math.ceil(z/(l||1))),e._hasSticky||(p.style[t.rtl?"left":"right"]=N+"px",v&&(v.style[t.rtl?"left":"right"]=N+"px",v.style.bottom=I+"px")),e._hasSideSticky||(h&&(h.style.bottom=I+"px"),g&&(g.style[t.rtl?"left":"right"]=N+"px")),f&&(f.style.bottom=I+"px"),e._setRowHeight){var B=S.querySelector(".mbsc-schedule-event");q=B?B.clientHeight:q||(t.eventList?24:46)}if(!Y&&n.rowHeight){e._resourceTops={};var V=e._gridCont,K=V.getBoundingClientRect();V.querySelectorAll(".mbsc-timeline-row").forEach(function(Z,re){e._resourceTops[e._rows[re].key]=Z.getBoundingClientRect().top-K.top})}}else{var J=e._el.querySelector(".mbsc-schedule-column-inner"),P=e._el.querySelector(".mbsc-schedule-header-item");if(r=J?e._stepCell*J.offsetHeight/e._time:0,d=P?P.offsetWidth:0,t.maxEventStack==="auto"){var Q=De(J.offsetWidth/(t.minEventWidth||50));e._reloadEvents=e._maxEventStack!==Q,e._maxEventStack=Q}}S.scrollTop>F-E?S.scrollTop=F-E:e._onScroll(),e._calcConnections=!!t.connections&&(e._isParentClick||e._calcConnections||!Y),e._shouldCheckSize=o!==n.rowHeight||q!==n.eventHeight,e._scrollAfterResize=t.virtualScroll&&!e._shouldCheckSize,e._isCursorTimeVisible=!1,e._calcGridSizes(),e.setState({cellHeight:r,cellWidth:i,dayNameWidth:d,dayWidth:l,eventHeight:q,footerHeight:T,gridContWidth:z,gridWidth:u,gutterHeight:_,hasScrollX:A,hasScrollY:Y,headerHeight:y,parentRowHeight:c,rowHeight:o,scrollContHeight:A?L:C,update:e._calcConnections||e._reloadEvents?(n.update||0)+1:n.update})}),!this._shouldScroll||!n.dayWidth&&this._isTimeline||(setTimeout(function(){e._scrollToTime(e._shouldAnimateScroll),e._shouldAnimateScroll=!1}),this._shouldScroll=!1),this._viewChanged&&setTimeout(function(){e._viewChanged=!1},10)},s.prototype._destroy=function(){this._unlisten&&this._unlisten(),this._unsubscribe&&vs(this._unsubscribe)},s.prototype._calcGridSizes=function(){var e=this.s,t=this._resources,n=this._isTimeline,r=this._daysNr*(n?1:t.length),i=this._gridCont,l=this._scrollCont,d=!n&&this._el.querySelector(".mbsc-schedule-all-day-wrapper"),u=d&&d.getBoundingClientRect(),o=i.getBoundingClientRect(),c=l.getBoundingClientRect(),_=n?this._gridWidth:i.scrollWidth,h=this._resCont?this._resCont.offsetWidth:0;this._gridLeft=e.rtl?o.right-_:o.left,this._gridRight=e.rtl?o.right:o.left+_,this._gridTop=o.top,this._gridContTop=c.top,this._gridContBottom=c.bottom,this._gridContLeft=c.left+(e.rtl?0:h),this._gridContRight=c.right-(e.rtl?h:0),this._allDayTop=u?u.top:this._gridContTop,this._colWidth=_/(e.eventList?this._colsNr:r),this._colHeight=o.height},s.prototype._getDragDates=function(e,t,n){var r=this.s,i={},l=new Map,d=e.allDay?this._firstDay:this._firstDayTz,u=e.startDate,o=e.endDate;for(u=(u=me(u))<d?d:u,o=lt(r,e.allDay||r.eventList,u,o);u<=o;){var c=W({},e),_=Te(u),h=_t(u.getDay(),r.startDay,r.endDay)&&this._getEventPos(e,u,_,l);if(h){var p=c.resource;this._isTimeline&&this._setRowHeight&&(Be(p)?p:[p]).indexOf(this._tempResource)!==-1&&(h.position.top=c.position.top);var v=!this._isTimeline||this._hasSlots||this._hasResY?_:"all";c.date=+me(u,!0),c.cssClass=h.cssClass,c.start=h.start,c.end=h.end,c.position=h.position,c.bufferAfter=h.bufferAfter,c.bufferBefore=h.bufferBefore,i[t+"__"+(this._isTimeline?n+"__":"")+v]=c}u=te(u,1)}return i},s.prototype._getGridTime=function(e,t,n,r,i){var l=this._hasResY?0:r,d=Js(this._isTimeline?De(this._time*(t-l*this._colWidth)/this._colWidth):De(this._time*(n-8)/(this._colHeight-16)),6e4*i),u=new Date(+st+this._startTime+d);return ie(this.s,e.getFullYear(),e.getMonth(),e.getDate(),u.getHours(),u.getMinutes())},s.prototype._scrollToTime=function(e){var t=this,n=this._scrollCont,r=this._gridCont,i=this._isTimeline;if(n){var l=this.s,d=this._hasResY,u=l.navigateToEvent,o=u&&u.start?Et(new Date(+ne(u.start,l)-this._stepCell),this._stepCell/6e4):new Date(l.selected),c=this._colIndexMap[Te(o)];c===void 0||!i||d||l.resolution==="hour"&&this._stepCell!==864e5&&!l.eventList?o.setHours(l.eventList?0:o.getHours(),0):o=this._cols[c].date;var _=Ya(o,this._startTime,this._time*(i?this._daysNr:1)),h=d?0:Li(this._firstDay,o,l.startDay,l.endDay),p=(i?r.offsetWidth:r.scrollWidth)*(100*h/this._daysNr+(i?_:0))/100+1,v=void 0;if(u||d){var g=this._visibleResources,f=u?u.resource:g[0].id,y=Be(f)?f[0]:f;if(y)if(i){var b=(d?Te(o)+"-":"")+y;v=this._resourceTops&&this._resourceTops[b]}else{var x=this._colWidth,T=Dr(g,function(w){return w.id===y})||0;p=this._groupByResource&&!this._isSingleResource?this._daysNr*x*T+x*h:g.length*h*x+T*x}}if(!i){var S=n.querySelector(".mbsc-schedule-column-inner");v=S?S.offsetHeight*_/100:0,!this._groupByResource||this._isSingleResource||u||(p=void 0)}this._isScrolling++,zi(n,p,v,e,l.rtl,function(){setTimeout(function(){t._isScrolling--},150)})}},s}(Fe),sl=function(a){function s(){var e=a!==null&&a.apply(this,arguments)||this;return e._onScroll=function(){var t=e._scrollCont;if(t){var n=t.scrollTop,r="translateX("+-t.scrollLeft+"px)",i=e._timeCont,l=e._allDayCont,d=e._headerCont,u=(Dt?Dt+"T":"t")+"ransform";l&&(l.style[u]=r),i&&(i.style.marginTop=-n+"px"),d&&(d.style[u]=r),n===0?e.setState({showShadow:!1}):e.state.showShadow||e.setState({showShadow:!0}),e._onMouseMove()}},e._setCont=function(t){e._scrollCont=t},e._setTimeCont=function(t){e._timeCont=t},e._setAllDayCont=function(t){e._allDayCont=t},e._setGridCont=function(t){e._gridCont=t},e._setHeaderCont=function(t){e._headerCont=t},e._setCursorTimeCont=function(t){e._cursorTimeCont=t},e}return $(s,a),s.prototype._render=function(e,t){a.prototype._render.call(this,e,t);var n=this._prevS,r=e.timezones,i=this._stepCell/6e4,l=De(this._startTime/6e4)%i,d=De(this._endTime/6e4)%i+1;if(r!==n.timezones&&(this._timeWidth=r?{width:4.25*r.length+"em"}:void 0,this._timezones=void 0,r)){for(var u=[],o=0,c=r;o<c.length;o++){var _=c[o],h=void 0;if(le(_)){var p=ie(e,1970,0,1);Pt(p)&&p.setTimezone(_);var v=p.getTimezoneOffset()/60*-1;h={label:"UTC"+(v>0?"+":"")+v,timezone:_}}else h=_;u.push(h)}this._timezones=u}this._largeDayNames=t.dayNameWidth>99,this._startCellStyle=l%i!=0?{height:(t.cellHeight||50)*((i-l)%i/i)+"px"}:void 0,this._endCellStyle=d%i!=0?{height:(t.cellHeight||50)*(d%i)/i+"px"}:void 0},s}(ur),il=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s.prototype._template=function(e,t){return function(n,r,i){var l,d=i._colors,u=r.dragData,o=u&&u.draggedEvent&&u.draggedEvent.id,c=i._events,_=i._invalids,h=i._hb,p=i._rtl,v=i._times,g=i._startTime,f=i._endTime,y=i._startCellStyle,b=i._endCellStyle,x=i._stepLabel,T=i._theme,S=i._isSingleResource,w=n.eventMap||{},C="schedule",k=" mbsc-flex-1-0 mbsc-schedule-resource-group"+T+p,L=i._timezones,z=i._groupByResource,E=i._days,F=i._resources,N=((l={}).onMouseMove=i._onMouseMove,l.onMouseLeave=i._onMouseLeave,l),I={dayNames:i._dayNames,largeNames:i._largeDayNames,onClick:n.onWeekDayClick,renderDay:n.renderDay,renderDayContent:n.renderDayContent,rtl:n.rtl,theme:n.theme},Y=function(R){var U,j=R.name;return n.renderResource&&le(j=n.renderResource(R))&&(U=i._safeHtml(j),i._shouldEnhance=!0),j&&m("div",{key:R.id,className:"mbsc-schedule-resource "+(R.cssClass||"")+T+p+h+(!z||n.type==="day"&&n.size===1?" mbsc-flex-1-0 mbsc-schedule-col-width":""),style:{background:R.background}},m("div",{dangerouslySetInnerHTML:U,className:"mbsc-schedule-resource-title"},j))},A=function(R,U,j,B){var V=i._resourcesMap[j].eventResize,K=j+"__"+U,J=xn(u&&u.draggedEvent&&u.draggedEvent.original.resize,n.dragToResize,V),P={displayTimezone:n.displayTimezone,drag:n.dragToMove||n.externalDrag,endDay:n.endDay,exclusiveEndDates:n.exclusiveEndDates,gridEndTime:f,gridStartTime:g,lastDay:+i._lastDay,render:n.renderEvent,renderBufferAfter:n.renderBufferAfter,renderBufferBefore:n.renderBufferBefore,renderContent:n.renderEventContent,resource:j,rtl:n.rtl,singleDay:!z,slot:He,startDay:n.startDay,theme:n.theme,timezonePlugin:n.timezonePlugin};return m(We,null,R.map(function(Q){return Q.showText?Q.position&&m(sn,W({},P,{event:Q,key:Q.uid,inactive:o===Q.id,resize:xn(Q.original.resize,n.dragToResize,V),selected:!(!n.selectedEventsMap[Q.uid]&&!n.selectedEventsMap[Q.id]),onClick:i._onEventClick,onDoubleClick:n.onEventDoubleClick,onRightClick:n.onEventRightClick,onDelete:n.onEventDelete,onHoverIn:n.onEventHoverIn,onHoverOut:n.onEventHoverOut,onDragStart:i._onEventDragStart,onDragMove:i._onEventDragMove,onDragEnd:i._onEventDragEnd,onDragModeOn:i._onEventDragModeOn,onDragModeOff:i._onEventDragModeOff})):m("div",{key:Q.uid,className:"mbsc-schedule-event mbsc-schedule-event-all-day mbsc-schedule-event-all-day-placeholder"},m("div",{className:"mbsc-schedule-event-all-day-inner"+T}))}),u&&u.originDates&&u.originDates[K]&&!!u.originDates[K].allDay==!!B&&m(sn,W({},P,{event:u.originDates[K],hidden:u&&!!u.draggedDates,isDrag:!0,resize:J,onDragStart:i._onEventDragStart,onDragMove:i._onEventDragMove,onDragEnd:i._onEventDragEnd,onDragModeOff:i._onEventDragModeOff})),u&&u.draggedDates&&u.draggedDates[K]&&!!u.draggedDates[K].allDay==!!B&&m(sn,W({},P,{event:u.draggedDates[K],isDrag:!0,resize:J})))},q=function(R){return v.map(function(U,j){var B=!j,V=j===v.length-1;return m("div",{key:j,className:"mbsc-flex-col mbsc-flex-1-0 mbsc-schedule-time-wrapper"+T+p+(V?" mbsc-schedule-time-wrapper-end":"")+(B&&!V&&y||V&&!B&&b?" mbsc-flex-none":""),style:B&&!V?y:V&&!B?b:void 0},m("div",{className:"mbsc-flex-1-1 mbsc-schedule-time"+T+p},B||U%x==0?i._formatTime(B?g:U,R):""),i._timesBetween.map(function(K,J){var P=U+(J+1)*x;return P>g&&P<f&&m("div",{key:J,className:"mbsc-flex-1-1 mbsc-schedule-time"+T+p},i._formatTime(P,R))}),V&&m("div",{className:"mbsc-schedule-time mbsc-schedule-time-end"+T+p},i._formatTime(f+1,R)))})},G=function(R,U,j,B){var V=R.id,K=_[V][He][U]&&_[V][He][U].allDay[0],J=d[V][He][U]&&d[V][He][U].allDay[0],P=c[V][He][U]&&c[V][He][U].allDay;return m("div",{key:j+"-"+B,className:"mbsc-schedule-all-day-item mbsc-schedule-col-width mbsc-flex-1-0 "+(R.cssClass||"")+T+p+h,style:{background:R.background}},A(P||[],U,V,!0),K&&m("div",{className:"mbsc-schedule-invalid mbsc-schedule-invalid-all-day"+K.cssClass+T},m("div",{className:"mbsc-schedule-invalid-text"},K.title)),J&&m("div",{className:"mbsc-schedule-color mbsc-schedule-color-all-day"+J.cssClass+T,style:J.position},m("div",{className:"mbsc-schedule-color-text"},J.title)))},O=function(R,U,j,B){var V=R.id,K=_[V][He][U]&&_[V][He][U].data,J=d[V][He][U]&&d[V][He][U].data,P=c[V][He][U],Q=P&&P.data;return m("div",{key:j+"-"+B,className:"mbsc-flex-col mbsc-flex-1-0 mbsc-schedule-column mbsc-schedule-col-width "+(R.cssClass||"")+T+p+h,style:{background:R.background}},m("div",{className:"mbsc-flex-col mbsc-flex-1-1 mbsc-schedule-column-inner"+T+p+h},m("div",{className:"mbsc-schedule-events"+(P&&P.hasMore?" mbsc-schedule-events-more":"")+p},A(Q||[],U,V)),K&&K.map(function(Z,re){return Z.position&&m("div",{key:re,className:"mbsc-schedule-invalid"+Z.cssClass+T,style:Z.position},m("div",{className:"mbsc-schedule-invalid-text"},Z.allDay?"":Z.title||""))}),J&&J.map(function(Z,re){return m("div",{key:re,className:"mbsc-schedule-color"+Z.cssClass+T,style:Z.position},m("div",{className:"mbsc-schedule-color-text"},Z.title))}),v.map(function(Z,re){var pe,de=cr(B,Z),ee=!re,fe=re===v.length-1,we=((pe={}).onDoubleClick=function(xe){return n.onCellDoubleClick({date:de,domEvent:xe,resource:V,source:C})},pe.onContextMenu=function(xe){return n.onCellRightClick({date:de,domEvent:xe,resource:V,source:C})},pe);return m("div",W({key:re,className:"mbsc-schedule-item mbsc-flex-1-0"+T+h+(fe?" mbsc-schedule-item-last":"")+(ee&&!fe&&y||fe&&!ee&&b?" mbsc-flex-none":""),onClick:function(xe){return n.onCellClick({date:de,domEvent:xe,resource:V,source:C})},style:ee&&!fe?y:fe&&!ee?b:void 0},we))})))};return m("div",{ref:i._setEl,className:"mbsc-flex-col mbsc-flex-1-1 mbsc-schedule-wrapper"+T+(i._daysNr>7?" mbsc-schedule-wrapper-multi":"")},m("div",{className:"mbsc-schedule-header mbsc-flex mbsc-flex-none"+T+h},m("div",{className:"mbsc-schedule-time-col mbsc-schedule-time-col-empty"+T+p+h,style:i._timeWidth}),m("div",{className:"mbsc-flex-1-1 mbsc-schedule-header-wrapper"},m("div",{ref:i._setHeaderCont,className:"mbsc-flex"},n.type==="day"&&n.size===1?m("div",{className:k},m("div",{className:"mbsc-flex"},n.showDays&&i._headerDays.map(function(R){var U=R.timestamp;return m(Pa,W({},I,{key:U,cssClass:"mbsc-flex-1-1",day:R.day,events:w[R.dateKey],isToday:i._isToday(U),label:R.label,selectable:!0,selected:i._selectedDay===U,timestamp:U}))})),n.resources&&m("div",{className:"mbsc-flex"},F.map(Y))):z?F.map(function(R,U){return m("div",{key:U,className:k},Y(R),m("div",{className:"mbsc-flex"},n.showDays&&E.map(function(j){var B=j.timestamp;return m(Pa,W({},I,{background:R.background,key:B,cssClass:"mbsc-flex-1-0 mbsc-schedule-col-width "+(R.cssClass||""),day:j.day,events:w[j.dateKey],isToday:S&&i._isToday(B),label:j.label,resource:R.id,selectable:!1,selected:S&&i._isToday(B),timestamp:B}))})))}):E.map(function(R,U){var j=R.timestamp;return m("div",{key:U,className:k},n.showDays&&m(Pa,W({},I,{key:j,day:R.day,events:w[R.dateKey],isToday:S&&i._isToday(j),label:R.label,selectable:!1,selected:i._isToday(j),timestamp:j})),n.resources&&m("div",{className:"mbsc-flex"},F.map(Y)))}))),m("div",{className:"mbsc-schedule-fake-scroll-y"})),m("div",{className:"mbsc-schedule-all-day-cont"+(r.showShadow?" mbsc-schedule-all-day-wrapper-shadow":"")+T},L&&m("div",{className:"mbsc-flex mbsc-schedule-timezone-labels",style:i._timeWidth},L.map(function(R,U){return m("div",{key:U,className:"mbsc-flex-1-0-0 mbsc-schedule-timezone-label"+T+p},R.label)})),n.showAllDay&&m("div",{className:"mbsc-schedule-all-day-wrapper mbsc-flex-none"+T+h},m("div",{className:"mbsc-flex mbsc-schedule-all-day"+T},m("div",{className:"mbsc-schedule-time-col"+T+p,style:i._timeWidth},!L&&m("div",{className:"mbsc-schedule-all-day-text"+T+p},n.allDayText)),m("div",{className:"mbsc-flex-col mbsc-flex-1-1 mbsc-schedule-all-day-group-wrapper"},m("div",{ref:i._setAllDayCont,className:"mbsc-flex mbsc-flex-1-1"},z?F.map(function(R,U){return m("div",{key:U,className:"mbsc-flex"+k},E.map(function(j,B){return G(R,j.dateKey,B,j.timestamp)}))}):E.map(function(R,U){return m("div",{key:U,className:"mbsc-flex"+k},F.map(function(j,B){return G(j,R.dateKey,B,R.timestamp)}))})))))),m("div",{className:"mbsc-flex mbsc-flex-1-1 mbsc-schedule-grid-wrapper"+T},m("div",{dangerouslySetInnerHTML:i.textParam}),m("div",{"aria-hidden":"true",className:"mbsc-flex-col mbsc-schedule-time-col mbsc-schedule-time-cont"+T+p,style:i._timeWidth,ref:i._setTimeCont},m("div",{className:"mbsc-flex mbsc-schedule-time-cont-inner"},m("div",{className:"mbsc-flex-col mbsc-flex-1-1"},m("div",{className:"mbsc-flex-1-1 mbsc-schedule-time-cont-pos"+T+(L?" mbsc-flex":" mbsc-flex-col mbsc-schedule-time-col-last")},L?L.map(function(R,U){return m("div",{key:U,className:"mbsc-flex-col"+T+(U===L.length-1?" mbsc-schedule-time-col-last":"")},q(R.timezone))}):q(),i._showTimeIndicator&&m(dr,{amText:n.amText,displayedTime:i._time,displayedDays:i._daysNr,displayTimezone:n.displayTimezone,endDay:n.endDay,firstDay:i._firstDayTz,orientation:"x",pmText:n.pmText,rtl:n.rtl,showDayIndicator:S&&!i._isMulti&&n.type==="week",startDay:n.startDay,startTime:g,theme:n.theme,timeFormat:n.timeFormat,timezones:L,timezonePlugin:n.timezonePlugin}),i._showCursorTime&&m("div",{ref:i._setCursorTimeCont,className:"mbsc-schedule-cursor-time mbsc-schedule-cursor-time-x"+T+p})),r.hasScrollX&&m("div",{className:"mbsc-schedule-fake-scroll-x"})),m("div",{className:"mbsc-schedule-fake-scroll-y"}))),m("div",{ref:i._setCont,className:"mbsc-flex-col mbsc-flex-1-1 mbsc-schedule-grid-scroll"+T,onScroll:i._onScroll},m("div",{className:"mbsc-flex mbsc-flex-1-1"},m("div",W({className:"mbsc-flex mbsc-flex-1-0 mbsc-schedule-grid",ref:i._setGridCont},N),z?F.map(function(R,U){return m("div",{key:U,className:"mbsc-flex"+k},E.map(function(j,B){return O(R,j.dateKey,B,j.timestamp)}))}):E.map(function(R,U){return m("div",{key:U,className:"mbsc-flex"+k},F.map(function(j,B){return O(j,R.dateKey,B,R.timestamp)}))}))))),u&&!r.isTouchDrag&&m("div",{className:"mbsc-calendar-dragging"}))}(e,t,this)},s}(sl),rl=function(a){function s(){var e=a!==null&&a.apply(this,arguments)||this;return e._isTimeline=!0,e._onScroll=function(){for(var t=e.s.rtl,n=e.state,r=e._gridWidth,i=e._scrollCont,l=i.scrollTop,d=i.scrollLeft,u=e._resCont,o=e._sidebarCont,c=e._footerCont,_=e._headerCont,h=e._stickyHeader,p=e._stickyFooter,v=e._days,g=e._daysNr,f=e._cols.length,y=t?-1:1,b=t?"marginRight":"marginLeft",x=Ze(d*y*(f/e._daysBatchNr)/r),T=r/g,S=T?Oe(De(d*y/T),0,g-1):0,w=e._virtualPagesY||[],C=0,k=0;k<w.length&&w[k].top-n.scrollContHeight/2<=l;)C=k,k++;if(nn&&!t||(u&&(u.scrollTop=l),o&&(o.scrollTop=l)),h&&nn){var L=h.style;L.marginTop=l<0?-l+"px":"",L[b]=d*y<0?-d*y+"px":""}if(p&&nn){var z=p.style;z.marginTop=l<0?-l+"px":"",z[b]=d*y<0?-d*y+"px":""}if(r){if((_||c)&&e._isDailyResolution){var E=function(F,N){if(F&&T){var I=F.offsetWidth,Y=F.style,A=Oe(De((d*y+I)/T),0,g-1);v[S][N+"Index"]!==v[A][N+"Index"]?Y[b]=-(d*y+I-v[A][N+"Index"]*T+1)+"px":Y[b]=""}};E(e._stickyDate,"date"),E(e._stickyMonth,"month"),E(e._stickyWeek,"week"),nn||(c&&(c.scrollLeft=d),_&&(_.scrollLeft=d))}(x!==n.batchIndexX||C!==n.batchIndexY||(e._stickyDate||e._stickyMonth||e._stickyWeek)&&S!==n.dayIndex)&&e.setState({batchIndexX:x,batchIndexY:C,dayIndex:S}),clearTimeout(e._scrollDebounce),e._scrollDebounce=setTimeout(function(){if(!e._isScrolling&&!e._viewChanged&&!e._hasResY){var F=v[S].date,N=e._time*(d*y-S*T)/T;e._hook("onActiveChange",{date:new Date(+F+e._startTime+N),scroll:!0})}},100),e._onMouseMove()}},e._setStickyHeader=function(t){e._stickyHeader=t},e._setStickyFooter=function(t){e._stickyFooter=t},e._setStickyDay=function(t){e._stickyDate=t},e._setStickyMonth=function(t){e._stickyMonth=t},e._setStickyWeek=function(t){e._stickyWeek=t},e._setCont=function(t){e._scrollCont=t},e._setResCont=function(t){e._resCont=t},e._setSidebarCont=function(t){e._sidebarCont=t},e._setGridCont=function(t){e._gridCont=t},e._setHeaderCont=function(t){e._headerCont=t},e._setFooterCont=function(t){e._footerCont=t},e._setCursorTimeCont=function(t){e._cursorTimeCont=t},e}return $(s,a),s.prototype._onParentClick=function(e,t){t.collapsed=!t.collapsed,this._hook(t.collapsed?"onResourceCollapse":"onResourceExpand",{domEvent:e,resource:t.id}),this._visibleResources=this._flattenResources(this._resourcesCopy,[],0),this._shouldCheckSize=!0,this._isParentClick=!0,this.forceUpdate()},s.prototype._render=function(e,t){a.prototype._render.call(this,e,t),clearTimeout(this._scrollDebounce);var n=this._prevS,r=this._eventMap,i=this._resourceTops,l=this._stepCell/6e4,d=De(this._startTime/6e4)%l,u=De(this._endTime/6e4)%l+1;if(this._stickyDay=this._days[t.dayIndex||0]||this._days[0],this._startCellStyle=d%l!=0?{width:(t.cellWidth||64)*((l-d)%l/l)+"px"}:void 0,this._endCellStyle=u%l!=0?{width:(t.cellWidth||64)*(u%l)/l+"px"}:void 0,e.connections===n.connections&&e.eventMap===n.eventMap&&e.theme===n.theme&&e.rtl===n.rtl||(this._calcConnections=!0),this._hasSlots&&(this._connections=void 0),this._calcConnections&&!this._hasSlots&&!this._shouldCheckSize&&i){for(var o=[],c=this._eventHeight,_=this._gridWidth,h=t.hasScrollY?this._gridHeight:t.scrollContHeight-t.headerHeight,p=1500/_,v=e.rtl===!0,g=v?-1:1,f=750/_*g,y=400/h*g,b=100*c/h,x=0,T=e.connections||[];x<T.length;x++){var S=T[x],w=r[S.from],C=r[S.to],k=S.arrow,L=S.color,z=S.cssClass||"",E=S.from+"__"+S.to,F=S.type||"fs";if(w&&C){var N=w.position,I=C.position,Y=N.width!==void 0,A=I.width!==void 0,q=w.resource,G=C.resource;if((Y||A)&&i[q]>=0&&i[G]>=0){var O=F==="fs"||F==="ff",R=F==="fs"||F==="ss",U=O?w.endDate:w.startDate,j=R?C.startDate:C.endDate,B=j<U,V=B?j:U,K=B?U:j,J=N.top||0,P=I.top||0,Q=v?"right":"left",Z=Y?+N[Q].replace("%",""):B?100:0,re=A?+I[Q].replace("%",""):B?0:100,pe=Y?+N.width.replace("%",""):0,de=Y?+I.width.replace("%",""):0,ee=i[G]-i[q],fe=!ee&&(F==="fs"&&B||F==="sf"&&!B||F==="ff"||F==="ss")&&P===J,we=O&&R?re-Z-pe-2*p:O&&!R?re-Z+(de-pe):!O&&R?re-Z:re-Z+de+2*p,xe=ee<0||!ee&&P<J?-1:1,Ye=100*(ee-J*c+P*c+(fe?c:0))/h,Ee=F==="fs"&&we<0||(F==="ff"||F==="ss")&&fe||F==="sf",Ce=F==="ss"&&B&&!Ee||F==="ff"&&!B&&!Ee||F==="sf"&&we<0,D=(v?100-Z:Z)+(O?pe*g:0),M=100*(i[q]+J*c+3+c/2)/h;if(Y&&(k==="from"||k==="bidirectional")){var H=O?f:-1*f;o.push({color:L,cssClass:"mbsc-connection-arrow "+z,endDate:K,fill:L,id:E+"__start",pathD:"M "+D+", "+M+" L "+(D+H)+" "+(M-y)+" L "+(D+H)+" "+(M+y)+" Z",startDate:V})}var X="M "+D+", "+M;D+=O?p*g:-p*g,Ce&&(D+=we*g),Ye&&(X+=" H "+D,Ce||(X+=" V "+(M+=Ye-(Ee?b/2:0)*xe))),Ce||(D+=we*g),Ye&&(X+=" H "+D,Ce&&(X+=" V "+(M+=Ye-(Ee?b/2:0)*xe))),Ye&&Ee&&(X+=" V "+(M+=b/2*xe*(fe?-1:1))),X+=" H "+(D+=R?p*g:-p*g),o.push({color:L,cssClass:z,id:E,pathD:X,startDate:V,endDate:K}),A&&(k==="to"||k==="bidirectional"||k===!0)&&(H=R?-1*f:f,o.push({color:L,cssClass:"mbsc-connection-arrow "+z,endDate:K,fill:L,id:E+"__end",pathD:"M "+D+", "+M+" L "+(D+H)+" "+(M-y)+" L "+(D+H)+" "+(M+y)+" Z",startDate:V}))}}}this._connections=o,this._calcConnections=!1}},s}(ur);function ol(a,s,e){var t,n,r,i,l=s.dragData,d=l&&l.draggedEvent&&l.draggedEvent.id,u=e._hasSlots,o=e._hb,c=e._rtl,_=e._times,h=e._theme,p=e._startTime,v=e._endTime,g=e._stepLabel,f=e._slots,y="timeline",b=a.eventList,x=a.type==="month",T=e._stepCell<864e5,S=e._startCellStyle,w=e._endCellStyle,C=e._daysBatch,k={height:s.headerHeight+"px"},L={height:s.footerHeight+"px"},z=e._days,E=e._daysNr,F=s.dayIndex||0,N=e._isDailyResolution,I=e._hasResY,Y=e._hasResources,A=a.renderHourFooter||a.renderDayFooter||a.renderQuarterFooter||a.renderWeekFooter||a.renderMonthFooter||a.renderYearFooter,q=e._hasRows,G=e._colClass,O=e._dragCol,R=((t={}).className="mbsc-connections"+h,t),U=((n={}).onMouseMove=e._onMouseMove,n.onMouseLeave=e._onMouseLeave,n),j=function(D,M){var H,X;if(e._displayTime&&e._timeLabels[M])if(a.renderHour){var ae=+D.date+M;le(H=a.renderHour({date:new Date(ae),events:D.eventMap[ae]||[],isActive:D.isActive}))&&(X=e._safeHtml(H),e._shouldEnhance=!0)}else H=e._timeLabels[M];return m("div",{key:M,"aria-hidden":"true",className:"mbsc-timeline-header-time mbsc-flex-1-1"+h,dangerouslySetInnerHTML:X},H)},B=function(D,M){var H,X;if(a.renderHourFooter&&e._displayTime&&e._timeLabels[M]){var ae=+D.date+M;le(H=a.renderHourFooter({date:new Date(ae),events:D.eventMap[ae]||[],isActive:D.isActive}))&&(X=e._safeHtml(H),e._shouldEnhance=!0)}return m("div",{key:M,className:"mbsc-timeline-footer-time mbsc-flex-1-1 "+h,dangerouslySetInnerHTML:X},H)},V=function(D,M){var H,X;return a.renderDay?le(H=a.renderDay({date:D.date,events:D.eventMap.all,isActive:D.isActive}))&&(X=e._safeHtml(H),e._shouldEnhance=!0):H=D.dateText,m("div",{ref:M?e._setStickyDay:void 0,"aria-hidden":"true",dangerouslySetInnerHTML:X,className:(M?"mbsc-timeline-header-text":"")+(D.isActive&&!a.renderDay?" mbsc-timeline-header-active":"")+(a.renderDay?" mbsc-timeline-header-date-cont":" mbsc-timeline-header-date-text")+h},H)},K=function(D,M){var H,X;return a.renderWeek?le(H=a.renderWeek({date:D.date,endDate:D.endDate,events:D.eventMap[D.timestamp]||[],isActive:D.isActive,startDate:D.date,weekNr:D.weekNr}))&&(X=e._safeHtml(H),e._shouldEnhance=!0):H=D.weekText,m("div",{ref:M?e._setStickyWeek:void 0,"aria-hidden":"true",dangerouslySetInnerHTML:X,className:(M?"mbsc-timeline-header-text":"")+(a.renderWeek?" mbsc-timeline-header-week-cont":" mbsc-timeline-header-week-text")+(D.lastOfWeek?"  mbsc-timeline-header-week-text-last":"")+h},H)},J=function(D){var M,H;return a.renderWeekFooter&&le(M=a.renderWeekFooter({date:D.date,endDate:D.endDate,events:D.eventMap[D.timestamp]||[],isActive:D.isActive,startDate:D.date,weekNr:D.weekNr}))&&(H=e._safeHtml(M),e._shouldEnhance=!0),m("div",{dangerouslySetInnerHTML:H,className:"mbsc-timeline-footer-week-cont"},M)},P=function(D,M){var H,X;return a.renderMonth?le(H=a.renderMonth({date:D.date,events:D.eventMap[D.timestamp]||[],isActive:D.isActive}))&&(X=e._safeHtml(H),e._shouldEnhance=!0):H=D.monthText,m("div",{ref:M?e._setStickyMonth:void 0,"aria-hidden":"true",dangerouslySetInnerHTML:X,className:(M?"mbsc-timeline-header-text":"")+(a.renderMonth?" mbsc-timeline-header-month-cont":" mbsc-timeline-header-month-text")+(D.lastOfMonth?" mbsc-timeline-header-month-text-last":"")+h},H)},Q=function(D){var M,H;return a.renderMonthFooter&&le(M=a.renderMonthFooter({date:D.date,events:D.eventMap[D.timestamp]||[],isActive:D.isActive}))&&(H=e._safeHtml(M),e._shouldEnhance=!0),m("div",{dangerouslySetInnerHTML:H,className:"mbsc-timeline-footer-month-cont"},M)},Z=function(D){var M,H;return a.renderQuarter&&le(M=a.renderQuarter({date:D.date,events:D.eventMap[D.timestamp]||[],isActive:D.isActive}))&&(H=e._safeHtml(M),e._shouldEnhance=!0),m("div",{"aria-hidden":"true",dangerouslySetInnerHTML:H,className:(a.renderQuarter?" mbsc-timeline-header-month-cont":" mbsc-timeline-header-month-text")+h},M)},re=function(D){var M,H;return a.renderQuarterFooter&&le(M=a.renderQuarterFooter({date:D.date,events:D.eventMap[D.timestamp]||[],isActive:D.isActive}))&&(H=e._safeHtml(M),e._shouldEnhance=!0),m("div",{dangerouslySetInnerHTML:H,className:"mbsc-timeline-footer-month-cont"},M)},pe=function(D){var M,H;return a.renderYear?le(M=a.renderYear({date:D.date,events:D.eventMap[D.timestamp]||[],isActive:D.isActive}))&&(H=e._safeHtml(M),e._shouldEnhance=!0):M=D.columnTitle,m("div",{"aria-hidden":"true",dangerouslySetInnerHTML:H,className:(D.isActive&&!a.renderYear?" mbsc-timeline-header-active":"")+(a.renderYear?" mbsc-timeline-header-year-cont":" mbsc-timeline-header-year-text")+h},M)},de=function(D){var M,H;return a.renderYearFooter&&le(M=a.renderYearFooter({date:D.date,events:D.eventMap[D.timestamp]||[],isActive:D.isActive}))&&(H=e._safeHtml(M),e._shouldEnhance=!0),m("div",{dangerouslySetInnerHTML:H,className:"mbsc-timeline-footer-year-cont"},M)},ee=function(D,M){var H,X,ae=D.isParent,ce=(M?M+"-":"")+D.id,_e=D.fixed&&!I,ge={background:D.background,minHeight:e._rowHeights[ce],top:_e?e._fixedResourceTops[ce]:void 0};return a.renderSidebar&&le(H=a.renderSidebar(D))&&(X=e._safeHtml(H),e._shouldEnhance=!0),ce!==e._dragRow&&m("div",{key:ce,className:"mbsc-timeline-sidebar-resource mbsc-timeline-row mbsc-flex-1-0"+(ae?" mbsc-timeline-parent mbsc-flex":"")+(_e?"  mbsc-timeline-row-fixed":"")+(D.cssClass?" "+D.cssClass:"")+h+c+o,style:ge},m("div",{className:"mbsc-timeline-sidebar-resource-title",dangerouslySetInnerHTML:X},H))},fe=function(D,M){var H,X=D.isParent,ae=e._hasHierarchy?1.75*D.depth+"em":void 0,ce=(M?M+"-":"")+D.id,_e=D.fixed&&!I,ge={background:D.background,minHeight:e._rowHeights[ce],paddingLeft:a.rtl?void 0:ae,paddingRight:a.rtl?ae:void 0,top:_e?e._fixedResourceTops[ce]+"px":void 0},ue=D.name;return a.renderResource&&le(ue=a.renderResource(D))&&(H=e._safeHtml(ue),e._shouldEnhance=!0),ce!==e._dragRow&&m("div",{key:ce,className:"mbsc-timeline-resource mbsc-timeline-row mbsc-flex-1-0"+(X?" mbsc-timeline-parent mbsc-flex":"")+(_e?" mbsc-timeline-row-fixed":"")+(D.cssClass?" "+D.cssClass:"")+h+c+o,style:ge},X&&m(yt,{className:"mbsc-timeline-resource-icon"+c+o,svg:D.collapsed?a.rtl?a.nextIconRtl:a.nextIcon:a.downIcon,theme:a.theme,onClick:function(Me){return e._onParentClick(Me,D)}}),m("div",{className:"mbsc-timeline-resource-title"+(X?" mbsc-flex-1-1":""),dangerouslySetInnerHTML:H},ue))},we=function(D,M,H,X,ae){var ce=D[M][He][ae||"all"],_e=[];if(ce)for(var ge=0,ue=ce.data;ge<ue.length;ge++){var Me=ue[ge];(X&&d===Me.id||e._batchStart<=Me.endDate&&e._batchEnd>Me.startDate)&&_e.push(Me)}return H(_e,ae||"all",M,He)},xe=function(D){return D.map(function(M,H){return m("div",{key:H,className:"mbsc-schedule-color mbsc-timeline-color"+M.cssClass+h,style:M.position},m("div",{className:"mbsc-schedule-color-text"},M.title))})},Ye=function(D){return D.map(function(M,H){return M.position&&m("div",{key:H,className:"mbsc-schedule-invalid mbsc-timeline-invalid"+M.cssClass+h,style:M.position},m("div",{className:"mbsc-schedule-invalid-text"},M.title))})},Ee=function(D,M,H,X){var ae=e._resourcesMap[H].eventResize,ce=H+"__"+X+"__"+M,_e=xn(l&&l.draggedEvent&&l.draggedEvent.original.resize,a.dragToResize,ae),ge={displayTimezone:a.displayTimezone,drag:a.dragToMove||a.externalDrag,endDay:a.endDay,eventHeight:e._setRowHeight?e._eventHeight:void 0,exclusiveEndDates:a.exclusiveEndDates,gridEndTime:v,gridStartTime:p,hasResY:I,isListing:b,isTimeline:!0,lastDay:+e._lastDay,render:a.renderEvent,renderBufferAfter:a.renderBufferAfter,renderBufferBefore:a.renderBufferBefore,renderContent:a.renderEventContent,resource:H,rtl:a.rtl,slot:X,startDay:a.startDay,theme:a.theme,timezonePlugin:a.timezonePlugin};return m(We,null,D.map(function(ue){return ue.position&&m(sn,W({},ge,{event:ue,inactive:d===ue.id,key:ue.uid,resize:xn(ue.original.resize,a.dragToResize,ae),selected:!(!a.selectedEventsMap[ue.uid]&&!a.selectedEventsMap[ue.id]),onClick:e._onEventClick,onDoubleClick:a.onEventDoubleClick,onRightClick:a.onEventRightClick,onHoverIn:a.onEventHoverIn,onHoverOut:a.onEventHoverOut,onDelete:a.onEventDelete,onDragStart:e._onEventDragStart,onDragMove:e._onEventDragMove,onDragEnd:e._onEventDragEnd,onDragModeOn:e._onEventDragModeOn,onDragModeOff:e._onEventDragModeOff}))}),l&&l.originDates&&l.originDates[ce]&&m(sn,W({},ge,{event:l.originDates[ce],hidden:l&&!!l.draggedDates,isDrag:!0,resize:_e,onDragStart:e._onEventDragStart,onDragMove:e._onEventDragMove,onDragEnd:e._onEventDragEnd,onDragModeOff:e._onEventDragModeOff})),l&&l.draggedDates&&l.draggedDates[ce]&&m(sn,W({},ge,{event:l.draggedDates[ce],isDrag:!0,resize:_e})))},Ce=function(D,M){var H=D.id,X=(M?M+"-":"")+H,ae=D.fixed&&!I;return m("div",{key:X,className:"mbsc-timeline-row mbsc-flex mbsc-flex-1-0"+(D.isParent?" mbsc-timeline-parent":"")+(ae?" mbsc-timeline-row-fixed":"")+(X===e._dragRow?" mbsc-timeline-hidden":"")+(D.cssClass?" "+D.cssClass:"")+h+o,style:{background:D.background,minHeight:e._rowHeights[X],top:ae?e._fixedResourceTops[X]+"px":void 0}},!u&&m(We,null,m("div",{className:"mbsc-timeline-events"},we(e._events,H,Ee,!0,M)),we(e._invalids,H,Ye,void 0,M),we(e._colors,H,xe,void 0,M)),m("div",{style:{width:e._placeholderSizeX+"px"},className:"mbsc-flex-none"}),C.map(function(ce){var _e,ge=ce.timestamp,ue=M||ce.dateKey;if(N)return m("div",{key:ge,className:"mbsc-timeline-day mbsc-flex"+h+c+o+(ue===O?" mbsc-timeline-hidden":"")+(ce.dateIndex<E-1&&(T||ce.lastOfMonth)?" mbsc-timeline-day-border":"")+(s.hasScrollX?" mbsc-flex-none":" mbsc-flex-1-0-0")+(x||e._isMulti?" mbsc-timeline-day-month":"")},f.map(function(ve){var ye=ve.id,Ie=e._events[H][ye][ue],be=e._colors[H][ye][ue],Se=e._invalids[H][ye][ue];return m("div",{key:ye,className:"mbsc-flex mbsc-flex-1-1"+(u?" mbsc-timeline-slot":"")},u&&m(We,null,m("div",{className:"mbsc-timeline-events"},Ee(Ie?Ie.data:[],ue,H,ye)),Se&&Ye(Se.data),be&&xe(be.data)),_.map(function(Ge,Ve){var Je,Ft=cr(ge,Ge),et=!Ve,Ae=Ve===_.length-1,it=((Je={}).onDoubleClick=function(je){return a.onCellDoubleClick({date:Ft,domEvent:je,resource:H,slot:ye,source:y})},Je.onContextMenu=function(je){return a.onCellRightClick({date:Ft,domEvent:je,resource:H,slot:ye,source:y})},Je);return m("div",W({key:Ve,className:"mbsc-timeline-column mbsc-flex-1-1"+h+c+o+(et&&!Ae&&S||Ae&&!et&&w?" mbsc-flex-none":""),onClick:function(je){return a.onCellClick({date:Ft,domEvent:je,resource:H,slot:ye,source:y})},style:et&&!Ae?S:Ae&&!et?w:void 0},it))}))}));var Me=ce.date,Ne=((_e={}).onDoubleClick=function(ve){return a.onCellDoubleClick({date:Me,domEvent:ve,resource:H,source:y})},_e.onContextMenu=function(ve){return a.onCellRightClick({date:Me,domEvent:ve,resource:H,source:y})},_e);return m("div",W({key:ge,className:"mbsc-timeline-day mbsc-timeline-column"+h+c+o+(ue===O?" mbsc-timeline-hidden":"")+(s.hasScrollX?" mbsc-flex-none":" mbsc-flex-1-0-0"),onClick:function(ve){return a.onCellClick({date:Me,domEvent:ve,resource:H,source:y})}},Ne))}))};return m("div",{ref:e._setEl,className:"mbsc-timeline mbsc-flex-1-1 mbsc-flex-col"+(s.cellWidth?"":" mbsc-hidden")+(e._hasSticky?" mbsc-has-sticky":"")+(q?"":" mbsc-timeline-no-rows")+(Y?"":" mbsc-timeline-no-resource")+h+c},m("div",{dangerouslySetInnerHTML:e.textParam}),m("div",{ref:e._setStickyHeader,className:"mbsc-timeline-header-sticky mbsc-flex"+h},q&&m("div",{className:"mbsc-timeline-resource-header-cont "+G+h+c+o,style:k},(a.renderResourceHeader&&le(r=a.renderResourceHeader())&&(i=e._safeHtml(r),e._shouldEnhance=!0),m("div",{className:"mbsc-timeline-resource-header",dangerouslySetInnerHTML:i},r))),N&&m("div",{className:"mbsc-flex-1-1"},!I&&m(We,null,e._isMulti&&m("div",{className:"mbsc-timeline-header-month mbsc-flex"+h+c+o},P(z[F]||z[0],!0)),a.weekNumbers&&m("div",{className:"mbsc-timeline-header-week mbsc-flex"+h+c+o},K(z[F]||z[0],!0)),(u||T)&&m("div",{className:"mbsc-timeline-header-date mbsc-flex"+h+c+o},V(z[F]||z[0],!0)))),q&&a.renderSidebar&&m("div",{className:"mbsc-timeline-sidebar-header-cont mbsc-timeline-sidebar-col"+h+c+o,style:k},function(){var D,M;return a.renderSidebarHeader&&le(D=a.renderSidebarHeader())&&(M=e._safeHtml(D),e._shouldEnhance=!0),m("div",{className:"mbsc-timeline-sidebar-header",dangerouslySetInnerHTML:M},D)}()),s.hasScrollY&&m("div",{className:"mbsc-schedule-fake-scroll-y"})),A&&m("div",{ref:e._setStickyFooter,className:"mbsc-timeline-footer-sticky mbsc-flex"+h},q&&m("div",{className:"mbsc-timeline-resource-footer-cont "+G+h+c+o,style:L},function(){var D,M;return a.renderResourceFooter&&le(D=a.renderResourceFooter())&&(M=e._safeHtml(D),e._shouldEnhance=!0),m("div",{className:"mbsc-timeline-resource-footer",dangerouslySetInnerHTML:M},D)}()),N&&m("div",{className:"mbsc-flex-1-1"}),q&&a.renderSidebar&&m("div",{className:"mbsc-timeline-sidebar-footer-cont mbsc-timeline-sidebar-col"+h+c+o,style:L},function(){var D,M;return a.renderSidebarFooter&&le(D=a.renderSidebarFooter())&&(M=e._safeHtml(D),e._shouldEnhance=!0),m("div",{className:"mbsc-timeline-sidebar-footer",dangerouslySetInnerHTML:M},D)}()),s.hasScrollY&&m("div",{className:"mbsc-schedule-fake-scroll-y"})),m("div",{ref:e._setCont,className:"mbsc-timeline-grid-scroll mbsc-flex-col mbsc-flex-1-1"+h+c+o,onScroll:e._onScroll},m("div",{className:"mbsc-flex-none",style:e._hasSticky?void 0:k}),m("div",{className:"mbsc-timeline-header mbsc-flex"+h+c+o,ref:e._setHeaderCont},q&&m("div",{className:"mbsc-timeline-resource-header-cont "+G+h+c+o}),m("div",{className:"mbsc-timeline-header-bg mbsc-flex-1-0 mbsc-flex"+h},m("div",{className:"mbsc-timeline-time-indicator-cont",style:{height:(s.scrollContHeight||0)-(s.headerHeight||0)+"px",width:s.hasScrollX?e._gridWidth+"px":void 0}},e._showTimeIndicator&&m(dr,{amText:a.amText,displayedTime:e._time,displayedDays:E,displayTimezone:a.displayTimezone,endDay:a.endDay,firstDay:e._firstDayTz,orientation:"y",pmText:a.pmText,rtl:a.rtl,startDay:a.startDay,startTime:p,theme:a.theme,timeFormat:a.timeFormat,timezonePlugin:a.timezonePlugin,hasResY:I}),e._showCursorTime&&m("div",{ref:e._setCursorTimeCont,className:"mbsc-schedule-cursor-time mbsc-schedule-cursor-time-y"+h})),m("div",{className:"mbsc-flex-none",style:{width:e._placeholderSizeX+"px"}}),m("div",{className:s.hasScrollX?"mbsc-flex-none":"mbsc-flex-1-1"},N?m(We,null,e._isMulti&&!I&&m("div",{className:"mbsc-flex"},C.map(function(D){var M=D.lastOfMonth;if(D.dateKey!==O)return m("div",{key:D.timestamp,className:"mbsc-timeline-month mbsc-flex-1-0-0"+h+c+o+(D.dateIndex<E-1&&M?" mbsc-timeline-day mbsc-timeline-day-border":"")},m("div",{className:"mbsc-timeline-header-month"+h+c+o+(M?" mbsc-timeline-header-month-last":"")},D.monthTitle&&P(D,!1)))})),a.weekNumbers&&m("div",{className:"mbsc-flex"},C.map(function(D){var M=D.lastOfWeek;if(D.dateKey!==O)return m("div",{key:D.timestamp,className:"mbsc-timeline-month mbsc-flex-1-0-0"+h+c+o+(D.dateIndex<E-1&&M&&(T||D.lastOfMonth)?" mbsc-timeline-day mbsc-timeline-day-border":"")},m("div",{className:"mbsc-timeline-header-week"+h+c+o+(M?" mbsc-timeline-header-week-last":"")},D.weekTitle&&K(D,!1)))})),m("div",{className:"mbsc-flex"},C.map(function(D){if(D.dateKey!==O)return m("div",{key:D.timestamp,className:"mbsc-timeline-day mbsc-flex-1-0-0"+h+c+o+(D.dateIndex<E-1&&(T||D.lastOfMonth)?" mbsc-timeline-day-border":"")+(x||e._isMulti?" mbsc-timeline-day-month":"")},!I&&m("div",{className:"mbsc-timeline-header-date"+h+c+o},V(D),D.label&&m("div",{className:"mbsc-hidden-content"},D.label)),u&&m("div",{className:"mbsc-flex mbsc-timeline-slots"+h},f.map(function(M){return m("div",{key:M.id,className:"mbsc-timeline-slot mbsc-timeline-slot-header mbsc-flex-1-1"+c+h},M.name&&function(H){var X,ae=H.slot,ce=ae.name;return a.renderSlot&&le(ce=a.renderSlot(H))&&(X=e._safeHtml(ce),e._shouldEnhance=!0),m("div",{key:ae.id,className:"mbsc-timeline-slot-title",dangerouslySetInnerHTML:X},ce)}({slot:M,date:D.date}))})),m("div",{"aria-hidden":"true",className:"mbsc-flex"},_.map(function(M,H){var X=!H,ae=H===_.length-1;return m("div",{key:H,style:X&&!ae?S:ae&&!X?w:void 0,className:"mbsc-flex mbsc-flex-1-1 mbsc-timeline-header-column"+h+c+o+(!e._displayTime||u?" mbsc-timeline-no-height":"")+(g>e._stepCell&&_[H+1]%g?" mbsc-timeline-no-border":"")+(X&&S||ae&&w?" mbsc-flex-none":"")},j(D,M),e._timesBetween.map(function(ce,_e){var ge=M+(_e+1)*g;return ge>p&&ge<v&&j(D,ge)}))})))}))):m("div",{className:"mbsc-flex"},C.map(function(D){if(D.dateKey!==O)return m("div",{key:D.timestamp,className:"mbsc-timeline-day mbsc-flex-1-0-0"+h+c+o},m("div",{className:"mbsc-timeline-header-week mbsc-timeline-header-week-last"+h+c+o},m("div",{className:"mbsc-timeline-header-week-text mbsc-timeline-header-week-text-last"+(D.isActive&&!(a.renderWeek||a.renderMonth||a.renderQuarter||a.renderYear)?" mbsc-timeline-header-active":"")+h},function(M){switch(a.resolution){case"week":if(a.renderWeek)return K(M,!1);break;case"month":if(a.renderMonth)return P(M,!1);break;case"quarter":if(a.renderQuarter)return Z(M);break;case"year":if(a.renderYear)return pe(M)}return M.columnTitle}(D))))})))),q&&a.renderSidebar&&m("div",{className:"mbsc-timeline-sidebar-header-cont mbsc-timeline-sidebar-col"+h+c+o})),m("div",{className:"mbsc-flex mbsc-flex-1-1"},m("div",{className:"mbsc-flex mbsc-flex-1-1"},q&&m("div",{className:"mbsc-timeline-resources mbsc-flex-col "+G+h+c,ref:e._setResCont},m("div",{className:"mbsc-flex-none",style:e._hasSideSticky?void 0:k}),m("div",{className:"mbsc-timeline-resource-bg mbsc-flex-1-1"+(e._hasHierarchy||s.hasScrollY?"":" mbsc-flex-col")+h},m("div",{style:{height:e._placeholderSizeY+"px"},className:"mbsc-flex-none"}),e._rowBatch.map(function(D){var M=D.day,H=M?M.dateKey:"";return!D.hidden&&M?Y?m("div",{key:H,className:"mbsc-timeline-row-group mbsc-flex mbsc-flex-1-0"+h+o},m("div",{className:"mbsc-timeline-row-date mbsc-timeline-row-date-col mbsc-flex-none"+c+h+o},V(M)),m("div",{className:"mbsc-timeline-row-resource-col mbsc-flex-1-1 mbsc-flex-col"},D.rows.map(function(X){return fe(X,H)}))):m("div",{key:H,className:"mbsc-timeline-row-date mbsc-flex-1-0"+c+h+o,style:{minHeight:e._rowHeights[H+"-"+He]}},V(M)):D.rows.map(function(X){return fe(X,H)})})),m("div",{className:"mbsc-flex-none",style:e._hasSideSticky?void 0:L})),q&&m("div",{className:e._hasSideSticky?"":G}),m("div",{className:"mbsc-timeline-hidden"},m("div",{className:"mbsc-timeline-row mbsc-timeline-empty-row"+h}),m("div",{className:"mbsc-timeline-row mbsc-timeline-parent mbsc-timeline-empty-parent"+h}),m("div",{className:"mbsc-timeline-row-gutter"+h})),m("div",W({className:"mbsc-timeline-grid mbsc-flex-1-0"+(e._hasHierarchy||s.hasScrollY?"":" mbsc-flex-col"),ref:e._setGridCont,style:{height:s.hasScrollY?e._gridHeight+"px":void 0,width:s.hasScrollX?e._gridWidth+"px":void 0}},U),m("div",{style:{height:e._placeholderSizeY+"px"},className:"mbsc-flex-none"}),e._rowBatch.map(function(D){var M=D.day,H=M?M.dateKey:"";return M&&Y?m("div",{key:H,className:"mbsc-timeline-row-group mbsc-flex-col mbsc-flex-1-0"+h+o},D.rows.map(function(X){return Ce(X,H)})):m(We,{key:H},D.rows.map(function(X){return Ce(X,H)}))}),e._connections&&m("svg",W({viewBox:"0 0 100 100",preserveAspectRatio:"none"},R),e._connections.map(function(D){var M,H=((M={}).className="mbsc-connection "+D.cssClass+h,M.d=D.pathD,M.style={stroke:D.color,fill:D.fill},M["vector-effect"]="non-scaling-stroke",M);return Xt(e._batchStart,e._batchEnd,D.startDate,D.endDate,!0)&&m("path",W({key:D.id},H))}))),q&&a.renderSidebar&&m("div",{className:"mbsc-timeline-sidebar mbsc-timeline-sidebar-col mbsc-flex-col"+h+c,ref:e._setSidebarCont},m("div",{className:"mbsc-flex-none",style:e._hasSideSticky?void 0:k}),m("div",{className:"mbsc-timeline-resource-bg mbsc-flex-1-1"+(e._hasHierarchy||s.hasScrollY?"":" mbsc-flex-col")+h},m("div",{style:{height:e._placeholderSizeY+"px"},className:"mbsc-flex-none"}),e._rowBatch.map(function(D){var M=D.day,H=M?M.dateKey:"";return M&&Y?m("div",{key:H,className:"mbsc-timeline-row-group mbsc-flex-col mbsc-flex-1-0"+h+o},D.rows.map(function(X){return ee(X,H)})):D.rows.map(function(X){return ee(X,H)})})),m("div",{className:"mbsc-flex-none",style:e._hasSideSticky?void 0:L})),q&&a.renderSidebar&&m("div",{className:e._hasSideSticky?"":"mbsc-timeline-sidebar-col"}))),A&&m(We,null,m("div",{className:"mbsc-flex-none",style:e._hasSticky?void 0:L}),m("div",{className:"mbsc-timeline-footer mbsc-flex"+h+c+o,ref:e._setFooterCont},q&&m("div",{className:"mbsc-timeline-resource-footer-cont "+G+h+c+o}),m("div",{className:"mbsc-timeline-footer-bg mbsc-flex-1-0 mbsc-flex"+h},m("div",{className:"mbsc-flex-none",style:{width:e._placeholderSizeX+"px"}}),m("div",{className:s.hasScrollX?"mbsc-flex-none":"mbsc-flex-1-1"},m("div",{className:"mbsc-flex"},C.map(function(D){if(D.dateKey!==O)return N?m("div",{key:D.timestamp,className:"mbsc-timeline-day mbsc-flex-1-0-0"+h+c+o+(D.dateIndex<E-1&&(T||D.lastOfMonth)?" mbsc-timeline-day-border":"")+(x||e._isMulti?" mbsc-timeline-day-month":"")},m("div",{className:"mbsc-flex"},_.map(function(M,H){var X=!H,ae=H===_.length-1;return m("div",{key:H,style:X&&!ae?S:ae&&!X?w:void 0,className:"mbsc-flex mbsc-flex-1-1 mbsc-timeline-column mbsc-timeline-footer-column"+h+c+o+(!e._displayTime||u?" mbsc-timeline-no-height":"")+(g>e._stepCell&&_[H+1]%g?"mbsc-timeline-no-border":"")+(X&&!ae&&S||ae&&!X&&w?" mbsc-flex-none":"")},B(D,M),e._timesBetween.map(function(ce,_e){var ge=M+(_e+1)*g;return ge>p&&ge<v&&B(D,ge)}))})),a.renderDayFooter&&m("div",{className:"mbsc-timeline-footer-date"+h+c+o},function(M){var H,X;return a.renderDayFooter&&le(H=a.renderDayFooter({date:M.date,events:M.eventMap.all}))&&(X=e._safeHtml(H),e._shouldEnhance=!0),m("div",{className:"mbsc-timeline-footer-date-cont",dangerouslySetInnerHTML:X},H)}(D)),u&&m("div",{className:"mbsc-flex"},f.map(function(M){return m("div",{key:M.id,className:"mbsc-timeline-slot mbsc-flex-1-1"+c+h})}))):m("div",{key:D.timestamp,className:"mbsc-timeline-day mbsc-flex-1-0-0"+h+c+o},m("div",{className:"mbsc-timeline-footer-week mbsc-timeline-footer-week-last"+h+c+o},m("div",{className:"mbsc-timeline-footer-week-text"+h},function(M){switch(a.resolution){case"week":if(a.renderWeekFooter)return J(M);break;case"month":if(a.renderMonthFooter)return Q(M);break;case"quarter":if(a.renderQuarterFooter)return re(M);break;case"year":if(a.renderYearFooter)return de(M)}}(D))))})))),q&&a.renderSidebar&&m("div",{className:"mbsc-timeline-sidebar-footer-cont mbsc-timeline-sidebar-col"+h+c+o})))),l&&!s.isTouchDrag&&m("div",{className:"mbsc-calendar-dragging"}))}var ll=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s.prototype._template=function(e,t){return ol(e,t,this)},s}(rl);function Ci(a,s,e,t,n,r,i){var l,d=!a._colorEventList,u=r?"popover":"agenda",o=!r||a.state.showPopover,c=a._theme,_=i?i.eventContent:n.renderEventContent,h=i?i.event:n.renderEvent,p=r?a.state.popoverHost:void 0,v=s.original,g={__html:s.html},f=_?_(s):m("div",{className:"mbsc-event-text "+c,title:s.tooltip,dangerouslySetInnerHTML:g},void 0);le(f)?(f=m("div",{className:"mbsc-event-content mbsc-flex-1-1 "+c,dangerouslySetInnerHTML:{__html:f}}),a._shouldEnhance=o&&u):f=m("div",{className:"mbsc-event-content mbsc-flex-1-1 "+c},f);var y=h?h(s):m(We,null,m("div",{className:"mbsc-event-color"+c+a._rtl,style:s.style}),f,m("div",{className:"mbsc-event-time"+(p?" mbsc-event-date":"")+c+a._rtl},s.allDayText&&m("div",{className:"mbsc-event-all-day"+c},s.allDayText),s.lastDay&&m("div",{className:"mbsc-event-until"+c},s.lastDay),s.start&&m("div",{className:"mbsc-event-start"+c},s.start),s.start&&s.end&&m("div",{className:"mbsc-event-sep"+c},"-"),s.end&&m("div",{className:"mbsc-event-end"+c},s.end)));return le(y)&&(l={__html:y},y=void 0,a._shouldEnhance=o&&u),m(tl,{className:"mbsc-event"+(d?"":" mbsc-colored-event")+(v.cssClass?" "+v.cssClass:""),"data-id":v.id,key:e,actionable:n.actionableEvents,dangerouslySetInnerHTML:l,drag:r&&(a._showEventLabels||p)&&(n.dragToMove||n.externalDrag),event:v,eventData:s,rtl:n.rtl,selected:!(!a._selectedEventsMap[s.uid]&&!a._selectedEventsMap[s.id]),style:d?void 0:s.style,theme:n.theme,themeVariant:n.themeVariant,onClick:function(b){return a._onEventClick({date:t,domEvent:b.domEvent,event:v,source:u})},onDoubleClick:function(b){return a._onEventDoubleClick({date:t,domEvent:b,event:v,source:u})},onContextMenu:function(b){return a._onEventRightClick({date:t,domEvent:b,event:v,source:u})},onHoverIn:function(b){var x=b.domEvent;return a._onEventHoverIn({date:t,domEvent:x,event:v,source:u})},onHoverOut:function(b){var x=b.domEvent;return a._onEventHoverOut({date:t,domEvent:x,event:v,source:u})},onDelete:a._onEventDelete,onDragEnd:p?p._onEventDragEnd:a._onLabelUpdateEnd,onDragModeOff:p?p._onEventDragModeOff:a._onLabelUpdateModeOff,onDragModeOn:p?p._onEventDragModeOn:a._onLabelUpdateModeOn,onDragMove:p?p._onEventDragMove:a._onLabelUpdateMove,onDragStart:p?p._onEventDragStart:a._onLabelUpdateStart},y)}function cl(a,s,e,t){var n;e._listDays||(e._listDays={}),e._showEventList&&(n=function(l,d,u){var o,c=l.theme,_=d._listDays,h=d.state.eventList||[],p=u?u.agenda:l.renderAgenda,v=u?u.agendaEmpty:l.renderAgendaEmpty;if(p&&d._eventListHTML===void 0)return p(h,l,_);if(!h.length){var g=v&&v(),f=le(g)&&{__html:g};f?(o=m("div",{dangerouslySetInnerHTML:f}),d._shouldEnhance=d._list):o=m("div",{className:g?"":"mbsc-event-list-empty"+d._theme},g||l.noEventsText)}return m(Di,{theme:c,themeVariant:l.themeVariant,rtl:l.rtl},!h.length&&o,h.map(function(y,b){return m("div",{className:"mbsc-event-group"+d._theme,key:b,ref:function(x){return _[y.timestamp]=x}},(d._eventListType!=="day"||d._eventListSize>1)&&m(el,{theme:c,themeVariant:l.themeVariant,className:"mbsc-event-day"},y.date),y.events.map(function(x,T){return Ci(d,x,T,y.timestamp,l,void 0,u)}))}))}(a,e,t),le(n)&&(e._eventListHTML={__html:n},e._shouldLoadDays=!0,e._shouldEnhance=!0,n=void 0));var r={amText:a.amText,clickToCreate:a.clickToCreate,dataTimezone:a.dataTimezone,dateFormat:a.dateFormat,dayNames:a.dayNames,dayNamesMin:a.dayNamesMin,dayNamesShort:a.dayNamesShort,displayTimezone:a.displayTimezone,dragBetweenResources:a.dragBetweenResources,dragInTime:a.dragInTime,dragToCreate:a.dragToCreate,dragToResize:a.dragToResize,eventMap:e._eventMap,eventOrder:a.eventOrder,exclusiveEndDates:a.exclusiveEndDates,firstDay:a.firstDay,fromText:a.fromText,getDate:a.getDate,getDay:a.getDay,getMaxDayOfMonth:a.getMaxDayOfMonth,getMonth:a.getMonth,getWeekNumber:a.getWeekNumber,getYear:a.getYear,monthNames:a.monthNames,monthNamesShort:a.monthNamesShort,onActiveChange:e._onActiveChange,onEventDragEnter:e._onEventDragEnter,onEventDragLeave:e._onEventDragLeave,pmText:a.pmText,refDate:e._refDate,renderDay:t?t.day:a.renderDay,rtl:a.rtl,selectedEventsMap:e._selectedEventsMap,showEventTooltip:a.showEventTooltip,theme:a.theme,themeVariant:a.themeVariant,timeFormat:a.timeFormat,timezonePlugin:a.timezonePlugin,toText:a.toText},i=W({},r,{allDayText:a.allDayText,checkSize:e._checkSize,colorsMap:e._colorsMap,currentTimeIndicator:e._currentTimeIndicator,dateFormatFull:a.dateFormatFull,dateFormatLong:a.dateFormatLong,dragTimeStep:e._dragTimeStep,dragToMove:a.dragToMove,eventDragEnd:e._onEventDragStop,eventOverlap:a.eventOverlap,extendDefaultEvent:a.extendDefaultEvent,externalDrag:a.externalDrag,externalDrop:a.externalDrop,groupBy:a.groupBy,height:s.height,immutableData:a.immutableData,invalidateEvent:a.invalidateEvent,invalidsMap:e._invalidsMap,maxDate:e._maxDate,minDate:e._minDate,moreEventsPluralText:a.moreEventsPluralText,moreEventsText:a.moreEventsText,navService:e._navService,navigateToEvent:e._navigateToEvent,newEventText:a.newEventText,onCellClick:e._onCellClick,onCellDoubleClick:e._onCellDoubleClick,onCellRightClick:e._onCellRightClick,onEventClick:e._onEventClick,onEventDelete:e._onEventDelete,onEventDoubleClick:e._onEventDoubleClick,onEventDragEnd:e._onEventDragEnd,onEventDragStart:e._onEventDragStart,onEventHoverIn:e._onEventHoverIn,onEventHoverOut:e._onEventHoverOut,onEventRightClick:e._onEventRightClick,onMoreClick:e._onMoreClick,onPopoverClose:e._onPopoverClose,renderBufferAfter:t?t.bufferAfter:a.renderBufferAfter,renderBufferBefore:t?t.bufferBefore:a.renderBufferBefore,renderEvent:t?t.scheduleEvent:a.renderScheduleEvent,renderEventContent:t?t.scheduleEventContent:a.renderScheduleEventContent,renderResource:t?t.resource:a.renderResource,resources:a.resources,scroll:e._shouldScrollSchedule,selected:e._selectedDateTime,showEventBuffer:a.showEventBuffer,width:s.width});return m(Ho,W({ref:e._setEl},r,{activeDate:e._active,calendarScroll:e._calendarScroll,calendarType:e._calendarType,colors:a.colors,context:a.context,cssClass:e._cssClass,downIcon:a.downIcon,dragData:s.labelDragData,dragToMove:a.dragToMove||a.externalDrag,endDay:e._rangeEndDay,eventRange:e._rangeType,eventRangeSize:e._showSchedule?e._scheduleSize:e._showTimeline?e._timelineSize:e._eventListSize,hasContent:e._showEventList||e._showSchedule||e._showTimeline,hasPicker:!0,height:a.height,invalid:a.invalid,instanceService:e._instanceService,labels:a.labels,labelList:e._calendarLabelList,labelsMap:e._labelsMap,marked:a.marked,marksMap:e._marksMap,max:a.max,min:a.min,mouseSwipe:!a.dragToCreate&&a.clickToCreate!=="single"||!e._showEventLabels&&!e._showEventCount,mousewheel:a.mousewheel,navService:e._navService,navView:e._navView,nextIconH:a.nextIconH,nextIconV:a.nextIconV,nextPageText:a.nextPageText,noOuterChange:!e._showEventList,onCellHoverIn:e._onCellHoverIn,onCellHoverOut:e._onCellHoverOut,onDayClick:e._onDayClick,onDayDoubleClick:e._onDayDoubleClick,onDayRightClick:e._onDayRightClick,onGestureStart:e._onGestureStart,onLabelClick:e._onLabelClick,onLabelDoubleClick:e._onLabelDoubleClick,onLabelRightClick:e._onLabelRightClick,onLabelHoverIn:e._onLabelHoverIn,onLabelHoverOut:e._onLabelHoverOut,onLabelDelete:e._onEventDelete,onLabelUpdateStart:e._onLabelUpdateStart,onLabelUpdateMove:e._onLabelUpdateMove,onLabelUpdateEnd:e._onLabelUpdateEnd,onLabelUpdateModeOn:e._onLabelUpdateModeOn,onLabelUpdateModeOff:e._onLabelUpdateModeOff,onPageChange:e._onPageChange,onPageLoaded:e._onPageLoaded,onPageLoading:e._onPageLoading,onResize:e._onResize,pageLoad:e._pageLoad,prevIconH:a.prevIconH,prevIconV:a.prevIconV,prevPageText:a.prevPageText,resourcesMap:e._resourcesMap,responsiveStyle:!0,renderHeader:t?t.header:a.renderHeader,renderDayContent:t?t.dayContent:a.renderDayContent,renderLabel:t?t.label:a.renderLabel,renderLabelContent:t?t.labelContent:a.renderLabelContent,selectedDates:e._selectedDates,selectView:"page",showCalendar:e._showCalendar,showControls:a.showControls,showLabelCount:e._showEventCount,showOuterDays:e._showOuterDays,showSchedule:e._showSchedule||e._showTimeline,showToday:a.showToday,showWeekNumbers:e._showWeekNumbers,size:e._calendarSize,startDay:e._rangeStartDay,swipe:!s.isTouchDrag,upIcon:a.upIcon,valid:a.valid,weeks:e._calendarSize,width:a.width,eventText:a.eventText,eventsText:a.eventsText,fromText:a.fromText,moreEventsPluralText:a.moreEventsPluralText,moreEventsText:a.moreEventsText,todayText:a.todayText,toText:a.toText,weekText:a.weekText,yearSuffix:a.yearSuffix}),e._showDate&&m("div",{className:"mbsc-schedule-date-header mbsc-flex"+e._theme+e._hb},e._showSchedule&&!e._showCalendar&&a.resources&&m("div",{className:"mbsc-schedule-time-col"}),m("div",{className:"mbsc-schedule-date-header-text mbsc-flex-1-1"+e._theme},e._selectedDateHeader),e._showSchedule&&!e._showCalendar&&a.resources&&m("div",{className:"mbsc-schedule-fake-scroll-y"})),e._showEventList&&m("div",{className:"mbsc-flex-1-1 mbsc-event-list"+(s.isListScrollable?" mbsc-event-list-scroll":""),dangerouslySetInnerHTML:e._eventListHTML,onScroll:e._onScroll,ref:e._setList},n),e._showSchedule&&m(il,W({},i,{endDay:e._scheduleEndDay,endTime:e._scheduleEndTime,maxEventStack:e._scheduleMaxEventStack,minEventWidth:e._scheduleMinEventWidth,renderDayContent:t?t.dayContent:a.renderDayContent,showAllDay:e._showScheduleAllDay,showDays:e._showScheduleDays,size:e._scheduleSize,startDay:e._scheduleStartDay,startTime:e._scheduleStartTime,timeCellStep:e._scheduleTimeCellStep,timeLabelStep:e._scheduleTimeLabelStep,timezones:e._scheduleTimezones,type:e._scheduleType,onWeekDayClick:e._onWeekDayClick})),e._showTimeline&&m(ll,W({},i,{connections:a.connections,downIcon:a.chevronIconDown,dragBetweenSlots:a.dragBetweenSlots,dragToCreate:!a.slots&&a.dragToCreate,dragToResize:!a.slots&&a.dragToResize,endDay:e._timelineEndDay,endTime:e._timelineEndTime,eventList:e._timelineListing,maxEventStack:e._timelineMaxEventStack,nextIcon:a.nextIconH,nextIconRtl:a.prevIconH,onResourceCollapse:e._proxy,onResourceExpand:e._proxy,quarterText:a.quarterText,renderDayFooter:t?t.dayFooter:a.renderDayFooter,renderHour:t?t.hour:a.renderHour,renderHourFooter:t?t.hourFooter:a.renderHourFooter,renderMonth:t?t.month:a.renderMonth,renderMonthFooter:t?t.monthFooter:a.renderMonthFooter,renderQuarter:t?t.quarter:a.renderQuarter,renderQuarterFooter:t?t.quarterFooter:a.renderQuarterFooter,renderWeek:t?t.week:a.renderWeek,renderWeekFooter:t?t.weekFooter:a.renderWeekFooter,renderYear:t?t.year:a.renderYear,renderYearFooter:t?t.yearFooter:a.renderYearFooter,renderResourceFooter:t?t.resourceFooter:a.renderResourceFooter,renderResourceHeader:t?t.resourceHeader:a.renderResourceHeader,renderSidebar:t?t.sidebar:a.renderSidebar,renderSidebarFooter:t?t.sidebarFooter:a.renderSidebarFooter,renderSidebarHeader:t?t.sidebarHeader:a.renderSidebarHeader,renderSlot:t?t.slot:a.renderSlot,resolution:e._timelineResolution,resolutionVertical:e._timelineResolutionVertical,rowHeight:e._timelineRowHeight,weekNumbers:e._showTimelineWeekNumbers,weekText:a.weekText,size:e._timelineSize,slots:a.slots,startDay:e._timelineStartDay,startTime:e._timelineStartTime,timeCellStep:e._timelineTimeCellStep,timeLabelStep:e._timelineTimeLabelStep,type:e._timelineType,virtualScroll:!e._print&&e._timelineVirtualScroll})),m(ar,{anchor:e._anchor,closeOnScroll:!0,contentPadding:!1,context:s.popoverContext||a.context,cssClass:"mbsc-calendar-popup "+(s.popoverHidden?"mbsc-popover-hidden ":"")+e._popoverClass,display:"anchored",isOpen:s.showPopover,locale:a.locale,maxHeight:"24em",onClose:e._onPopoverClose,rtl:a.rtl,scrollLock:!1,showOverlay:!1,theme:a.theme,themeVariant:a.themeVariant},s.popoverList&&m(Di,{ref:e._setPopoverList,theme:a.theme,themeVariant:a.themeVariant,rtl:a.rtl,className:"mbsc-popover-list"},s.popoverList.map(function(l,d){return Ci(e,l,d,s.popoverDate,a,!0,t)}))),s.labelDragData&&s.labelDragData.draggedEvent&&!s.isTouchDrag&&m("div",{className:"mbsc-calendar-dragging"}))}var dl=function(a){function s(){var e=a!==null&&a.apply(this,arguments)||this;return e._instanceService=new mo,e}return $(s,a),s.prototype._template=function(e,t){return cl(e,t,this)},s}(Qo),ul={before:function(a,s){s.selectedDate&&(s.defaultSelectedDate=s.selectedDate,delete s.selectedDate)}},hl={before:function(a,s){s.element=a}},ml=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s._selector="[mbsc-draggable]",s._renderOpt=hl,s}(function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s.prototype._template=function(e){return e.children||""},s}(Jo));var _l={before:function(a,s){s.element=a}},pl=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s._selector="[mbsc-dropcontainer]",s._renderOpt=_l,s}(function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s.prototype._template=function(e){return e.children||""},s}(function(a){function s(){var e=a!==null&&a.apply(this,arguments)||this;return e._onExternalDrag=function(t){var n,r=e.s.element||e._el,i=function(){return t.endY<e._elBottom&&t.endY>e._elTop&&t.endX>e._elLeft&&t.endX<e._elRight};switch(t.eventName){case"onDragStart":if(r){var l=r.getBoundingClientRect();e._elTop=l.top,e._elBottom=l.bottom,e._elLeft=l.left,e._elRight=l.right,e._isItemIn=e._isOwner=i()}break;case"onDragMove":(n=i())&&!e._isItemIn?e._hook("onItemDragEnter",{clone:t.clone,data:t.dragData,domEvent:t.domEvent}):!n&&e._isItemIn&&e._hook("onItemDragLeave",{clone:t.clone,data:t.dragData,domEvent:t.domEvent}),e._isItemIn=n;break;case"onDragEnd":e._isItemIn&&!e._isOwner&&(t.from&&(t.from._eventDropped=!0),e._hook("onItemDrop",{clone:t.clone,data:t.dragData,domEvent:t.domEvent})),e._isItemIn=!1}},e}return $(s,a),s.prototype._mounted=function(){this._unsubscribe=fs(this._onExternalDrag)},s.prototype._destroy=function(){this._unsubscribe&&vs(this._unsubscribe)},s._name="Dropcontainer",s}(Fe)));var hr=Bo(dl,ul),fl=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s._selector="[mbsc-button]",s._renderOpt=fo,s}(ct);var vl=function(a){function s(){var e=a!==null&&a.apply(this,arguments)||this;return e._onChange=function(t){var n=e.s,r=t.target.checked;n.checked===void 0&&e.setState({checked:r}),e._change(r),n.onChange&&n.onChange(t)},e._setInput=function(t){e._input=t},e}return $(s,a),s.prototype._change=function(e){},s.prototype._mounted=function(){var e=this;this._unlisten=$e(this._input,{click:!0,onBlur:function(){e.setState({hasFocus:!1})},onFocus:function(){e.setState({hasFocus:!0})},onPress:function(){e.setState({isActive:!0})},onRelease:function(){e.setState({isActive:!1})}})},s.prototype._render=function(e,t){var n=e.disabled===void 0?t.disabled:Qe(e.disabled),r=e.position==="start"?e.rtl?"right":"left":e.rtl?"left":"right",i=e.modelValue!==void 0?e.modelValue:e.checked;this._disabled=n,this._checked=i!==void 0?Qe(i):t.checked===void 0?Qe(e.defaultChecked):t.checked,this._cssClass="mbsc-checkbox mbsc-form-control-wrapper mbsc-font "+this._className+this._theme+this._rtl+this._hb+" mbsc-checkbox-"+r+(n?" mbsc-disabled":""),this._boxClass="mbsc-checkbox-box"+this._theme+" mbsc-checkbox-box-"+r+(t.hasFocus&&!n?" mbsc-focus":"")+(t.isActive&&!n?" mbsc-active":"")+(e.color?" mbsc-checkbox-box-"+e.color:"")+(n?" mbsc-disabled":"")+(this._checked?" mbsc-checked":"")},s.prototype._destroy=function(){this._unlisten&&this._unlisten()},s.defaults={position:"start"},s._name="Checkbox",s}(Fe),gl={hasChildren:!0,parentClass:"mbsc-form-control-label",readProps:["disabled"],renderToParent:!0,before:function(a,s){s.defaultChecked=a.checked}},yl=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s._selector="[mbsc-checkbox]",s._renderOpt=gl,s}(function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),Object.defineProperty(s.prototype,"checked",{get:function(){return this._checked},set:function(e){this._checked=e,this.setState({checked:e})},enumerable:!0,configurable:!0}),s.prototype._template=function(e){return function(t,n,r){var i=n.props;i.children,i.className,i.color,i.defaultChecked;var l=i.description,d=i.hasChildren;i.inputStyle;var u=i.label;i.modelValue,i.onChange,i.position,i.rtl,i.theme,i.themeVariant;var o=dt(i,["children","className","color","defaultChecked","description","hasChildren","inputStyle","label","modelValue","onChange","position","rtl","theme","themeVariant"]);return m("label",{className:n._cssClass},m("input",W({type:"checkbox",className:"mbsc-form-control-input mbsc-reset",onChange:n._onChange,disabled:n._disabled,checked:n._checked,ref:n._setInput},o)),m("span",{className:n._boxClass}),(u||d)&&m("span",{className:"mbsc-form-control-label"+n._theme+(n._disabled?" mbsc-disabled":"")},u),l&&m("span",{className:"mbsc-description"+n._theme+(n._disabled?" mbsc-disabled":"")},l),r)}(0,this,e.children)},s}(vl));var bl=function(a){function s(){var e=a!==null&&a.apply(this,arguments)||this;return e._tag="select",e}return $(s,a),s._name="Dropdown",s}(hs),xl=function(a){function s(){var e=a!==null&&a.apply(this,arguments)||this;return e._tag="textarea",e}return $(s,a),s._name="Textarea",s}(hs),Dl=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s._selector="[mbsc-input]",s._renderOpt=ms,s}(hs),Tl=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s._selector="[mbsc-dropdown]",s._renderOpt=Yo,s}(bl),Sl=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s._selector="[mbsc-textarea]",s._renderOpt=Oo,s}(xl);var Wl=qe&&!!ke.Promise;var Cl={hasChildren:!0,parentClass:"mbsc-page",before:function(a,s){s.tag=a.nodeName.toLowerCase()}},wl=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s._selector="[mbsc-page]",s._renderOpt=Cl,s}(function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s.prototype._template=function(e){return function(t,n,r){return m(t.tag||"div",{className:n._cssClass,ref:n._setEl},r)}(e,this,e.children)},s}(function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s.prototype._render=function(e){this._cssClass="mbsc-page mbsc-font "+this._className+this._theme+this._rtl},s.defaults={},s._name="Page",s}(Fe)));var kl=1,Ml={hasChildren:!0,parentClass:"mbsc-form-control-label",readAttrs:["value"],readProps:["disabled","name"],renderToParent:!0,before:function(a,s){s.defaultChecked=a.checked}},El=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s._selector="[mbsc-radio]",s._renderOpt=Ml,s}(function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),Object.defineProperty(s.prototype,"checked",{get:function(){return this._checked},set:function(e){this._checked=e,this._toggle(e)},enumerable:!0,configurable:!0}),s.prototype._template=function(e,t){var n=this;return m(_s.Consumer,null,function(r){return function(i,l,d,u){var o=l.props;o.children,o.className,o.color,o.defaultChecked;var c=o.description,_=o.hasChildren,h=o.label;o.modelValue,o.onChange,o.position,o.rtl,o.theme,o.themeVariant;var p=dt(o,["children","className","color","defaultChecked","description","hasChildren","label","modelValue","onChange","position","rtl","theme","themeVariant"]);return l._groupOptions(u),m("label",{className:l._cssClass},m("input",W({checked:l._checked,className:"mbsc-form-control-input mbsc-reset",disabled:l._disabled,name:l._name,onChange:l._onChange,type:"radio",value:l._value,ref:l._setInput},p)),m("span",{className:l._boxClass}),(h||_)&&m("span",{className:"mbsc-form-control-label"+l._theme+(l._disabled?" mbsc-disabled":"")},h),c&&m("span",{className:"mbsc-description"+l._theme+(l._disabled?" mbsc-disabled":"")},c),d)}(0,n,e.children,r)})},s}(function(a){function s(){var e=a!==null&&a.apply(this,arguments)||this;return e._setInput=function(t){e._input=t},e._onChange=function(t){var n=e.s,r=t.target.checked;e._change(r),e._onGroupChange&&e._onGroupChange(t,e._value),e._toggle(r),n.onChange&&n.onChange(t)},e._onValueChange=function(t){var n=e.s,r=t===e._value;n.checked===void 0&&e.setState({checked:r}),e._change(r)},e}return $(s,a),s.prototype._change=function(e){},s.prototype._groupOptions=function(e){var t=e.color,n=e.disabled,r=e.name,i=e.onChange,l=e.position,d=e.rtl,u=e.value,o=this.s,c=this.state,_=d===void 0?o.rtl:d,h=t===void 0?o.color:t,p=(l===void 0?o.position:l)==="start"?o.rtl?"right":"left":o.rtl?"left":"right",v=n===void 0?o.disabled===void 0?c.disabled:Qe(o.disabled):Qe(n),g=o.modelValue!==void 0?o.modelValue===o.value:o.checked,f=g!==void 0?Qe(g):c.checked===void 0?Qe(o.defaultChecked):c.checked;this._id=o.id===void 0?this._id||"mbsc-radio-"+kl++:o.id,this._value=o.value===void 0?this._id:o.value,this._onGroupChange=i,this._name=r===void 0?o.name:r,this._rtl=_?" mbsc-rtl":" mbsc-ltr",this._checked=u===void 0?f:u===this._value,this._disabled=v,this._cssClass="mbsc-radio mbsc-form-control-wrapper mbsc-font "+this._className+this._theme+this._rtl+this._hb+" mbsc-radio-"+p+(v?" mbsc-disabled":""),this._boxClass="mbsc-radio-box"+this._theme+" mbsc-radio-box-"+p+(c.hasFocus&&!v?" mbsc-focus":"")+(c.isActive&&!v?" mbsc-active":"")+(h?" mbsc-radio-box-"+h:"")+(v?" mbsc-disabled":"")+(this._checked?" mbsc-checked":"")},s.prototype._toggle=function(e){this.s.checked===void 0&&this.setState({checked:e}),e&&ps(this._name,this._value)},s.prototype._mounted=function(){var e=this;this._unlisten=$e(this._input,{click:!0,onBlur:function(){e.setState({hasFocus:!1})},onFocus:function(){e.setState({hasFocus:!0})},onPress:function(){e.setState({isActive:!0})},onRelease:function(){e.setState({isActive:!1})}})},s.prototype._updated=function(){this._name&&!this._unsubscribe&&(this._unsubscribe=ir(this._name,this._onValueChange))},s.prototype._destroy=function(){this._unsubscribe&&(rr(this._name,this._unsubscribe),this._unsubscribe=void 0),this._unlisten&&this._unlisten()},s.defaults={position:"start"},s._name="Radio",s}(Fe)));var Nl=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s._selector="[mbsc-segmented]",s._renderOpt=Wo,s}(Ao),Il=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s._selector="[mbsc-segmented-group]",s._renderOpt=Uo,s}(Ro);var Hl=function(a){function s(){var e=a!==null&&a.apply(this,arguments)||this;return e._onChange=function(t){var n=e.s,r=e._round(+t.target.value);t.target.value=r+"",n.value===void 0&&e.setState({value:r}),e._change(r),n.onChange&&n.onChange(t)},e._onMinusClick=function(){e._setValue(e._value-e._step)},e._onPlusClick=function(){e._setValue(e._value+e._step)},e._setInput=function(t){e._input=t},e._onLabelClick=function(t){t.preventDefault()},e}return $(s,a),s.prototype._change=function(e){},s.prototype._mounted=function(){oe(this._input,Lt,this._onChange)},s.prototype._render=function(e,t){this._max=nt(e.max)?100:+e.max,this._min=nt(e.min)?0:+e.min,this._step=nt(e.step)?1:+e.step;var n=e.disabled===void 0?t.disabled:Qe(e.disabled),r=e.defaultValue!==void 0?e.defaultValue:this._min||0,i=e.modelValue!==void 0?e.modelValue:e.value,l=i!==void 0?i:t.value!==void 0?t.value:r;this._value=this._round(l),this._changed=this._value!==+l,this._disabled=n,this._disabledMinus=this._value===this._min||n,this._disabledPlus=this._value===this._max||n,this._cssClass="mbsc-stepper mbsc-form-control-wrapper mbsc-font mbsc-"+(e.color||"color-none")+this._theme+this._rtl+this._hb+" mbsc-stepper-"+e.inputPosition+(n?" mbsc-disabled":"")},s.prototype._updated=function(){this._input.value=this._value+"",this._changed&&(ja(this._input,Lt),this._changed=!1)},s.prototype._destroy=function(){se(this._input,Lt,this._onChange)},s.prototype._round=function(e){var t=this._step,n=Math.abs(t)<1?(t+"").split(".")[1].length:0;return+Math.min(this._max,Math.max(Math.round(e/t)*t,this._min)).toFixed(n)},s.prototype._setValue=function(e){var t=+this._input.value,n=this._round(e);t!==n&&(this._input.value=n+"",ja(this._input,Lt))},s.defaults={inputPosition:"center"},s._name="Stepper",s}(Fe),Ll={readProps:["disabled","type","min","max","step"],renderToParent:!0,before:function(a,s){var e=a.parentNode,t=he.createElement("div");e.insertBefore(t,a),t.appendChild(a),s.defaultValue=+a.value,s.inputClass=a.getAttribute("class")||"";var n=he.createElement("div");e.insertBefore(n,t)}},Yl=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s._selector="[mbsc-stepper]",s._renderOpt=Ll,s}(function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),Object.defineProperty(s.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,this.setState({value:e})},enumerable:!0,configurable:!0}),s.prototype._template=function(e){return function(t,n){var r=n.props;r.children,r.className,r.color,r.defaultValue;var i=r.description;r.inputClass,r.inputPosition;var l=r.label;r.onChange,r.rtl,r.theme,r.themeVariant,r.value;var d=dt(r,["children","className","color","defaultValue","description","inputClass","inputPosition","label","onChange","rtl","theme","themeVariant","value"]),u=n._theme;return m("label",{className:n._cssClass,onClick:n._onLabelClick},m("div",{className:"mbsc-stepper-content"},l&&m("span",{className:"mbsc-stepper-label"+u+(n._disabled?" mbsc-disabled":"")},l),i&&m("span",{className:"mbsc-description"+u+(n._disabled?" mbsc-disabled":"")},i)),m("div",{className:"mbsc-stepper-control mbsc-flex"+u+n._rtl},m(ct,{className:"mbsc-stepper-minus mbsc-stepper-button",disabled:n._disabledMinus,onClick:n._onMinusClick,theme:t.theme,themeVariant:t.themeVariant},m("span",{className:"mbsc-stepper-inner"+u},"\u2013")),m("input",W({className:"mbsc-stepper-input"+(n._disabled?" mbsc-disabled":"")+" "+(t.inputClass||"")+u,disabled:n._disabled,max:n._max,min:n._min,ref:n._setInput,step:n._step,type:"number"},d)),m(ct,{className:"mbsc-stepper-plus mbsc-stepper-button",disabled:n._disabledPlus,onClick:n._onPlusClick,theme:t.theme,themeVariant:t.themeVariant},m("span",{className:"mbsc-stepper-inner"+u},"+"))))}(e,this)},s}(Hl));var Ol=function(a){function s(){var e=a!==null&&a.apply(this,arguments)||this;return e._onChange=function(t){var n=e.s,r=t.target.checked;t.stopPropagation(),n.checked===void 0&&e.setState({checked:r}),e._change(r),n.onChange&&n.onChange(t)},e._setInput=function(t){e._input=t},e._setHandleCont=function(t){e._handleCont=t},e._setHandle=function(t){e._handle=t},e._onLabelClick=function(t){t.preventDefault()},e}return $(s,a),s.prototype._change=function(e){},s.prototype._setHandleLeft=function(e){this._handle.style.left=e+"%"},s.prototype._mounted=function(){var e,t,n,r,i,l=this;oe(this._input,at,this._onChange),this._inputUnlisten=$e(this._input,{onBlur:function(){l.setState({hasFocus:!1})},onFocus:function(){l._disabled||l.setState({hasFocus:!0})}}),this._unlisten=$e(this._el,{click:!1,onEnd:function(d){if(!l._disabled&&!i){if(r){var u=Math.abs(d.deltaX)<3&&Math.abs(d.deltaY)<3,o=+new Date-n>300,c=u&&!o?!l._checked:l._handleLeft>=50;c!==l._checked&&(l._input.click(),l._change(c)),r=!1}l.setState({dragging:!1,isActive:!1})}},onMove:function(d){var u=d.domEvent,o=l.state.dragging;if(!l._disabled&&!i&&r&&e&&(Math.abs(d.deltaX)>5&&(o=!0,l.setState({dragging:!0})),o)){u.cancelable&&u.preventDefault();var c=(d.startX-t)/e*100,_=Math.max(Math.min(c,100),0)+d.deltaX/e*100,h=Math.max(Math.min(_,100),0);l._handleLeft=h,l._setHandleLeft(h)}!o&&!i&&Math.abs(d.deltaY)>7&&u.type==="touchmove"&&(i=!0,l.setState({isActive:!1}))},onStart:function(d){l._disabled||(i=!1,e=l._handleCont.clientWidth,t=cs(l._handleCont).left,n=+new Date,(d.domEvent.target===l._handleCont||l._handleCont.contains(d.domEvent.target))&&(r=!0),l.setState({isActive:!0}))}}),this._setHandleLeft(this._handleLeft)},s.prototype._render=function(e,t){var n=e.disabled===void 0?t.disabled:Qe(e.disabled),r=e.position==="start"?e.rtl?"right":"left":e.rtl?"left":"right",i=e.color!==void 0?" mbsc-switch-"+e.color:"",l=e.modelValue!==void 0?e.modelValue:e.checked;if(this._disabled=n,this._checked=l!==void 0?Qe(l):t.checked===void 0?Qe(e.defaultChecked):t.checked,this._cssClass="mbsc-switch mbsc-form-control-wrapper mbsc-font "+this._className+this._theme+this._rtl+this._hb+" mbsc-switch-"+r+(n?" mbsc-disabled":""),!t.dragging){var d=this._checked?100:0;d!==this._handleLeft&&this._handle&&this._setHandleLeft(d),this._handleLeft=d}this._handleContClass="mbsc-switch-track mbsc-switch-track-"+r+this._theme+i+(this._checked?" mbsc-checked":"")+(n?" mbsc-disabled":"")+(t.hasFocus?" mbsc-focus":"")+(t.isActive?" mbsc-active":""),this._handleClass="mbsc-switch-handle"+this._theme+i+(t.dragging?"":" mbsc-switch-handle-animate")+(this._checked?" mbsc-checked":"")+(this.state.isActive?" mbsc-active":"")+(n?" mbsc-disabled":"")+(this.state.hasFocus?" mbsc-focus":"")},s.prototype._destroy=function(){se(this._input,at,this._onChange),this._unlisten&&this._unlisten(),this._inputUnlisten&&this._inputUnlisten()},s.defaults={position:"end"},s._name="Switch",s}(Fe),Pl={hasChildren:!0,parentClass:"mbsc-form-control-label",readProps:["disabled"],renderToParent:!0,before:function(a,s){s.defaultChecked=a.checked}},Fl=function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),s._selector="[mbsc-switch]",s._renderOpt=Pl,s}(function(a){function s(){return a!==null&&a.apply(this,arguments)||this}return $(s,a),Object.defineProperty(s.prototype,"checked",{get:function(){return this._checked},set:function(e){this._checked=e,this.setState({checked:e})},enumerable:!0,configurable:!0}),s.prototype._template=function(e){return function(t,n,r){var i=n.props;i.children,i.className,i.color,i.defaultChecked;var l=i.description,d=i.hasChildren;i.inputStyle;var u=i.label;i.modelValue,i.onChange,i.position,i.rtl,i.theme,i.themeVariant;var o=dt(i,["children","className","color","defaultChecked","description","hasChildren","inputStyle","label","modelValue","onChange","position","rtl","theme","themeVariant"]);return m("label",{className:n._cssClass,ref:n._setEl,onClick:n._onLabelClick},m("input",W({type:"checkbox",className:"mbsc-form-control-input mbsc-reset",onChange:na,disabled:n._disabled,checked:n._checked,ref:n._setInput},o)),m("span",{className:n._handleContClass,ref:n._setHandleCont},m("span",{className:n._handleClass,ref:n._setHandle})),(u||d)&&m("span",{className:"mbsc-form-control-label"+n._theme+(n._disabled?" mbsc-disabled":"")},u),l&&m("span",{className:"mbsc-description"+n._theme+(n._disabled?" mbsc-disabled":"")},l),r)}(0,this,e.children)},s}(Ol));Xe(fl),Xe(yl),Xe(Dl),Xe(pl),Xe(Tl),Xe(ml),Xe(Sl),Xe(wl),Xe(El),Xe(Nl),Xe(Il),Xe(Yl),Xe(Fl),Xe(Xo),Xe(qo),Xe(Go),Xe(jo),mt.fw="javascript",Ps.datetime=kr,Ps.http=Or;function Vl(){return{async init(){ki({});let a=await(async()=>await this.$wire.getResources())();var s=hr(this.$el,{view:{timeline:{type:"week",size:2,startTime:"08:00",endTime:"21:00"}},resources:a,onEventClick:(e,t)=>{this.$wire.onEventClick()},onPageLoading:async(e,t)=>{let n=await this.$wire.getEvents();t.setEvents(n)}});window.addEventListener("test",async()=>{let e=await this.$wire.getEvents();s.setEvents(e),s.setOptions({view:{timeline:{type:"month"}}})})},markup:'<div id="demo-display-multiple-days-weeks-months"></div>'}}export{Vl as default};
